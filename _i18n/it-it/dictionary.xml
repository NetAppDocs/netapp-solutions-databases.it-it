<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="d1029167179320d8b6d70b11c3d01bd3" category="list-text">Requisiti per il nodo di controllo Ansible:</block>
  <block id="5c263f30899f93ff7ccd457ad3eb956f" category="list-text">Una macchina RHEL/CentOS con i seguenti pacchetti installati:</block>
  <block id="ca60b3698dd3d27a5f91e4dc0a1a2546" category="list-text">Python3</block>
  <block id="4ce3ea126bb844d4f8c4ce1a65cbe3ae" category="list-text">Pip3</block>
  <block id="881cbd1ce3fdb52f73a82f8674a2a364" category="list-text">Ansible (versione successiva alla 2.10.0)</block>
  <block id="0bcc70105ad279503e31fe7b3f47b665" category="list-text">Git</block>
  <block id="7b643b0eef9cf1199195fa05b77fc3c8" category="paragraph">Se si dispone di una nuova macchina RHEL/CentOS senza i requisiti sopra indicati installati, seguire i passaggi sottostanti per configurare tale macchina come nodo di controllo Ansible:</block>
  <block id="d2052f202108defaf6afc7831ba59362" category="list-text">Abilita il repository Ansible per RHEL-8/RHEL-7</block>
  <block id="61fbc2f21db84f17551fda6893429d16" category="list-text">Per RHEL-8 (eseguire il comando sottostante come root)</block>
  <block id="77cd42f765e6b40764459a64a979f90c" category="list-text">Per RHEL-7 (eseguire il comando sottostante come root)</block>
  <block id="675f82a779038c3f679b04bc0aadca1a" category="list-text">Incolla il contenuto sottostante nel Terminale</block>
  <block id="9ced761647f5d80fe615526ffff63937" category="list-text">Una macchina Ubuntu/Debian con i seguenti pacchetti installati:</block>
  <block id="6e3d8a0ff7934b777031953fe936bac8" category="paragraph">Se si dispone di una nuova macchina Ubuntu/Debian senza i requisiti sopra indicati installati, seguire i passaggi sottostanti per configurare tale macchina come nodo di controllo Ansible:</block>
  <block id="56ee829a33ac57c3b6d427e35b3b2e86" category="list-text">Incolla il contenuto sottostante nel terminale</block>
  <block id="c4053f20c3fe50fe899484a64367439e" category="list-text">Configurare le credenziali.</block>
  <block id="61efb6ce79debd57f1e5eb28b08f94ba" category="list-text">Creare tipi di credenziali. Per le soluzioni che coinvolgono ONTAP, è necessario configurare il tipo di credenziale in modo che corrisponda alle voci di nome utente e password; aggiungeremo anche voci per Cloud Central e AWS.</block>
  <block id="c87e3da0a9f8d5eeacea4eac9bef80ea" category="list-text">Vai su Amministrazione → Tipi di credenziali e fai clic su Aggiungi.</block>
  <block id="e6bf632438290fdf98265b2b18943118" category="list-text">Fornire il nome e la descrizione.</block>
  <block id="5f5a0974b600f86bd4e77595282fcf70" category="list-text">Incolla il seguente contenuto nella Configurazione di input:</block>
  <block id="b95cd128bfca5d5c9181a46d0392c360" category="list-text">Incolla il seguente contenuto nella configurazione dell'iniettore e fai clic su Salva:</block>
  <block id="75f3f97810b5eef177a5355b86dabfd0" category="list-text">Crea credenziali per ONTAP/CVO/AWS</block>
  <block id="41dcc8a8aaaa79a511ba0ab4e6bde225" category="list-text">Vai su Risorse → Credenziali e fai clic su Aggiungi.</block>
  <block id="0a0aab79fb5a20fa5f830947226ef87c" category="list-text">Inserisci il nome e i dettagli dell'organizzazione per le credenziali ONTAP</block>
  <block id="81999e930ad44af27e84682c3ea1e750" category="list-text">Selezionare il tipo di credenziale creato nel passaggio precedente.</block>
  <block id="68085bee9e04417d4d9e74101a357a22" category="list-text">In Dettagli tipo, inserisci il nome utente e la password per i cluster di origine e CVO, Cloud Central/Manager, la chiave di accesso/segreta AWS e il token di aggiornamento Cloud Central.</block>
  <block id="c4be718383c8ca0aa17633d911fc38fd" category="list-text">Fare clic su Salva</block>
  <block id="922922f515b0ac072e20128999512b50" category="list-text">Crea credenziali per Oracle (fonte)</block>
  <block id="7ebca140d5dcaa006aeda44b19cfc52e" category="list-text">Inserisci il nome e i dettagli dell'organizzazione per l'host Oracle</block>
  <block id="9ef3fcc446a5f500717f9b5e9291bce4" category="list-text">Selezionare il tipo di credenziale Macchina.</block>
  <block id="9fadc5c4eed350a8a1423628227dad59" category="list-text">In Dettagli tipo, immettere il nome utente e la password per gli host Oracle.</block>
  <block id="b4ca3125325138b1dbfc309e6bd67b80" category="list-text">Selezionare il metodo di escalation dei privilegi corretto e immettere nome utente e password.</block>
  <block id="ca530facf78f2112c60ee838d85b9b5b" category="list-text">Crea credenziali per la destinazione Oracle</block>
  <block id="063e8368b0de123266b00f2c88e317fb" category="list-text">Immettere il nome e i dettagli dell'organizzazione per l'host Oracle DR</block>
  <block id="0d28c8cc8415971cf2cd02507176bf94" category="list-text">In Dettagli tipo, inserisci il nome utente (ec2-user o se lo hai modificato rispetto al valore predefinito inseriscilo) e la chiave privata SSH</block>
  <block id="cb8f433dfb62a17f7a02f4d7a8839b1c" category="list-text">Selezionare il metodo di escalation dei privilegi corretto (sudo) e immettere il nome utente e la password, se necessario.</block>
  <block id="761c6650d41a55d48a8779f30441d410" category="paragraph">[.sottolineato]*Pianificazione del playbook di replica binaria e del database*</block>
  <block id="0676783b7d49061bfb23deb83b2d2f82" category="paragraph">*Configura e avvia il modello di lavoro.*</block>
  <block id="2c777d857235f251004d6d8d70c9751d" category="list-text">Copiare il modello di lavoro creato in precedenza.</block>
  <block id="3624b34cb634949984bcb28c79fd327f" category="list-text">Vai a Risorse → Modelli.</block>
  <block id="1eb977b1f69b531db931e9c62c1a0de9" category="list-text">Trova il modello di configurazione ONTAP/CVO e all'estrema destra fai clic su Copia modello</block>
  <block id="3c96e57d33780bedfb652def025f39de" category="list-text">Fare clic su Modifica modello sul modello copiato e modificare il nome in Playbook di replica binaria e database.</block>
  <block id="b07fb736e8c17cea7e9e3753e7a67fd1" category="list-text">Mantenere lo stesso inventario, progetto e credenziali per il modello.</block>
  <block id="f42c6e71dcb07b403b8393d5ab7f7fe4" category="list-text">Selezionare ora_replication_cg.yml come playbook da eseguire.</block>
  <block id="69fa06239fd734936aac1af5250c7f57" category="list-text">Le variabili rimarranno le stesse, ma l'IP del cluster CVO dovrà essere impostato nella variabile dst_cluster_ip.</block>
  <block id="7557bd62e953fb4d48f07977151ea94f" category="list-text">Fare clic su Salva.</block>
  <block id="ec7445bbcbadd1f11fe1bc3e5e56eef9" category="list-text">Pianifica il modello di lavoro.</block>
  <block id="ce0d20e65f0354847807516cbcc696f6" category="list-text">Fare clic sul modello Playbook di replica binaria e database, quindi fare clic su Pianificazioni nel set di opzioni in alto.</block>
  <block id="d9a6405dc4a6cd71f6d77c749070a5e6" category="list-text">Fare clic su Aggiungi, aggiungere Nome pianificazione per la replica binaria e del database, scegliere la data/ora di inizio all'inizio dell'ora, scegliere il fuso orario locale e la frequenza di esecuzione.  La frequenza di esecuzione sarà frequente e la replica SnapMirror verrà aggiornata.</block>
  <block id="2dc4dec75c83aeb010419dc2a02da40b" category="admonition">Verrà creata una pianificazione separata per la replica del volume di registro, in modo che possa essere replicata con una cadenza più frequente.</block>
  <block id="cc36ca6e0e804cbe384af97fa6777784" category="paragraph">[.sottolineato]*Pianificazione del playbook di replicazione del log*</block>
  <block id="2e5aaa84bafa09b7962d4388f8ea75f5" category="paragraph">*Configura e avvia il modello di lavoro*</block>
  <block id="048f2ee27b8617cb0e13b6a0b7da956f" category="list-text">Fare clic su Modifica modello sul modello copiato e modificare il nome in Log Replication Playbook.</block>
  <block id="d4a86123c8e623e35eaa51ab9583e03b" category="list-text">Selezionare ora_replication_logs.yml come playbook da eseguire.</block>
  <block id="d6e504930da1d0732ea4162514a38e8e" category="list-text">Fare clic sul modello Log Replication Playbook, quindi su Pianificazioni nel set di opzioni in alto.</block>
  <block id="1c03188c731004905466903c2eb763c4" category="list-text">Fare clic su Aggiungi, aggiungere Nome pianificazione per la replica del registro, scegliere Data/ora di inizio all'inizio dell'ora, scegliere il fuso orario locale e Frequenza di esecuzione.  La frequenza di esecuzione sarà frequente e la replica SnapMirror verrà aggiornata.</block>
  <block id="d23bfe090a9fd09613c7a6573f619c02" category="admonition">Si consiglia di impostare la pianificazione del registro in modo che venga aggiornato ogni ora per garantire il ripristino all'ultimo aggiornamento orario.</block>
  <block id="50d33cb309a9ea4bacb0a5541498b670" category="list-text">Crea tipi di credenziali.  Per le soluzioni che coinvolgono ONTAP, è necessario configurare il tipo di credenziale in modo che corrisponda alle voci di nome utente e password.</block>
  <block id="c048e95ab07253cc1cb87bef130c410b" category="list-text">Incolla il seguente contenuto nella configurazione dell'iniettore e poi fai clic su Salva:</block>
  <block id="9302fe5c60a983a24bb8787c00db4862" category="list-text">Crea credenziali per ONTAP</block>
  <block id="1546222d368538c25b5704b5fcf160f5" category="list-text">In Dettagli tipo, immettere il nome utente e la password per i cluster di origine e di destinazione.</block>
  <block id="39f6f9fe82cbf0c0970d13b6a043ad84" category="list-text">Crea credenziali per Oracle</block>
  <block id="30d4be106e7fb63befec4c8c7c815ad0" category="list-text">Inserisci il nome e i dettagli dell'organizzazione per Oracle</block>
  <block id="61d6c643401e4a602f3c8b4b6fc0a93c" category="list-text">Se necessario, ripetere il processo per una credenziale diversa per l'host dr_oracle.</block>
  <block id="79e25855a129063cf2ce44e0ab92dbde" category="paragraph">[.sottolineato]* Configurazione ONTAP e CVO*</block>
  <block id="b1171f0b44b8d9b11ac555972ebc8c3b" category="list-text">Crea il modello di lavoro.</block>
  <block id="0fd181172a82ebe5219e9a30e5d97c0d" category="list-text">Vai su Risorse → Modelli → Aggiungi e fai clic su Aggiungi modello di lavoro.</block>
  <block id="6bc14a28f101e9d80ecc643ef13ef7fb" category="list-text">Inserisci il nome ONTAP/CVO Setup</block>
  <block id="a7244f663b97629084f004e6c89b4a75" category="list-text">Selezionare il tipo di lavoro; Esegui configura il sistema in base a un playbook.</block>
  <block id="daefcb84cec2b58089094a64cefb845f" category="list-text">Selezionare l'inventario, il progetto, il playbook e le credenziali corrispondenti per il playbook.</block>
  <block id="57344b3bd58c0e451513e303e45d49b7" category="list-text">Selezionare il playbook ontap_setup.yml per un ambiente On-Prem oppure selezionare cvo_setup.yml per la replica in un'istanza CVO.</block>
  <block id="ce150ce9cfe145db199958e7cd2ecce0" category="list-text">Incolla le variabili globali copiate dal passaggio 4 nel campo Variabili modello nella scheda YAML.</block>
  <block id="31e2568c13fbdaaad088eb3b665dea9d" category="list-text">Avvia il modello di lavoro.</block>
  <block id="56ae7378358ba2b1c55c47283f544991" category="list-text">Fare clic sul modello desiderato e quindi su Avvia.</block>
  <block id="41c1d72990c270d0221458749497c3e6" category="admonition">Utilizzeremo questo modello e lo copieremo per gli altri manuali.</block>
  <block id="8e43fbf8e210fdbb3e1d59ca59cde628" category="list-text">Fare clic su Modifica modello sul modello copiato e modificare il nome in Playbook di ripristino e ripristino.</block>
  <block id="42f2159b893bbf4b6bf098ba9a026a1c" category="list-text">Selezionare ora_recovery.yml come playbook da eseguire.</block>
  <block id="0a3fe9b740fe79971ae2379eaec4822c" category="admonition">Questo playbook non verrà eseguito finché non sarai pronto a ripristinare il database nel sito remoto.</block>
  <block id="5bbe8264b4d6c6787657c66d4017c183" category="doc">Configurazione VARS host</block>
  <block id="52320018ddc230fda7bdeccfda8b9f0a" category="doc">Dove rivolgersi per chiedere aiuto?</block>
  <block id="8a4b419d5126ba3004ad4d071ac8a766" category="list-text">Accedi al server Oracle come utente Oracle ed esegui i seguenti comandi:</block>
  <block id="f673434da0f39c1b4366cbc45f67da8a" category="admonition">Questo elencherà i processi Oracle se l'installazione è stata completata come previsto e Oracle DB è stato avviato</block>
  <block id="38333d478471b938020592b577fc16c2" category="list-text">Accedi al database per controllare le impostazioni di configurazione del database e i PDB creati con i seguenti set di comandi.</block>
  <block id="83669449150d17df292a91b9fdab8c54" category="paragraph">Ciò conferma che dNFS funziona correttamente.</block>
  <block id="b178089f1eac81c2c81eba2c223e2740" category="list-text">Connettersi al database tramite listener per verificare la configurazione del listener Oracle con il seguente comando.  Modificare la porta di ascolto e il nome del servizio di database appropriati.</block>
  <block id="9f4dc1f81d694d1c48953880d5be0ea7" category="paragraph">Ciò conferma che l'ascoltatore Oracle funziona correttamente.</block>
  <block id="1b6a5f8b328d3175066895d7ff5ea576" category="inline-link-macro">Canale Slack di supporto della community NetApp Solution Automation</block>
  <block id="12f178498803c606c23e7166dcefb0cb" category="paragraph">Se hai bisogno di aiuto con il toolkit, unisciti a noi<block ref="f1bb21e2ce6888d898ae31a2098245a1" category="inline-link-macro-rx"></block> e cerca il canale solution-automation per pubblicare le tue domande o richieste.</block>
  <block id="4bea7b97045c9b0e4ce9c8011fb9152f" category="summary">La soluzione fornisce un toolkit di automazione basato su Terraform per il provisioning del cluster FSx ONTAP e dell'istanza di elaborazione EC2</block>
  <block id="40fe82be1dcddf04fa06215186892fca" category="doc">Cluster AWS FSx ONTAP e provisioning di istanze EC2</block>
  <block id="1e7007fdca2061f9d6a2ce2a055e96ef" category="paragraph">Team di ingegneria delle soluzioni NetApp</block>
  <block id="eb5fc38b852160a5fb5ad993b7a41efe" category="paragraph">Questa soluzione fornisce un toolkit di automazione basato su Terraform per il provisioning del cluster FSx ONTAP e dell'istanza di elaborazione EC2.</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="section-title">Scopo</block>
  <block id="e3637f41b7212e1a66abdc03f5c26148" category="paragraph">Questo toolkit automatizza le attività di provisioning di un cluster di storage AWS FSx ONTAP e di un'istanza di elaborazione EC2, che possono essere successivamente utilizzate per la distribuzione del database.</block>
  <block id="e60de72a8067fd05498b03b24d9f93e7" category="paragraph">Questa soluzione affronta i seguenti casi d'uso:</block>
  <block id="03a4416e24ed4a9b0f3d357eb5ee56b6" category="list-text">Fornire un'istanza di elaborazione EC2 nel cloud AWS in una subnet VPC predefinita e impostare la chiave SSH per l'accesso all'istanza EC2 come ec2-user.</block>
  <block id="44188940066649e119396216339b4869" category="list-text">Fornire un cluster di storage AWS FSx ONTAP nelle zone di disponibilità desiderate, configurare una SVM di storage e impostare la password fsxadmin dell'utente amministratore del cluster.</block>
  <block id="ef1e6887c579ba81dcedc3f4e3793cd2" category="section-title">Pubblico</block>
  <block id="82aa3e78c2089a2941fb745bb8c72f01" category="paragraph">Questa soluzione è destinata alle seguenti persone:</block>
  <block id="8c695812e6b1d0da09e4112dcc98afd8" category="list-text">Un DBA che gestisce database nell'ambiente AWS EC2.</block>
  <block id="db0b5d976134ac432c6b546956e1fc38" category="list-text">Un architetto di soluzioni di database interessato alla distribuzione di database nell'ecosistema AWS EC2.</block>
  <block id="15c649f61e0d97ef85f0d2d224019197" category="list-text">Un amministratore di storage che gestisce lo storage AWS FSx ONTAP che supporta i database.</block>
  <block id="bb09d79b045e0d8930bca68ba2651754" category="list-text">Un proprietario di applicazioni a cui piace creare database nell'ecosistema AWS EC2.</block>
  <block id="794df3791a8c800841516007427a2aa3" category="section-title">Licenza</block>
  <block id="0baa4333d01c4608c10c4852824e68ad" category="inline-link-macro">File di licenza</block>
  <block id="0407397c670512dcadbf77a1ee9efa74" category="paragraph">Accedendo, scaricando, installando o utilizzando il contenuto di questo repository GitHub, accetti i termini della licenza stabiliti in<block ref="b109f24efb5af51bee6ff86849dfd222" category="inline-link-macro-rx"></block> .</block>
  <block id="eaec65e969505bc6e2570f344e081174" category="admonition">Esistono alcune restrizioni relative alla produzione e/o alla condivisione di lavori derivati dai contenuti di questo repository GitHub.  Prima di utilizzare il contenuto, assicurati di leggere i termini della licenza.  Se non accetti tutti i termini, non accedere, scaricare o utilizzare i contenuti di questo repository.</block>
  <block id="77e4d80ae2f4257081e17476b146608a" category="section-title">Distribuzione della soluzione</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="section-title">Prerequisiti per la distribuzione</block>
  <block id="fd10b9eacfe4eed8040bda8cae9ea050" category="paragraph">Per la distribuzione sono richiesti i seguenti prerequisiti.</block>
  <block id="fae7cbbd0ae5df13f97c6dfeea641d7c" category="section-title">Scarica il toolkit</block>
  <block id="27fdb8c570948be4eb4398435585214b" category="section-title">Connettività e autenticazione</block>
  <block id="c69ff338618074e4998292b223cb19e5" category="paragraph">Il toolkit dovrebbe essere eseguito da una shell cloud AWS.  AWS Cloud Shell è una shell basata su browser che semplifica la gestione, l'esplorazione e l'interazione in modo sicuro con le risorse AWS.  CloudShell è pre-autenticato con le credenziali della console.  Sono preinstallati strumenti comuni di sviluppo e operativi, quindi non è richiesta alcuna installazione o configurazione locale.</block>
  <block id="0669fa7d1422db0d2c494b9d3a9ff1fe" category="section-title">Configurazione dei file Terraform provider.tf e main.tf</block>
  <block id="08fcc92ec353c4f98b1154a2f8544890" category="paragraph">Il file provider.tf definisce il provider da cui Terraform esegue il provisioning delle risorse tramite chiamate API.  Il file main.tf definisce le risorse e gli attributi delle risorse da fornire.  Di seguito alcuni dettagli:</block>
  <block id="67761b4e694cd5f5a45c4ed0cc314099" category="section-title">Configurazione di Terraform variables.tf e terraform.tfvars</block>
  <block id="fd5f90c196b871dc50ecaf85f49b1656" category="paragraph">Il file variables.tf dichiara le variabili da utilizzare in main.tf.  Il file terraform.tfvars contiene i valori effettivi delle variabili.  Di seguito alcuni esempi:</block>
  <block id="7215ebabbf870f26836f50f66cc5b6fd" category="section-title">Procedure passo passo - eseguite in sequenza</block>
  <block id="43c9b395c61de869dc87f1da35eed2e4" category="list-text">Installa Terraform in AWS Cloud Shell.</block>
  <block id="fc3090054fced18dc06b7eb57b234758" category="list-text">Scarica il toolkit dal sito pubblico NetApp GitHub</block>
  <block id="a9c7e2c70153c59e87147abf329cbb29" category="list-text">Eseguire init per inizializzare Terraform</block>
  <block id="3165803a1a69113b1f417123a736b5ac" category="list-text">Emettere il piano di esecuzione</block>
  <block id="fbe54173b4068c6e761f53f237a17b68" category="list-text">Applicare il piano di esecuzione</block>
  <block id="17f070e48ce0935f57d600652c3c8f21" category="list-text">Esegui destroy per rimuovere le risorse al termine</block>
  <block id="4bb047f8c530785002e490ef17fa725e" category="section-title">Dove trovare ulteriori informazioni</block>
  <block id="a6530f7b86636a9b3f5ae396fad90aca" category="inline-link-macro">Automazione delle soluzioni NetApp ^</block>
  <block id="5824e315907398c1aa7941abbed12132" category="paragraph">Per saperne di più sull'automazione della soluzione NetApp , consultare il seguente sito Web<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block></block>
  <block id="7e68fdcdfd32073adeaee9e4bd613f62" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato.</block>
  <block id="e1655476f44fb9ae3929b4294709cd58" category="doc">TR-4987: Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS</block>
  <block id="7e6f7643afec42d9c47efa933debef3e" category="paragraph">Allen Cao, Niyaz Mohamed, NetApp</block>
  <block id="0f2184f93ef197858e7e8ff357370b7c" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato.</block>
  <block id="9dba703b69ec43e6d3b93ebe9143b7bc" category="paragraph">Eseguire carichi di lavoro Oracle ad alte prestazioni e sensibili alla latenza nel cloud può essere impegnativo.  Azure NetApp Files (ANF) semplifica la migrazione e l'esecuzione di carichi di lavoro Oracle impegnativi per i professionisti delle linee di business (LOB) e dell'archiviazione, senza dover modificare il codice.  Azure NetApp Files è ampiamente utilizzato come servizio di archiviazione file condiviso sottostante in vari scenari, ad esempio nuove distribuzioni o migrazioni (lift and shift) di database Oracle da locali ad Azure.</block>
  <block id="71dc864bb8cdf05644d9a323eb255160" category="paragraph">Questa documentazione illustra la distribuzione semplificata dei database Oracle nei file di Azure NetApp tramite montaggi NFS utilizzando l'automazione Ansible.  Il database Oracle viene distribuito in una configurazione di database contenitore (CDB) e database collegabili (PDB) con protocollo Oracle dNFS abilitato per aumentare le prestazioni.  Inoltre, il database Oracle a istanza singola locale o PDB può essere migrato in un database contenitore appena distribuito in Azure utilizzando una metodologia di rilocazione PDB automatizzata con un'interruzione minima del servizio.  Fornisce inoltre informazioni sul backup, il ripristino e la clonazione rapidi del database Oracle con lo strumento NetApp SnapCenter UI in Azure Cloud.</block>
  <block id="5ddba5a30df05b067a7f1c29425f8ebe" category="list-text">Distribuzione automatizzata del database del contenitore Oracle sui file di Azure NetApp</block>
  <block id="48c81fe5bacafca589a05c9d8b99cea6" category="list-text">Migrazione automatizzata del database Oracle tra locale e cloud Azure</block>
  <block id="8d80eec422e5f3f1e3a978925d495397" category="list-text">Un DBA che vorrebbe distribuire Oracle su Azure NetApp Files.</block>
  <block id="3f13d9adda12e73807626015fc986092" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle su Azure NetApp Files.</block>
  <block id="7bbba384efcd8c1f1760837638bad8f5" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle su Azure NetApp Files.</block>
  <block id="39ab0d44839c151a3d462df3c663cbfa" category="list-text">Un proprietario di un'applicazione che vorrebbe creare un database Oracle su Azure NetApp Files.</block>
  <block id="d17a638ff086388dc5bfbe98528ccfab" category="section-title">Ambiente di test e convalida della soluzione</block>
  <block id="5d864181a518d8551d707a300d1fdaa0" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio che potrebbe non corrispondere all'ambiente di distribuzione finale.  Vedi la sezione<block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> per maggiori informazioni.</block>
  <block id="2d242bb36ec91b32005f9296ff03a912" category="section-title">Architettura</block>
  <block id="60eafe38e4de145948f4622ffcf3fecf" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato della configurazione di distribuzione di Oracle nel cloud pubblico AWS con iSCSI e ASM.</block>
  <block id="536da40446e056455d54a3850ad13053" category="paragraph"><block ref="536da40446e056455d54a3850ad13053" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34d0b9b49aa480630e91a3619ba7ffb2" category="section-title">Componenti hardware e software</block>
  <block id="958c530ea1ae0e18b942f8784148734c" category="cell">*Hardware*</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="cell">Azure NetApp Files</block>
  <block id="e334cd79329c228cad2c140c5b8d1466" category="cell">Offerta attuale in Azure da parte di Microsoft</block>
  <block id="6c17db0cce1350a7ee8a752f7b961575" category="cell">Pool di capacità unica con livello di servizio Premium</block>
  <block id="337f2d0a9780863bf956cbd164244280" category="cell">VM di Azure per server DB</block>
  <block id="1ddc8f4b0d860fd1b7f66f65f3a2a4ff" category="cell">Standard_B4ms - 4 vCPU, 16 GiB</block>
  <block id="4624ccb0e1c638f541fe98d0cb590fc4" category="cell">Due istanze di macchine virtuali Linux per la distribuzione simultanea</block>
  <block id="c79e7f0c663764033ed88cf88db55c30" category="cell">VM di Azure per SnapCenter</block>
  <block id="5e29f32e9b6ef61ba5af29f3ff8d79ec" category="cell">Un'istanza di macchina virtuale Windows</block>
  <block id="7eef23b11d6e87eee968a9bef33fd707" category="cell">*Software*</block>
  <block id="8b56d55f3caeb71ab2513c28fb1a52fc" category="cell">RedHat Linux</block>
  <block id="582dc61cba794b1ebaa0f1d5a0ab6fd5" category="cell">RHEL Linux 8.6 (LVM) - x64 Gen2</block>
  <block id="fe6120dacb84838d71b1f43da1a3a514" category="cell">Abbonamento RedHat distribuito per i test</block>
  <block id="95a90af1d5b68afaa24b9f917e25e4ec" category="cell">Server Windows</block>
  <block id="c030b053d2fcc613e72470b248119720" category="cell">DataCenter 2022; Hotpatch Azure Edition - x64 Gen2</block>
  <block id="815500b6cb0b06f1db60bc89ea48ae53" category="cell">Hosting del server SnapCenter</block>
  <block id="c30dd1a85cf86d95b11c1a08f70130ce" category="cell">Database Oracle</block>
  <block id="8cbabca4a2c1b4268e8c216b1710182d" category="cell">Versione 19.18</block>
  <block id="a7c40910ade029baa6baa8b8e613db65" category="cell">Patch RU applicata p34765931_190000_Linux-x86-64.zip</block>
  <block id="a8b401bad03767cc28230a30d6556c5b" category="cell">Oracle OPatch</block>
  <block id="cc61533b1a42263eaadfd935441bb4b5" category="cell">Versione 12.2.0.1.36</block>
  <block id="8091f15fd8b9f1a609b3a98e8bcdda81" category="cell">Ultima patch p6880880_190000_Linux-x86-64.zip</block>
  <block id="f709ed2f05802131924f53cb483d0216" category="cell">Server SnapCenter</block>
  <block id="738e4f16a24a9e74c1f67ae2e7c02f3b" category="cell">Versione 5.0</block>
  <block id="72867dcacfff3a93a471e5f8c9489599" category="cell">Distribuzione del gruppo di lavoro</block>
  <block id="8ae78dca8fef9243be9f1089e2a97fb7" category="cell">Apri JDK</block>
  <block id="16e4f0fa15c5763a8b46a7276d96cf1c" category="cell">Versione java-11-openjdk</block>
  <block id="3782cc74a007a1871c7229f0fc16f9f4" category="cell">Requisiti del plugin SnapCenter sulle VM DB</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="46b9839969e4bc429da9cc245c756450" category="cell">Versione 3.0</block>
  <block id="bed44da4616a4ffa447c183fb1c3ca09" category="cell">Oracle dNFS abilitato</block>
  <block id="d51d5ee15f404c2f4f7863bebcde1fac" category="cell">Ansible</block>
  <block id="a033248533a019132f66d63d159e9310" category="cell">nucleo 2.16.2</block>
  <block id="fc70b7599e5ae1b544d73cf02fccc91a" category="cell">Python 3.6.8</block>
  <block id="696ee8cdabfa8fdd24a026188354d0b7" category="section-title">Configurazione del database Oracle nell'ambiente di laboratorio</block>
  <block id="40142fee915d9c636c34c1581018dfaa" category="cell">*Server*</block>
  <block id="7a8d3dc7f0e719542e9e706dbca4f3ec" category="cell">*Banca dati*</block>
  <block id="0086e85e653acc061fd4d7315e2fa26d" category="cell">*Archiviazione DB*</block>
  <block id="f1fc3d8c09aa84e7962b7352b4ff77d0" category="cell">ora-01</block>
  <block id="96767712a689a097a11e94abd86cc050" category="cell">NTAP1(NTAP1_PDB1,NTAP1_PDB2,NTAP1_PDB3)</block>
  <block id="45e595507a12edb8eba89711f9a72814" category="cell">/u01, /u02, /u03 montaggi NFS sul pool di capacità ANF</block>
  <block id="40a01cd2d5c81f8bbe1ed2d28d4cafaa" category="cell">ora-02</block>
  <block id="46be4f57ab41b19252133f7da26ea98c" category="cell">NTAP2(NTAP2_PDB1,NTAP2_PDB2,NTAP2_PDB3)</block>
  <block id="cd1aedf83959dd52fc058b9120f500e3" category="section-title">Fattori chiave per la considerazione dell'implementazione</block>
  <block id="71f5cff1bdc5f944cf1edf33ff9e411f" category="list-text">*Layout di archiviazione del database Oracle.*  In questa distribuzione Oracle automatizzata, per impostazione predefinita forniamo tre volumi di database per ogni database per ospitare file binari, dati e log di Oracle.  I volumi vengono montati sul server Oracle DB come /u01 - binario, /u02 - dati, /u03 - log tramite NFS.  Per ridondanza, i file di controllo doppi sono configurati sui punti di montaggio /u02 e /u03.</block>
  <block id="755e2a8326e346588d02e48b85b044a5" category="list-text">*Implementazione di più server DB.*  La soluzione di automazione può distribuire un database contenitore Oracle su più server DB in un'unica esecuzione del playbook Ansible.  Indipendentemente dal numero di server DB, l'esecuzione del playbook rimane la stessa.  È possibile distribuire più database contenitore su una singola istanza VM ripetendo la distribuzione con ID istanza database diversi (Oracle SID).  Ma assicurati che ci sia memoria sufficiente sull'host per supportare i database distribuiti.</block>
  <block id="d15b8c5aac4428cb7f6506c56eb633f5" category="list-text">*configurazione dNFS.*  Utilizzando dNFS (disponibile a partire da Oracle 11g), un database Oracle in esecuzione su una macchina virtuale di Azure può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  Per impostazione predefinita, la distribuzione automatizzata di Oracle configura dNFS su NFSv3.</block>
  <block id="d37225cccdfda955e0eb0ba299e4abd9" category="list-text">*Assegnare volumi di grandi dimensioni per accelerare la distribuzione.*  La velocità di trasmissione I/O del file system ANF è regolata in base alle dimensioni del volume.  Per la distribuzione iniziale, l'allocazione di volumi di grandi dimensioni può velocizzare la distribuzione.  Successivamente, i volumi possono essere ridimensionati dinamicamente senza alcun impatto sull'applicazione.</block>
  <block id="e1d479f830dc9bfc4ed574a1c8cc0c98" category="list-text">*Backup del database.*  NetApp fornisce una suite SnapCenter software per il backup, il ripristino e la clonazione del database con un'interfaccia utente intuitiva.  NetApp consiglia di implementare tale strumento di gestione per ottenere un backup snapshot rapido (in meno di un minuto), un ripristino rapido del database (in pochi minuti) e una clonazione del database.</block>
  <block id="2853404fffac22cebc324f82a3f1a9fe" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione automatizzata di Oracle 19c e la migrazione del database su Azure NetApp Files con volumi di database montati direttamente tramite NFS su VM di Azure.</block>
  <block id="cefb723f87cc807402d8139074dd7ba2" category="list-text">È stato configurato un account Azure e sono stati creati i segmenti di rete e VNet necessari all'interno dell'account Azure.</block>
  <block id="a73e5c65844b18c49122a8a79ef3fa65" category="inline-link-macro">Procedure di distribuzione Oracle dettagliate su Azure VM e Azure NetApp Files</block>
  <block id="9531533fef6109e5980a624b8d961d56" category="list-text">Dal portale cloud di Azure, distribuisci le VM Linux di Azure come server Oracle DB.  Creare un pool di capacità Azure NetApp Files e volumi di database per il database Oracle.  Abilita l'autenticazione con chiave privata/pubblica SSH della VM per azureuser sui server DB.  Per i dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.  Riferito anche a<block ref="e7ca3adb4ee235aaa10f6530a8b9fdf7" category="inline-link-macro-rx"></block> per informazioni dettagliate.</block>
  <block id="07f21d2d04d4d0605607368462f37f38" category="admonition">Per le VM di Azure distribuite con ridondanza del disco locale, assicurarsi di aver allocato almeno 128 GB nel disco radice della VM per avere spazio sufficiente per organizzare i file di installazione di Oracle e aggiungere il file di swap del sistema operativo.  Espandere di conseguenza le partizioni del sistema operativo /tmplv e /rootlv.  Aggiungere 1 GB di spazio libero a rootvg-homelv se è inferiore a 1 GB.  Assicurarsi che la denominazione del volume del database segua la convenzione VMname-u01, VMname-u02 e VMname-u03.</block>
  <block id="d39d360863f3fda3c5d615dc978e14ae" category="inline-link-macro">Installare il server SnapCenter</block>
  <block id="958a975d9bb698c899681bd5b20130f9" category="list-text">Dal portale cloud di Azure, predisponi un server Windows per eseguire lo strumento NetApp SnapCenter UI con la versione più recente.  Per maggiori dettagli fare riferimento al seguente link:<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block></block>
  <block id="0aff1c6d7de090edcae9c8e75a60de2a" category="inline-link-macro">Introduzione all'automazione delle soluzioni NetApp ^</block>
  <block id="e591b534830a9addfae6ff00f86de3d5" category="list-text">Fornire una VM Linux come nodo controller Ansible con installata l'ultima versione di Ansible e Git.  Per maggiori dettagli fare riferimento al seguente link:<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> nella sezione -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> O<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="a219cd1e2fd41772e39373e9c510f73b" category="admonition">Il nodo del controller Ansible può essere localizzato in locale o nel cloud di Azure, purché riesca a raggiungere le VM del database di Azure tramite la porta SSH.</block>
  <block id="1bd19d215e29e048034930d3b3953ef8" category="list-text">Clonare una copia del toolkit di automazione della distribuzione NetApp Oracle per NFS.</block>
  <block id="d15efb03f8ec068e9d6d6926f079f1b3" category="list-text">Fase successiva ai file di installazione di Oracle 19c nella directory /tmp/archive della VM di Azure DB con autorizzazione 777.</block>
  <block id="c7cce81dff9cf2d89de25a04e65022ff" category="list-text">Guarda il seguente video:</block>
  <block id="5fb0031d6dfea0b65cedbf5ef342e74c" category="video-title">Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS</block>
  <block id="0d7d691fad590aa9a630443ea67bd9e3" category="section-title">File dei parametri di automazione</block>
  <block id="fba0c848a47cb6bb0240eff0160df8c6" category="paragraph">Il playbook Ansible esegue attività di installazione e configurazione del database con parametri predefiniti.  Per questa soluzione di automazione Oracle, sono presenti tre file di parametri definiti dall'utente che necessitano dell'input dell'utente prima dell'esecuzione del playbook.</block>
  <block id="855c2f749e58e35ceee58f4017dc530f" category="list-text">host: definiscono i target su cui viene eseguito il playbook di automazione.</block>
  <block id="6f45aa108f0f48a8f2287aacfb4783b0" category="list-text">vars/vars.yml: il file delle variabili globali che definisce le variabili che si applicano a tutti i target.</block>
  <block id="b8e52c009307e1df8a80bbea8f5176d9" category="list-text">host_vars/host_name.yml: il file delle variabili locali che definisce le variabili che si applicano solo a una destinazione denominata.  Nel nostro caso d'uso, si tratta dei server Oracle DB.</block>
  <block id="0e67f9b1dd3b15c078e6f2a316790949" category="paragraph">Oltre a questi file di variabili definiti dall'utente, esistono diversi file di variabili predefiniti che contengono parametri predefiniti che non richiedono modifiche, a meno che non siano strettamente necessari.  Le sezioni seguenti mostrano come configurare i file delle variabili definite dall'utente.</block>
  <block id="20cc11da843aa0ce89fbbd78488ae8e4" category="section-title">Configurazione dei file dei parametri</block>
  <block id="d54f40d7ab3c0634ad1696cedcc056e5" category="list-text">Obiettivo Ansible<block ref="85cf4e6d42a71e693fd780c8b29accdd" prefix=" " category="inline-code"></block> configurazione dei file:</block>
  <block id="5a4926a405d0ccf33e709fb7c676de97" category="list-text">Globale<block ref="014d194d817c312b5ce910e74b4d3836" prefix=" " category="inline-code"></block> configurazione dei file</block>
  <block id="1a759fef0c9f698bb151c9b107a2fb30" category="list-text">Server DB locale<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> configurazione come ora_01.yml, ora_02.yml ...</block>
  <block id="3fde1508528c4b7e4e8ed67ccec6aa4a" category="section-title">Esecuzione del playbook</block>
  <block id="14d9db80ea19110225e53e6d5acbfd0a" category="paragraph">Il toolkit di automazione contiene in totale cinque playbook.  Ognuno di essi esegue blocchi di attività diversi e ha scopi diversi.</block>
  <block id="23dd50b88058bb1b19714aa9e0075a39" category="paragraph">Esistono tre opzioni per eseguire i playbook con i seguenti comandi.</block>
  <block id="0950679600889e0ecb0fcb4adff23fd9" category="list-text">Eseguire tutti i playbook di distribuzione in un'unica esecuzione combinata.</block>
  <block id="349525a68f403cd1f88f72915b15991b" category="list-text">Eseguire i playbook uno alla volta con la sequenza numerica da 1 a 4.</block>
  <block id="084e0a87eeeb8271a247c015eee77631" category="list-text">Eseguire 0-all_playbook.yml con un tag.</block>
  <block id="a9b2ae37ad24a5f409f16a4e39642547" category="list-text">Annulla l'ambiente</block>
  <block id="ea74dbc6158f42a810daaf43cd099b11" category="section-title">Convalida post-esecuzione</block>
  <block id="3ecdefb0fe9b92fb5dada4a1b9246b77" category="paragraph">Dopo l'esecuzione del playbook, accedi alla VM del server Oracle DB per verificare che Oracle sia installato e configurato e che un database contenitore sia stato creato correttamente.  Di seguito è riportato un esempio di convalida del database Oracle sull'host ora-01.</block>
  <block id="3eb5235599c703aade8d4a3ae8a6c244" category="list-text">Convalida i mount NFS</block>
  <block id="aabe8782eb2ec64b895e31945ebe1e42" category="list-text">Convalida l'ascoltatore Oracle</block>
  <block id="39182d8bb094516788625069e7ecaf1d" category="list-text">Convalida del database Oracle e dNFS</block>
  <block id="04bd1d337fb9a151a616cc5294c0c92a" category="list-text">Accedi a Oracle Enterprise Manager Express per convalidare il database.</block>
  <block id="5c77c055267014cd170539e91c06519a" category="inline-image-macro">Questa immagine fornisce la schermata di accesso per Oracle Enterprise Manager Express</block>
  <block id="85ebbf6138572e940325e081dbbe45e6" category="inline-image-macro">Questa immagine fornisce la vista del database del contenitore da Oracle Enterprise Manager Express</block>
  <block id="93e9015bbb23f8ac1dec4f2da478a5af" category="paragraph"><block ref="b500a0bc379f39e074bf4ed98e1ebd04" category="inline-image-macro-rx" type="image"></block> <block ref="8c7e4d6669b30ed5716e92fd32bc5fbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a9e92fed2a83eee60f3bac7ce51cbed" category="section-title">Migrare il database Oracle su Azure</block>
  <block id="3b99478aefcc6039ddcb29f19ce3f1ee" category="inline-link-macro">Migrazione del database da locale al cloud Azure</block>
  <block id="b7a4b3dc8366c7906ed251b94c62061b" category="paragraph">La migrazione del database Oracle da locale al cloud è un'operazione molto impegnativa.  Utilizzando la giusta strategia e l'automazione è possibile semplificare il processo e ridurre al minimo le interruzioni del servizio e i tempi di inattività.  Segui queste istruzioni dettagliate<block ref="f0df0b80af17528fa6d4c24c3c88e033" category="inline-link-macro-rx"></block> per guidare il tuo percorso di migrazione del database.</block>
  <block id="d372b360dda93a1ed98b047b474a8d14" category="section-title">Backup, ripristino e clonazione di Oracle con SnapCenter</block>
  <block id="7d5231eeeadfe71a5efcd24a1d5e0be9" category="inline-link-macro">Backup, ripristino e clonazione del database Oracle su ANF con SnapCenter</block>
  <block id="734e4448a9c61098f93b9002833a2d03" category="paragraph">NetApp consiglia lo strumento SnapCenter UI per gestire il database Oracle distribuito nel cloud Azure.  Fare riferimento a TR-4988:<block ref="807c75daf7e90625495755e44a290bc1" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="aa5a3d07c03024007dadc921fdbe67cb" category="paragraph">Per saperne di più sulle informazioni descritte nel presente documento, consultare i seguenti documenti e/o siti web:</block>
  <block id="807c75daf7e90625495755e44a290bc1" category="paragraph"><block ref="807c75daf7e90625495755e44a290bc1" category="inline-link-macro-rx"></block></block>
  <block id="855ff2118de8410b364ef10dd2bb08cf" category="inline-link-macro"><block ref="855ff2118de8410b364ef10dd2bb08cf" category="inline-link-rx"></block></block>
  <block id="cbadf086d67897b3b1aaeecf728b288c" category="paragraph"><block ref="cbadf086d67897b3b1aaeecf728b288c" category="inline-link-macro-rx"></block></block>
  <block id="03b3d2a7a581e28eade41b2069651904" category="list-text">Distribuzione di Oracle Direct NFS</block>
  <block id="54d61c6a6d7438a74568da42787fa14b" category="inline-link-macro"><block ref="54d61c6a6d7438a74568da42787fa14b" category="inline-link-rx"></block></block>
  <block id="a31fb0666cfd1ef716527d49b2f71a7a" category="paragraph"><block ref="a31fb0666cfd1ef716527d49b2f71a7a" category="inline-link-macro-rx"></block></block>
  <block id="8ae84196c6f373ef488c40b0b95e030d" category="list-text">Installazione e configurazione del database Oracle tramite file di risposta</block>
  <block id="ee622e67d0075e37fff43bbf337e98b2" category="inline-link-macro"><block ref="ee622e67d0075e37fff43bbf337e98b2" category="inline-link-rx"></block></block>
  <block id="2d94d091f5afb89e4f1aab002cef14a3" category="paragraph"><block ref="2d94d091f5afb89e4f1aab002cef14a3" category="inline-link-macro-rx"></block></block>
  <block id="6fe128158b3a49eb57fa5fd65f346285" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione automatizzate di Oracle nell'array NetApp ASA come storage di database primario con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando asm come gestore di volumi.</block>
  <block id="9f46a807ff699639e2cc7823e6e6af0c" category="doc">TR-4983: Distribuzione Oracle semplificata e automatizzata su NetApp ASA con iSCSI</block>
  <block id="bb58ec8ec1fa1b1ed0aed48ba069b683" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione automatizzate di Oracle nell'array NetApp ASA come storage di database primario con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando asm come gestore di volumi.</block>
  <block id="81874fefb73d3377cc2035212ff1140d" category="paragraph">I sistemi NetApp ASA offrono soluzioni moderne alla tua infrastruttura SAN.  Semplificano su larga scala e consentono di accelerare le applicazioni aziendali critiche, come i database, di garantire che i dati siano sempre disponibili (tempo di attività del 99,9999%) e di ridurre il TCO e l'impronta di carbonio.  I sistemi NetApp ASA includono modelli della serie A progettati per le applicazioni più esigenti in termini di prestazioni e modelli della serie C ottimizzati per distribuzioni convenienti e ad alta capacità.  Insieme, i sistemi ASA A-Series e C-Series offrono prestazioni eccezionali per migliorare l'esperienza del cliente e ridurre i tempi di raggiungimento dei risultati, mantenere i dati aziendali critici disponibili, protetti e sicuri e fornire una capacità più efficace per qualsiasi carico di lavoro, supportati dalla garanzia più efficace del settore.</block>
  <block id="57ae91c192e5448dfd58b60a55eaa521" category="paragraph">Questa documentazione illustra la distribuzione semplificata dei database Oracle in un ambiente SAN creato con sistemi ASA utilizzando l'automazione Ansible.  Il database Oracle è distribuito in una configurazione ReStart autonoma con protocollo iSCSI per l'accesso ai dati e Oracle ASM per la gestione dei dischi del database sull'array di archiviazione ASA .  Fornisce inoltre informazioni sul backup, il ripristino e la clonazione del database Oracle mediante lo strumento NetApp SnapCenter UI per un funzionamento efficiente del database in termini di storage nei sistemi NetApp ASA .</block>
  <block id="5e1389ae5f652921b9ffd76077a35898" category="list-text">Distribuzione automatizzata del database Oracle nei sistemi NetApp ASA come storage primario del database</block>
  <block id="2904575eaf0239e26839c87b5886427e" category="list-text">Backup e ripristino del database Oracle nei sistemi NetApp ASA utilizzando lo strumento NetApp SnapCenter</block>
  <block id="c9a02887c464e3024b4e7b8853bd3731" category="list-text">Clone del database Oracle per sviluppo/test o altri casi d'uso nei sistemi NetApp ASA utilizzando lo strumento NetApp SnapCenter</block>
  <block id="475d53db06ccc49c194cd167ad6b6a7c" category="list-text">Un DBA che vorrebbe implementare Oracle nei sistemi NetApp ASA .</block>
  <block id="489fc03d48bb97d0eaaf947d524863e3" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle nei sistemi NetApp ASA .</block>
  <block id="48b96d37ce8b7763e19ce55ff6b38bbc" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle sui sistemi NetApp ASA .</block>
  <block id="4d9a01e17799c2443651952a5571e588" category="list-text">Un proprietario di un'applicazione che vorrebbe installare un database Oracle nei sistemi NetApp ASA .</block>
  <block id="f8554b7127d48d5c30c710f4cca8e8d0" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato della configurazione di distribuzione di Oracle nel sistema NetApp ASA con iSCSI e ASM.</block>
  <block id="34f97fc8ba58a36a772e7d66c79328b2" category="paragraph"><block ref="34f97fc8ba58a36a772e7d66c79328b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50ca835c71c489ce33e359fe138d33a1" category="cell">NetApp ASA A400</block>
  <block id="4fec937db99b8a74dd5bef9285d0e4c0" category="cell">Versione 9.13.1P1</block>
  <block id="37f8b8f146367f24cfb85a152645d03f" category="cell">2 ripiani NS224, 48 unità NVMe AFF con capacità totale di 69,3 TiB</block>
  <block id="9c08b0397caf8f25e294bcbc2a0e51e0" category="cell">UCSB-B200-M4</block>
  <block id="e2ff57aae17fb4ecdf52974845c54701" category="cell">CPU Intel(R) Xeon(R) E5-2690 v4 a 2,60 GHz</block>
  <block id="c491601abe9558a73f61ab26d912bb5f" category="cell">Cluster VMware ESXi a 4 nodi</block>
  <block id="1c212a485e9ad2c1762d607a18b009c7" category="cell">Kernel RHEL-8.6, 4.18.0-372.9.1.el8.x86_64</block>
  <block id="42d321198a77603330bc430ffb26bda9" category="cell">Standard 2022, 10.0.20348 Build 20348</block>
  <block id="357401b243915afd7226703258f54f69" category="cell">Infrastruttura Oracle Grid</block>
  <block id="4cd47afc935feac95110477afb324f6f" category="cell">Patch RU applicata p34762026_190000_Linux-x86-64.zip</block>
  <block id="53a1507a1f45d24e7525d19279ab1ce7" category="cell">Versione 4.9P1</block>
  <block id="f53b4e7c2027602d331a4c185b942cc0" category="cell">VMware vSphere Hypervisor</block>
  <block id="1b0ad5208e7d764ed80119ac20af542d" category="cell">versione 6.5.0.20000</block>
  <block id="128d81403c72151caa28f9cb8909d048" category="cell">VMware Tools, versione: 11365 - Linux, 12352 - Windows</block>
  <block id="3848bc77489b71d744f003ab713f7429" category="cell">Versione java-1.8.0-openjdk.x86_64</block>
  <block id="460dc55b5ffb0266f2c889b06ee73344" category="cell">ora_01</block>
  <block id="4fb5214b8185c21390fdea76917c92a6" category="cell">LUN iSCSI su ASA A400</block>
  <block id="57fd581683176a30051cde40522ddce1" category="cell">ora_02</block>
  <block id="b0398625aacfb5d5b9822b7812c9b00b" category="list-text">*Layout di archiviazione del database Oracle.*  In questa distribuzione Oracle automatizzata, per impostazione predefinita forniamo quattro volumi di database per ospitare file binari, dati e log di Oracle.  Creiamo quindi due gruppi di dischi ASM dai dati e dai log LUN.  All'interno del gruppo di dischi asm +DATA, forniamo due LUN di dati in un volume su ciascun nodo del cluster ASA A400 .  All'interno del gruppo di dischi asm +LOGS, creiamo due LUN in un volume di registro su un singolo nodo ASA A400 .  In generale, disporre più LUN all'interno di un volume ONTAP garantisce prestazioni migliori.</block>
  <block id="0d4f29ed9e7a7e62ee7c1007f59cf4fd" category="list-text">*Implementazione di più server DB.*  La soluzione di automazione può distribuire un database contenitore Oracle su più server DB in un'unica esecuzione del playbook Ansible.  Indipendentemente dal numero di server DB, l'esecuzione del playbook rimane la stessa.  In caso di distribuzioni di server multi-DB, il playbook si basa su un algoritmo per posizionare in modo ottimale le LUN del database sui doppi controller di ASA A400 .  I LUN binari e di registro del server DB con numero dispari negli host del server sono indicizzati sul controller 1.  I LUN binari e di registro del server DB con numeri pari negli host del server sono indicizzati sul controller 2.  I dati LUN del DB sono distribuiti uniformemente tra due controller.  Oracle ASM combina i LUN di dati su due controller in un singolo gruppo di dischi ASM per sfruttare appieno la potenza di elaborazione di entrambi i controller.</block>
  <block id="d736c1553b176f562bec3a52c7666a46" category="list-text">*Configurazione iSCSI.*  Le VM del database si connettono allo storage ASA tramite il protocollo iSCSI per l'accesso allo storage.  È necessario configurare percorsi doppi su ciascun nodo controller per la ridondanza e impostare iSCSI multi-path sul server DB per l'accesso multi-path all'archiviazione.  Abilitare i jumbo frame sulla rete di archiviazione per massimizzare le prestazioni e la produttività.</block>
  <block id="324218b4c8087f7e5c5645ab81e7e37f" category="list-text">*Livello di ridondanza di Oracle ASM da utilizzare per ogni gruppo di dischi Oracle ASM creato.*  Poiché ASA A400 configura l'archiviazione in RAID DP per la protezione dei dati a livello di disco del cluster, è necessario utilizzare<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> , il che significa che l'opzione non consente a Oracle ASM di eseguire il mirroring del contenuto del gruppo di dischi.</block>
  <block id="5b9eec312e4891b17065381671c7234b" category="list-text">*Backup del database.*  NetApp fornisce una suite SnapCenter software per il backup, il ripristino e la clonazione del database con un'interfaccia utente intuitiva.  NetApp consiglia di implementare tale strumento di gestione per ottenere un backup SnapShot rapido (meno di un minuto), un ripristino rapido del database (in pochi minuti) e una clonazione del database.</block>
  <block id="e75571d5f211bacdfc757d78a94b1174" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione e la protezione automatizzate di Oracle 19c in NetApp ASA A400 con LUN del database montati direttamente tramite iSCSI su DB VM in un singolo nodo. Riavviare la configurazione con Oracle ASM come gestore dei volumi del database.</block>
  <block id="2b6209b8cfa6394be638dd05678f5955" category="inline-link-macro">Guida dettagliata - ASA A400</block>
  <block id="31204f552767acd2692e7c823fa43de2" category="list-text">Si presuppone che l'array di archiviazione NetApp ASA sia stato installato e configurato.  Ciò include il dominio di broadcast iSCSI, i gruppi di interfaccia LACP a0a su entrambi i nodi controller, le porte VLAN iSCSI (a0a-&lt;iscsi-a-vlan-id&gt;, a0a-&lt;iscsi-b-vlan-id&gt;) su entrambi i nodi controller.  Il seguente link fornisce istruzioni dettagliate passo dopo passo nel caso in cui sia necessario aiuto.<block ref="dac36656cf4136f69adb63b41114dcfc" category="inline-link-macro-rx"></block></block>
  <block id="22743347e11c05a6ceecf7b35ad046d4" category="list-text">Fornire una VM Linux come nodo controller Ansible con installata l'ultima versione di Ansible e Git.  Per maggiori dettagli fare riferimento al seguente link:<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> nella sezione -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> O<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="4b7f6d2449e34b4ea603f0da9f1fbe25" category="list-text">Clonare una copia del toolkit di automazione della distribuzione NetApp Oracle per iSCSI.</block>
  <block id="21b9d06e7d54191458538a265ac76c29" category="list-text">Fornire un server Windows per eseguire lo strumento NetApp SnapCenter UI con la versione più recente.  Per maggiori dettagli fare riferimento al seguente link:<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block></block>
  <block id="708e23b82d10932400d291c3e2b3bc71" category="list-text">Creare due server RHEL Oracle DB, bare metal o VM virtualizzata.  Creare un utente amministratore sui server DB con sudo senza privilegi di password e abilitare l'autenticazione con chiave privata/pubblica SSH tra l'host Ansible e gli host del server DB Oracle.  Fase successiva ai file di installazione di Oracle 19c nella directory /tmp/archive dei server DB.</block>
  <block id="bed197af3286bd48fb98fb5ab7c412e8" category="admonition">Assicurati di aver allocato almeno 50 G nel volume root di Oracle VM per avere spazio sufficiente per organizzare i file di installazione di Oracle.</block>
  <block id="7c0e65d458719c1a00061043a5c9b695" category="video-title">Distribuzione Oracle semplificata e automatizzata su NetApp ASA con iSCSI</block>
  <block id="472b525267a1a194a67c4917378fdee0" category="list-text">host_vars/host_name.yml: il file delle variabili locali che definisce le variabili che si applicano solo a una destinazione locale.  Nel nostro caso d'uso, si tratta dei server Oracle DB.</block>
  <block id="cab5395d741aa9c28cd5c2a21d7a0d82" category="paragraph">Oltre a questi file di variabili definiti dall'utente, esistono diversi file di variabili predefiniti che contengono parametri predefiniti che non richiedono modifiche, a meno che non siano strettamente necessari.  Le sezioni seguenti mostrano come vengono configurati i file delle variabili definite dall'utente.</block>
  <block id="ca238f0541280751b05d697a897544e7" category="list-text">Server DB locale<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> configurazione</block>
  <block id="273fd96f97f0a813313984b6447b0c0a" category="paragraph">Il toolkit di automazione contiene in totale sei playbook.  Ognuno di essi esegue blocchi di attività diversi e ha scopi diversi.</block>
  <block id="4a14bc710ed72d934f5ba41fcf17501d" category="paragraph">Dopo l'esecuzione del playbook, accedi al server Oracle DB come utente Oracle per verificare che l'infrastruttura Oracle Grid e il database siano stati creati correttamente.  Di seguito è riportato un esempio di convalida del database Oracle sull'host ora_01.</block>
  <block id="4bdbd55cbefd29d973edca906ecf6bb7" category="list-text">Convalidare l'infrastruttura di rete e le risorse create.</block>
  <block id="a773c985c5b1ab20847bc20444a2ada8" category="admonition">Ignora il<block ref="6ea3b08636255f181e49cd8acbf4d75b" prefix=" " category="inline-code"></block> nei dettagli dello Stato.  Ciò è dovuto a un conflitto tra la registrazione manuale e dinamica del database e l'ascoltatore e può essere tranquillamente ignorato.</block>
  <block id="57f7f3c35be8fec41fec2c4cf2cd226c" category="list-text">Verificare che il driver del filtro ASM funzioni come previsto.</block>
  <block id="87f1f1a667c7926537b7a88ef5f5874f" category="paragraph"><block ref="e447fd004562055962b0dd7ff96b587e" category="inline-image-macro-rx" type="image"></block> <block ref="d832a1e78a4cf36ce36729c88f7de3b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="daacada39b443fddce73dce4738f4337" category="inline-image-macro">Questa immagine fornisce la vista del database PDB da Oracle Enterprise Manager Express</block>
  <block id="2def11668aff705fd4e20945f07cb239" category="paragraph"><block ref="2def11668aff705fd4e20945f07cb239" category="inline-image-macro-rx" type="image"></block></block>
  <block id="91935697a3dec69875fc666d39a8fef8" category="inline-link-macro">Oracle semplificato e autogestito in VMware Cloud su AWS con FSx ONTAP montato su guest</block>
  <block id="d49572b6f320bb9c7fb90a4c4fc671fe" category="paragraph">Fare riferimento a TR-4979<block ref="b3e18c7c22919dcba778748c61b50f2e" category="inline-link-macro-rx"></block> sezione<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> per i dettagli sulla configurazione SnapCenter e sull'esecuzione dei flussi di lavoro di backup, ripristino e clonazione del database.</block>
  <block id="6a56c935b27efdd9e9fde9e036ca687b" category="list-text">NETAPP ASA: ARRAY SAN ALL-FLASH</block>
  <block id="fa78b7e09f15ae55ea12cbcb34d44847" category="inline-link-macro"><block ref="fa78b7e09f15ae55ea12cbcb34d44847" category="inline-link-rx"></block></block>
  <block id="1d2dc43013dd6328b22d33484061bd50" category="paragraph"><block ref="1d2dc43013dd6328b22d33484061bd50" category="inline-link-macro-rx"></block></block>
  <block id="5424ed1a1b4c4815e1d1676f23aa1da4" category="list-text">Installazione di Oracle Grid Infrastructure per un server autonomo con una nuova installazione del database</block>
  <block id="a7410994d191ba6c350f0f764df86934" category="inline-link-macro"><block ref="a7410994d191ba6c350f0f764df86934" category="inline-link-rx"></block></block>
  <block id="094328bca120efd3d6fba90d69b806f8" category="paragraph"><block ref="094328bca120efd3d6fba90d69b806f8" category="inline-link-macro-rx"></block></block>
  <block id="2b77070b5c32e55f23537589ffd4f81f" category="list-text">Utilizzare Red Hat Enterprise Linux 8.2 con ONTAP</block>
  <block id="0a70ec939ee7a15f5b26fe9f48cb7667" category="inline-link-macro"><block ref="0a70ec939ee7a15f5b26fe9f48cb7667" category="inline-link-rx"></block></block>
  <block id="b37dd5ca6d78b3f11a3df8e7a9070fac" category="paragraph"><block ref="b37dd5ca6d78b3f11a3df8e7a9070fac" category="inline-link-macro-rx"></block></block>
  <block id="9defd6af131e71c31d1fe854d4bebe84" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione automatizzate di Oracle in Amazon FSx ONTAP come storage di database primario con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando Oracle asm come gestore di volumi.</block>
  <block id="3ec32ad563e52362b7be3ad6c2a06885" category="doc">TR-4986: Distribuzione Oracle semplificata e automatizzata su Amazon FSx ONTAP con iSCSI</block>
  <block id="f49a4d1c30b33e65fdb2c76442c2dd16" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione automatizzate di Oracle in Amazon FSx ONTAP come storage di database primario con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando Oracle asm come gestore di volumi.</block>
  <block id="dfc7d4d50944e079eb978ccd0af36909" category="paragraph">Amazon FSx ONTAP è un servizio di archiviazione che consente di avviare ed eseguire file system NetApp ONTAP completamente gestiti nel cloud AWS.  Offre le caratteristiche, le prestazioni, le capacità e le API familiari dei file system NetApp con l'agilità, la scalabilità e la semplicità di un servizio AWS completamente gestito.  Ti consente di gestire in tutta tranquillità i carichi di lavoro dei database più impegnativi, come Oracle, nel cloud AWS.</block>
  <block id="ad023f21227a34bd31c4a07a26c3ceeb" category="paragraph">Questa documentazione illustra la distribuzione semplificata dei database Oracle in un file system Amazon FSx ONTAP utilizzando l'automazione Ansible.  Il database Oracle è distribuito in una configurazione ReStart autonoma con protocollo iSCSI per l'accesso ai dati e Oracle ASM per la gestione dei dischi di archiviazione del database.  Fornisce inoltre informazioni sul backup, il ripristino e la clonazione del database Oracle tramite lo strumento NetApp SnapCenter UI per operazioni di database efficienti in termini di archiviazione nel cloud AWS.</block>
  <block id="36efee6c5a9ee80f8e017f827d0aa10f" category="list-text">Distribuzione automatizzata del database Oracle sul file system Amazon FSx ONTAP</block>
  <block id="67edc5be7c44db05533e39c0f055b6e1" category="list-text">Backup e ripristino del database Oracle sul file system Amazon FSx ONTAP utilizzando lo strumento NetApp SnapCenter</block>
  <block id="d9fdf48773f4a0e6b5b486cb7ec20ead" category="list-text">Clone del database Oracle per sviluppo/test o altri casi d'uso sul file system Amazon FSx ONTAP utilizzando lo strumento NetApp SnapCenter</block>
  <block id="b3dbcb0d704aa6ab5e0e9325ece5ed0a" category="list-text">Un DBA che desidera distribuire Oracle sul file system Amazon FSx ONTAP .</block>
  <block id="35c5697c1fb69cf8f643be61e3004cda" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle sul file system Amazon FSx ONTAP .</block>
  <block id="20434e12c335486055c3510da159f861" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle sul file system Amazon FSx ONTAP .</block>
  <block id="23daaf0d27ae240487b8a4d1938bc5ef" category="list-text">Un proprietario di un'applicazione che vorrebbe installare un database Oracle sul file system Amazon FSx ONTAP .</block>
  <block id="3bda535ecfc3f5746f88922464446b72" category="paragraph"><block ref="3bda535ecfc3f5746f88922464446b72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d7e4e3e15ade6aac7796a854a656276" category="cell">Archiviazione Amazon FSx ONTAP</block>
  <block id="f90fb2d1bd04ce25f4b6a79bead231a3" category="cell">Versione attuale offerta da AWS</block>
  <block id="ceafc9f8393b625e8cce03cbeba6e867" category="cell">Un cluster FSx HA nella stessa VPC e zona di disponibilità</block>
  <block id="6a79356b19d3b59e92b358357c5b9053" category="cell">Istanza EC2 per il calcolo</block>
  <block id="cc4def82629f09f253176dba801a85f0" category="cell">t2.xlarge/4vCPU/16G</block>
  <block id="7e6308718e9f24d724f497fc5ef23cd2" category="cell">Due istanze EC2 T2 xlarge EC2 per la distribuzione simultanea</block>
  <block id="53c4eb7bf80a61459560a0d2c63d513a" category="cell">LUN iSCSI sul file system Amazon FSx ONTAP</block>
  <block id="94b06bafed4a2fc40a5a6d7e8836f0e6" category="list-text">*Layout di archiviazione del database Oracle.*  In questa distribuzione Oracle automatizzata, per impostazione predefinita forniamo quattro volumi di database per ospitare file binari, dati e log di Oracle.  Un singolo LUN in un volume viene allocato al binario Oracle.  Creiamo quindi due gruppi di dischi ASM dai dati e dai log LUN.  All'interno del gruppo di dischi asm +DATA, forniamo due volumi di dati con due LUN in un volume.  All'interno del gruppo di dischi asm +LOGS, creiamo due LUN in un volume di registro.  In generale, disporre più LUN all'interno di un volume ONTAP garantisce prestazioni migliori.</block>
  <block id="515a6f662581dbf5fadf71e23b6029a6" category="list-text">*Implementazione di più server DB.*  La soluzione di automazione può distribuire un database contenitore Oracle su più server DB in un'unica esecuzione del playbook Ansible.  Indipendentemente dal numero di server DB, l'esecuzione del playbook rimane la stessa.  È possibile distribuire più database contenitore in una singola istanza EC2 con ID istanza database diversi (Oracle SID).  Ma assicurati che ci sia memoria sufficiente sull'host per supportare i database distribuiti.</block>
  <block id="d54a80e2830c5cb42b06497a7012bf36" category="list-text">*Configurazione iSCSI.*  Il server del database dell'istanza EC2 si connette allo storage FSx tramite il protocollo iSCSI.  Le istanze EC2 vengono generalmente distribuite con una singola interfaccia di rete o ENI.  L'unica interfaccia NIC trasporta sia il traffico iSCSI che quello applicativo.  È importante valutare il requisito di throughput I/O di picco del database Oracle analizzando attentamente il report Oracle AWR per scegliere l'istanza di elaborazione EC2 corretta che soddisfi sia i requisiti di throughput del traffico iSCSI che quelli dell'applicazione.  Inoltre, AWS EC2 limita generalmente ogni flusso TCP a 5 Gbps.  Ogni percorso iSCSI fornisce 5 Gbps (625 MBps) di larghezza di banda e potrebbero essere necessarie più connessioni iSCSI per supportare requisiti di throughput più elevati.</block>
  <block id="e20408188cf4521115d65495b7b67a54" category="list-text">*Livello di ridondanza di Oracle ASM da utilizzare per ogni gruppo di dischi Oracle ASM creato.*  Poiché Amazon FSx ONTAP è abilitato HA per la protezione dei dati a livello di disco del cluster, è necessario utilizzare<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> , il che significa che l'opzione non consente a Oracle ASM di eseguire il mirroring del contenuto del gruppo di dischi.</block>
  <block id="6775f2209818a69f1e1e3a6ed8b4aecf" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione e la protezione automatizzate di Oracle 19c sul file system Amazon FSx ONTAP con LUN del database montati direttamente tramite iSCSI sulla VM dell'istanza EC2 in un singolo nodo. Riavviare la configurazione con Oracle ASM come gestore dei volumi del database.</block>
  <block id="e7491272f69c8efda69a595782f44d45" category="list-text">È stato configurato un account AWS e sono stati creati i segmenti di rete e VPC necessari all'interno del tuo account AWS.</block>
  <block id="f71558e9ad22e37a70099d8b5d8ac06c" category="inline-link-macro">Guida utente per istanze Linux</block>
  <block id="960e137d6acb4fa6cfda82d7568472c0" category="list-text">Dalla console AWS EC2, distribuisci le istanze EC2 Linux come server Oracle DB.  Abilita l'autenticazione con chiave privata/pubblica SSH per ec2-user.  Per i dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.  Rivedere anche il<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="789982683d79fb5edc37dd0d0d6c384c" category="inline-link-macro">Creazione di file system FSx ONTAP</block>
  <block id="e9f28f95b2ecbfc3cf86cc05d9cdf07d" category="list-text">Dalla console AWS FSx, predisponi un file system Amazon FSx ONTAP che soddisfi i requisiti.  Rivedere la documentazione<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="3445b7a1a574c2ac22f90caa85f25371" category="list-text">I passaggi 2 e 3 possono essere eseguiti utilizzando il seguente toolkit di automazione Terraform, che crea un'istanza EC2 denominata<block ref="460dc55b5ffb0266f2c889b06ee73344" prefix=" " category="inline-code"></block> e un file system FSx denominato<block ref="8cbb7b3050d3c3aa08a529f429bc4555" prefix=" " category="inline-code"></block> .  Rivedere attentamente le istruzioni e modificare le variabili in base all'ambiente prima dell'esecuzione.  Il modello può essere facilmente modificato in base alle proprie esigenze di distribuzione.</block>
  <block id="0eeb89347dab000a6da0be3179446583" category="list-text">Fornire un'istanza EC2 Linux come nodo controller Ansible con l'ultima versione di Ansible e Git installata.  Per maggiori dettagli fare riferimento al seguente link:<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> nella sezione -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> O<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="1f9545764510c505dd39a46cecb920cf" category="list-text">Fase successiva ai file di installazione di Oracle 19c nelle istanze EC2 nella directory /tmp/archive.</block>
  <block id="29a85eb1ecf92566b79f102d023963d4" category="video-title">Distribuzione Oracle semplificata e automatizzata su Amazon FSx ONTAP con iSCSI</block>
  <block id="72ff430412347ee147549697444cc1b2" category="list-text">Convalida del database del contenitore Oracle sull'istanza EC2</block>
  <block id="c6d315df01ffba499100948d7f6d68c1" category="list-text">Convalida l'ascoltatore Oracle.</block>
  <block id="dd4284a741b150a5c9e18aa61fe4f607" category="list-text">Convalida Oracle ASM.</block>
  <block id="1ebaf7b44bfaeaa84f6f5f6b91336a43" category="paragraph"><block ref="a320703b5a8b98288585e716fce375bc" category="inline-image-macro-rx" type="image"></block> <block ref="7e8c508166a8e95a804f504d5ad27cab" category="inline-image-macro-rx" type="image"></block> <block ref="1c5f51a56c6a724c049c77ac53dd14c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="35f7c29efc923e8a7920a0b331095d71" category="list-text">Amazon FSx ONTAP</block>
  <block id="73bc97f640d8c1cae3fa624183216b41" category="inline-link-macro"><block ref="73bc97f640d8c1cae3fa624183216b41" category="inline-link-rx"></block></block>
  <block id="40285fa8e3dc4d66bfadb679f67dfde6" category="paragraph"><block ref="40285fa8e3dc4d66bfadb679f67dfde6" category="inline-link-macro-rx"></block></block>
  <block id="c421d122321bec48d6b30858f4e7b515" category="list-text">Amazon EC2</block>
  <block id="68253b5715937494905ba0cb9db91d2e" category="inline-link-macro"><block ref="be48c1546d351a5e48dcf4f28738754b" category="inline-link-rx"></block></block>
  <block id="6dcfba5adaa9302bd59dd5a601b947a2" category="paragraph"><block ref="95bfcff1050e9160bb2bd645993e8c18" category="inline-link-macro-rx"></block></block>
  <block id="aa3338034e5f9917e68fbffbd38a9bde" category="summary">Questa soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in NetApp AFF C-Series come storage di database primario con protocollo NFS.  Il database Oracle viene distribuito come database contenitore con dNFS abilitato.</block>
  <block id="11f3eb227b0ca48a26b66d16bfe3ff21" category="doc">TR-4992: Distribuzione Oracle semplificata e automatizzata su NetApp C-Series con NFS</block>
  <block id="1cb33c04f94de65f46eb6bcf23c859d8" category="paragraph">NetApp AFF C-Series è un sistema di storage flash ad alta capacità che rende l'all-flash più accessibile e conveniente per lo storage unificato.  Offre prestazioni sufficienti per molti carichi di lavoro di database Oracle di livello 1 o 2.  Grazie al software di gestione dati NetApp ONTAP , i sistemi AFF C-Series offrono efficienza leader del settore, flessibilità superiore, servizi dati di prima classe e integrazione cloud per aiutarti a scalare la tua infrastruttura IT, semplificare la gestione dei dati e ridurre i costi di storage e il consumo energetico.</block>
  <block id="e5a05a44ceadf873c0a817cdfcf109c3" category="paragraph">Questa documentazione illustra la distribuzione semplificata dei database Oracle in NetApp C-Series tramite montaggi NFS utilizzando l'automazione Ansible.  Il database Oracle viene distribuito in una configurazione di database contenitore (CDB) e database collegabili (PDB) con protocollo Oracle dNFS abilitato per aumentare le prestazioni.  Inoltre, la soluzione fornisce le migliori pratiche per la configurazione di reti di archiviazione e macchine virtuali di archiviazione (SVM) con protocollo NFS sui controller di archiviazione della serie C.  La soluzione include anche informazioni sul backup, il ripristino e la clonazione rapidi del database Oracle con lo strumento NetApp SnapCenter UI.</block>
  <block id="f0769fc3ef89fce80ed36eb7dcf99eda" category="list-text">Distribuzione automatizzata del database contenitore Oracle sui controller di storage NetApp C-Series.</block>
  <block id="8f0161a618bc32589831b9f8bf70f6db" category="list-text">Protezione e clonazione del database Oracle su C-Series con lo strumento SnapCenter UI.</block>
  <block id="c9b1fa3fdccdd94576d677ff3ddce437" category="list-text">Un DBA che vorrebbe implementare Oracle su NetApp C-Series.</block>
  <block id="1e2c69e839117d54a65f89aa1060c538" category="list-text">Un architetto di soluzioni di database che vorrebbe testare i carichi di lavoro Oracle su NetApp C-Series.</block>
  <block id="8723f9a870d9a4198ce59cc711b5f4fa" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle su NetApp C-Series.</block>
  <block id="c6eb7a53365fcf51f5713c3c85e14f49" category="list-text">Un proprietario di un'applicazione che vorrebbe installare un database Oracle su NetApp C-Series.</block>
  <block id="9868615f0d797dd2b1dea4a8582de61f" category="paragraph"><block ref="9868615f0d797dd2b1dea4a8582de61f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb2c46c282239d9c1f284fea93c79a3b" category="cell">NetApp C-Series C400</block>
  <block id="e0843363fa72773de427718dd92c0fc0" category="cell">ONTAP versione 9.13.1P3</block>
  <block id="32c395a2b06b9086d86d4dfe1bb80ffa" category="cell">Due ripiani per dischi / 24 dischi con capacità di 278 TiB</block>
  <block id="643264b15909ae5e928729543d262592" category="cell">VM per server DB</block>
  <block id="60484db4cc2fdb040058f86b98997415" category="cell">4 vCPU, 16 GiB di RAM</block>
  <block id="e7ef03a019ea637cdf77b74e359ddc3d" category="cell">Due istanze di VM Linux per la distribuzione simultanea</block>
  <block id="f5d8703c01271912567d6313da8dfc46" category="cell">VM per SnapCenter</block>
  <block id="a7883280fee68e09e925d0887123d673" category="cell">Un'istanza di macchina virtuale Windows</block>
  <block id="31d042536c6a7e341bd99c1fca5d1c46" category="cell">DataCenter x64 Gen2 del 2022</block>
  <block id="3721fcf1dad7c5c271fac2eb4f6aae73" category="cell">/u01, /u02, /u03 Montaggi NFS su volumi C400</block>
  <block id="4373e4a9fb75a8ec4b82860cd3ca1909" category="list-text">*configurazione dNFS.*  Utilizzando dNFS (disponibile a partire da Oracle 11g), un database Oracle in esecuzione su una DB VM può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  Per impostazione predefinita, la distribuzione automatizzata di Oracle configura dNFS su NFSv3.</block>
  <block id="ffcff30c73fd29ead74df7e471009447" category="list-text">*Bilanciamento del carico sulla coppia di controller C400.*  Disporre i volumi del database Oracle sui nodi del controller C400 in modo uniforme per bilanciare il carico di lavoro.  DB1 sul controller 1, DB2 sul controller 2 e così via.  Montare i volumi DB sul relativo indirizzo LIF locale.</block>
  <block id="9b5267ed46c15534d45129b35cae0c9b" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione automatizzata di Oracle 19c e informazioni sulla protezione e la clonazione del database Oracle dopo la distribuzione.</block>
  <block id="5ab526c2d8a23c39c3d68b1080ca3e89" category="inline-link">Guida dettagliata - AFF C400</block>
  <block id="92b608ca9ce1795976c4a2bf228d2099" category="list-text">Una coppia di controller di storage NetApp C-Series viene montata su rack, impilata e dotata dell'ultima versione del sistema operativo ONTAP installata e configurata.  Se necessario, fare riferimento a questa guida di installazione:<block ref="e88d834ba7a3375860b38af3a1d379dd" category="inline-link-rx"></block></block>
  <block id="9ed0a0ec8afe137ee719d175c28ddf02" category="list-text">Fornire due VM Linux come server Oracle DB.  Per i dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.</block>
  <block id="cfdfdf87e328d2403ba6f06ad54b7b47" category="paragraph">Abilita l'autenticazione tramite chiave pubblica/privata SSH tra il controller Ansible e le VM del database.</block>
  <block id="5df121953eda8c31a1747dc7be05ccd5" category="list-text">Dalla directory home dell'utente amministratore del controller Ansible, clonare una copia del toolkit di automazione della distribuzione NetApp Oracle per NFS.</block>
  <block id="6ee479787e15beb58f7ac04e73265440" category="list-text">Fase successiva ai file di installazione di Oracle 19c nella directory DB VM /tmp/archive con autorizzazione 777.</block>
  <block id="3d3d0c1886de65e7e8cfba6499948bed" category="section-title">Configurazione di rete e SVM su C-Series per Oracle</block>
  <block id="93ce386a5a93aad444dfe4d874d861b3" category="paragraph">Questa sezione della guida alla distribuzione illustra le best practice per configurare la macchina virtuale di rete e storage (SVM) sul controller C-Series per carichi di lavoro Oracle con protocollo NFS utilizzando l'interfaccia utente di ONTAP System Manager.</block>
  <block id="e42382129810446d30b7f0e35e7ba6f2" category="list-text">Accedere a ONTAP System Manager per verificare che, dopo l'installazione iniziale del cluster ONTAP , i domini broadcast siano stati configurati con le porte Ethernet assegnate correttamente a ciascun dominio.  In genere, dovrebbe esserci un dominio broadcast per il cluster, un dominio broadcast per la gestione e un dominio broadcast per il carico di lavoro, ad esempio i dati.</block>
  <block id="d1fa27de8d8338309cef73f4f051dfa1" category="inline-image-macro">Questa immagine fornisce uno screenshot per la configurazione del controller della serie C</block>
  <block id="fa55b7d7526852ad254537c52ada4ff2" category="paragraph"><block ref="fa55b7d7526852ad254537c52ada4ff2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27272e370d688e62f1762f4ecfa62012" category="list-text">Da RETE - Porte Ethernet, fare clic su<block ref="2a7ef566e4611d5e0d698db86ff278cf" prefix=" " category="inline-code"></block> per creare una porta a0a del gruppo di aggregazione dei collegamenti LACP, che fornisce bilanciamento del carico e failover tra le porte membro nella porta del gruppo di aggregazione.  Sui controller C400 sono disponibili 4 porte dati: e0e, e0f, e0g, e0h.</block>
  <block id="0a46044708fc119b41886f3b1084d5f6" category="paragraph"><block ref="0a46044708fc119b41886f3b1084d5f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d0bcaf4fdfec037d3208a91ad3123bf" category="list-text">Selezionare le porte Ethernet nel gruppo,<block ref="4d6b33d75644552dcc843a5fd248e03f" prefix=" " category="inline-code"></block> per la modalità e<block ref="60aaf44d4b562252c04db7f98497e9aa" prefix=" " category="inline-code"></block> per la distribuzione del carico.</block>
  <block id="3847d434046e9f91acad503a44df07c3" category="paragraph"><block ref="3847d434046e9f91acad503a44df07c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b27139ac86fb7bb1b7f301bd32f8905" category="list-text">Convalida la porta LACP a0a creata e il dominio di trasmissione<block ref="f6068daa29dbb05a7ead1e3b5a48bbee" prefix=" " category="inline-code"></block> ora è operativo sulla porta LACP.</block>
  <block id="01dd450d198c51beb60e97612a9e4210" category="paragraph"><block ref="6b6bb02cfff77088e13efe909a8bd894" category="inline-image-macro-rx" type="image"></block> <block ref="4f905dc51177e8497493856e8c3cbd9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8b776a52e34291c3467b7d12cb3cf707" category="list-text">Da<block ref="9c20ed40366c2dc673b52748abbb3e86" prefix=" " category="inline-code"></block> , clicca<block ref="9881f82f0dd89588831f9d1682bd5492" prefix=" " category="inline-code"></block> per aggiungere una VLAN su ciascun nodo controller per il carico di lavoro Oracle sul protocollo NFS.</block>
  <block id="3a530a462061ba3ece3cc559a4ca7e7c" category="paragraph"><block ref="03a9f15b044a022128c5282ebc704ce5" category="inline-image-macro-rx" type="image"></block> <block ref="bc4aab0522486a37c585af300258ff7b" category="inline-image-macro-rx" type="image"></block> <block ref="ff3bd34c3e83c69ae7f34251e5976ded" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77524ec9652ad1c3885999303318b3dd" category="list-text">Accedere ai controller della serie C dall'IP di gestione del cluster tramite SSH per verificare che i gruppi di failover di rete siano configurati correttamente.  ONTAP crea e gestisce automaticamente i gruppi di failover.</block>
  <block id="51be646d68b430236b17aabb10aedcb9" category="list-text">Da<block ref="c52ccdb94b7474376c104927d53c3fc8" prefix=" " category="inline-code"></block> , fare clic su +Aggiungi per creare una SVM per Oracle.</block>
  <block id="e5043239b4a10b2d4764c248529f3188" category="paragraph"><block ref="e5043239b4a10b2d4764c248529f3188" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d48e145ef1e843250dd732d196ff81d4" category="list-text">Assegna un nome al tuo Oracle SVM, controlla<block ref="d708b594e7e0a7aa1a646a9cd21f15b9" prefix=" " category="inline-code"></block> E<block ref="9cefa5e8e8937e8e15a5f3684fe03d50" prefix=" " category="inline-code"></block> .</block>
  <block id="df35a2650003cb0d948717b06553bb03" category="paragraph"><block ref="df35a2650003cb0d948717b06553bb03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c148577c00c1a76fece9914b4688ad7" category="list-text">Aggiungi criterio di esportazione NFS<block ref="7a1920d61156abc05a60135aefe8bc67" prefix=" " category="inline-code"></block> regole.</block>
  <block id="7cb338f8abf9a9c49ff7a259a199f03b" category="paragraph"><block ref="7cb338f8abf9a9c49ff7a259a199f03b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0cdf45facf4fbfefd052d813dfab0f4" category="list-text">In<block ref="d4e6248d7cc29f3bee70e788b0851aef" prefix=" " category="inline-code"></block> , compila l'indirizzo IP su ciascun nodo per gli indirizzi NFS lif.</block>
  <block id="21840ef16e1b090e9d45318e1ccbfc6e" category="paragraph"><block ref="21840ef16e1b090e9d45318e1ccbfc6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f17d25a0a013067c4d6fb8e7e9acd6cd" category="list-text">Verificare che SVM per Oracle sia attivo/in esecuzione e che lo stato NFS lifs sia attivo.</block>
  <block id="d8c4952eb2e57f6128c159251619719b" category="paragraph"><block ref="fe61ad7d441154002119570da7363036" category="inline-image-macro-rx" type="image"></block> <block ref="bfb50a785d28c3ce3734c6386c499553" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b087c50a3fa783cca91b82d2fb3098fc" category="list-text">Da<block ref="f479f39e9dfbfd094f968fbbb1351938" prefix=" " category="inline-code"></block> scheda per aggiungere volumi NFS per il database Oracle.</block>
  <block id="fa5e7f85dbbccef5dfab5527174f9ba6" category="paragraph"><block ref="fa5e7f85dbbccef5dfab5527174f9ba6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cee929dfc24fff28ebb05f7a1be1bc2" category="list-text">Assegna un nome al volume, assegna la capacità e il livello di prestazioni.</block>
  <block id="72d0cf157abf887a0d086afe9f55a456" category="paragraph"><block ref="72d0cf157abf887a0d086afe9f55a456" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d92a821034527d62c75eea067c9a5fe" category="list-text">In<block ref="acfc4449202469cc3ef4bcbaffd6f5bc" prefix=" " category="inline-code"></block> , seleziona la policy predefinita creata nel passaggio precedente.  Deseleziona<block ref="371536d7caaef32502ae7f42d2d07165" prefix=" " category="inline-code"></block> poiché preferiamo utilizzare SnapCenter per creare snapshot coerenti con l'applicazione.</block>
  <block id="dec0d912f582a31c85d4e45ba286663a" category="paragraph"><block ref="dec0d912f582a31c85d4e45ba286663a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2662721ab316ab57543a07b1669e77da" category="list-text">Creare tre volumi DB per ciascun server DB: server_name_u01 - binario, server_name_u02 - dati, server_name_u03 - registri.</block>
  <block id="f52eff1251afec4b18f509ac9e56e903" category="paragraph"><block ref="f52eff1251afec4b18f509ac9e56e903" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6dc4458eccb6a98c7ca05ff4abbfa962" category="admonition">Per garantire il corretto funzionamento dell'automazione, la convenzione di denominazione del volume DB deve seguire rigorosamente il formato indicato sopra.</block>
  <block id="d97f7e118529cec7713e262bd2a5bdc4" category="paragraph">Questo completa la configurazione del controller della serie C per Oracle.</block>
  <block id="d6aab67e6d8a14ee71a66aabc8604134" category="paragraph">Dopo l'esecuzione del playbook, accedi alla VM del server Oracle DB per verificare che Oracle sia installato e configurato e che un database contenitore sia stato creato correttamente.  Di seguito è riportato un esempio di convalida del database Oracle su DB VM ora_01 o ora_02.</block>
  <block id="20ac2e87723a880d85686f07b4704df9" category="paragraph"><block ref="0bb972b8595213848965e3243d9d9139" category="inline-image-macro-rx" type="image"></block> <block ref="8c9f3342c68a769993a1d940545ebb67" category="inline-image-macro-rx" type="image"></block> <block ref="7fb0091c992da4cd5a50829bcadb7329" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5803335e5bcae83badcbc5583ac2d60e" category="inline-link-macro">Oracle semplificato e autogestito in VMware Cloud su AWS con FSx ONTAP montato su guest</block>
  <block id="7747db3e6614970aeeeeaef060f430c8" category="paragraph">NetApp consiglia lo strumento SnapCenter UI per gestire il database Oracle distribuito in C-Series.  Fare riferimento a TR-4979<block ref="353ca98728b30d2ae31625a468ea2722" category="inline-link-macro-rx"></block> sezione<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> per i dettagli sulla configurazione SnapCenter e sull'esecuzione dei flussi di lavoro di backup, ripristino e clonazione del database.</block>
  <block id="0f48ba7e158160e65859ff8d64ceec40" category="inline-link-macro">NetApp AFF serie C</block>
  <block id="2f76b6fc093e529f4873d6981e8dfccb" category="list-text"><block ref="2f76b6fc093e529f4873d6981e8dfccb" category="inline-link-macro-rx"></block></block>
  <block id="f18e1c3f82c945878e4905241940fa6b" category="list-text"><block ref="f18e1c3f82c945878e4905241940fa6b" category="inline-link-macro-rx"></block></block>
  <block id="77848b259d26eb7f84ae5e2cbfc59ed1" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione, la clonazione e l'aggiornamento dei database clone Oracle dal database standby fisico di Oracle Data Guard ospitato nel cloud Azure su storage Azure NetApp Files con configurazione ASM.</block>
  <block id="93a5d2dc01885a305bad9a0a7f8be64b" category="doc">Ciclo di vita automatizzato di Oracle Clone su ANF con ASM</block>
  <block id="76091c0fef09352136ad3a11d071d752" category="paragraph">L'utilizzo dei cloni del database Oracle di standby fisico nella configurazione di Oracle Data Guard per altri casi d'uso ha molteplici scopi.  Fornisce una copia scrivibile del database di produzione per scopi di sviluppo o UAT.  In questo modo è possibile eliminare i costosi costi di licenza di Active Data Guard se è accettabile un breve ritardo (10-15 minuti) nella segnalazione.  Si risparmia sui costi di archiviazione, soprattutto quando è disponibile un clone sottile.  Questo toolkit di automazione basato su Ansible consente agli utenti di configurare, clonare e aggiornare i database Oracle clonati in base alle proprie pianificazioni, per una gestione semplificata del ciclo di vita.  Il toolkit si applica ai database Oracle distribuiti sul cloud pubblico di Azure utilizzando l'archiviazione Azure NetApp Files e il database Oracle configurato in una configurazione Data Guard.</block>
  <block id="a695118e43d96e3ca94c3990ceef4a4e" category="list-text">Imposta i file di configurazione del clone del database standby Oracle per l'automazione Ansible.</block>
  <block id="e59e4d60fdfa2126f6b9a36db6b1dbea" category="list-text">Crea o aggiorna il database Oracle clone dallo standby di Data Guard utilizzando il playbook Ansible in base alla pianificazione definita dall'utente.</block>
  <block id="335ee4a1db6ccc27946df089f9e2c7ee" category="list-text">Un DBA che gestisce i database Oracle nel cloud Azure.</block>
  <block id="84d67d73b34d50c29f35724541718626" category="list-text">Un amministratore di archiviazione che gestisce l'archiviazione Azure NetApp Files .</block>
  <block id="ee355a02589f9ee3f9bafccf6919063e" category="list-text">Un proprietario di applicazioni che desidera clonare i database Oracle dallo standby di Data Guard per altri casi d'uso.</block>
  <block id="02b4aec5a0aa88fe33a0d2b88487b1bb" category="admonition">Per semplificare, il server Oracle di destinazione del clone dovrebbe essere configurato in modo identico al server Oracle di standby, come lo stack software Oracle, nonché il layout delle directory per Oracle Home, ecc.</block>
  <block id="8e0b0773b24447afef3c59e3fcb2e079" category="admonition">Al momento, l'accesso al toolkit è consentito solo agli utenti interni NetApp con accesso Bitbucket.  Gli utenti esterni interessati possono richiedere l'accesso al proprio account team o contattare il team NetApp Solutions Engineering.</block>
  <block id="e811c558e8d47370b4215282c3e3d28e" category="section-title">Configurazione dei file host di origine e destinazione di Ansible</block>
  <block id="7d424515bd7f3886bb0e46962ce8ca61" category="paragraph">Il toolkit include un file hosts che definisce gli host Oracle di origine e di destinazione su cui viene eseguito il playbook Ansible.  Solitamente include l'host DB di standby nella configurazione di Data Guard e l'host clone Oracle di destinazione.  Di seguito è riportato un file di esempio.  Una voce host include l'indirizzo IP dell'host di destinazione e la chiave ssh per l'accesso dell'utente all'host per eseguire il comando clone o refresh.  L'archiviazione Azure NetApp Files viene configurata tramite API.  Pertanto, la connessione ANF avviene tramite host locale tramite protocollo HTTP.</block>
  <block id="613fbd46486706dc14277a2503a8ddad" category="section-title">Configurazione delle variabili globali</block>
  <block id="5c72cbd8cdc13af12fa87c14987e87ba" category="paragraph">Di seguito è riportato un esempio di un tipico file di variabili globali vars.yml che include variabili applicabili a livello globale.</block>
  <block id="0c967c2ba96575fe1c2db47376151512" category="section-title">Configurazione delle variabili host</block>
  <block id="2b4c1f65590194bab80c33edb574ac90" category="paragraph">Le variabili host sono definite nella directory host_vars denominata {{ host_name }}.yml e si applicano solo all'host specifico.  Per questa soluzione, viene configurato solo il file dei parametri host del database clone di destinazione.  I parametri del database standby di Oracle sono configurati nel file global vars.  Di seguito è riportato un esempio di file di variabili host del database clone Oracle di destinazione orac.yml che mostra una configurazione tipica.</block>
  <block id="b9221ffda439eb4a537f8bb3073871aa" category="section-title">Configurazione aggiuntiva del server Oracle di destinazione del clone</block>
  <block id="24fc2bccaf1b2226aaa9558e14d31a00" category="paragraph">Il server Oracle di destinazione clone deve avere lo stesso stack software Oracle del server Oracle di origine installato e patchato.  L'utente Oracle .bash_profile ha $ORACLE_BASE e $ORACLE_HOME configurati.  Inoltre, la variabile $ORACLE_HOME deve corrispondere all'impostazione del server Oracle di origine.  Se l'impostazione di destinazione ORACLE_HOME è diversa dalla configurazione del server Oracle di standby, creare un collegamento simbolico per aggirare le differenze.  Di seguito un esempio.</block>
  <block id="7d680af01e8ad6da7ed4790900194ee1" category="paragraph">Sono disponibili in totale due playbook per eseguire il ciclo di vita del clone del database Oracle.  La clonazione o l'aggiornamento del DB possono essere eseguiti su richiesta o pianificati come un'attività crontab.</block>
  <block id="56f060833065e38dfd98d52734f5c81c" category="list-text">Installare i prerequisiti del controller Ansible una sola volta.</block>
  <block id="aeeb7c0907645801659d4d26af05e214" category="list-text">Crea e aggiorna il database clone su richiesta o regolarmente da crontab con uno script shell per chiamare il playbook clone o refresh.</block>
  <block id="a3094ccd05fa805e9a971cd2439bd434" category="paragraph">Per clonare eventuali database aggiuntivi, creare un file oracle_clone_n_asm_anf.yml e un file oracle_clone_n_asm_anf.sh separati.  Configurare di conseguenza gli host di destinazione Ansible, il file vars.yml globale e il file hostname.yml nella directory host_vars.</block>
  <block id="fcdfd8f1adc61cb853ab14287d48869d" category="admonition">L'esecuzione del toolkit in varie fasi prevede delle pause per consentire il completamento di un'attività specifica.  Ad esempio, si interrompe per due minuti per consentire il completamento della clonazione dei volumi DB.  In generale, l'impostazione predefinita dovrebbe essere sufficiente, ma potrebbe essere necessario adattare i tempi in base a situazioni o implementazioni specifiche.</block>
  <block id="1736373901db26a181fcdc4db6eecabc" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione, la clonazione e l'aggiornamento dei database clone Oracle dal database standby fisico di Oracle Data Guard ospitato nel cloud Google su storage Google Cloud NetApp Volumes con configurazione ASM.</block>
  <block id="ff8537e6ab3d91d2980c2380649d7c58" category="doc">Ciclo di vita automatizzato di Oracle Clone su GCNV con ASM</block>
  <block id="d2f69b3d351b7770615f8ac01d603d86" category="paragraph">Sfruttare i cloni rapidi del database Oracle di standby fisico nella configurazione di Oracle Data Guard per altri casi d'uso serve a molteplici scopi.  Fornisce un database di reporting quasi in tempo reale e anche una copia scrivibile del database di produzione per scopi di sviluppo o UAT.  In questo modo è possibile eliminare i costosi costi di licenza di Active Data Guard se è accettabile un breve ritardo (10-15 minuti) nella segnalazione.  Permette di risparmiare sui costi di archiviazione, in particolare quando è possibile effettuare una clonazione ridotta dei volumi di dati primari.  Questo toolkit di automazione basato su Ansible consente agli utenti di configurare, clonare e aggiornare i database Oracle clonati in base alle proprie pianificazioni, per una gestione semplificata del ciclo di vita.  Il toolkit si applica ai database Oracle distribuiti sul cloud pubblico di Google utilizzando l'archiviazione Google Cloud NetApp Volumes (GCNV) e la configurazione del database Oracle in una configurazione Data Guard.</block>
  <block id="6c6fb98d11b9a1b475f86b74383ac5ec" category="list-text">Un DBA che gestisce i database Oracle nel cloud di Google.</block>
  <block id="1322d4f821966d9d952f4509812e2e88" category="list-text">Un amministratore di storage che gestisce lo storage di Google NetApp Volumes.</block>
  <block id="0bcda13064561041e51947b017c1f633" category="paragraph">Il toolkit include un file hosts che definisce gli host Oracle di origine e di destinazione su cui viene eseguito il playbook Ansible.  Solitamente include l'host DB di standby nella configurazione di Data Guard e l'host clone Oracle di destinazione.  Di seguito è riportato un file di esempio.  Una voce host include l'indirizzo IP dell'host di destinazione e la chiave ssh per l'accesso dell'utente all'host per eseguire il comando clone o refresh.  L'accesso e la gestione dello storage Google Cloud NetApp Volumes avvengono tramite gcloud cli.</block>
  <block id="f87c12e62d09427fd8f65eb350caaee9" category="inline-link-macro">Protezione dei dati sensibili con Ansible Vault</block>
  <block id="e08c579bbaab6d571e125e974e35a664" category="admonition">Per una distribuzione dell'automazione più sicura, è possibile utilizzare Ansible Vault per crittografare informazioni sensibili quali password, token di accesso o chiavi, ecc. La soluzione non copre l'implementazione di Ansible Vault, ma è ampiamente documentata nella documentazione di Ansible.  Si prega di fare riferimento a<block ref="7e9a46400566ec57e6c7f648f20dbbae" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="4d9a3b4f6ed4bdb8056531d663a765ca" category="admonition">Assicurarsi che il parametro di configurazione asm_diskstring nell'host clone del database includa tutti i punti di montaggio NFS dei volumi clonati e i percorsi delle directory sui dispositivi disco.</block>
  <block id="61691ad1db58d69fcd3efeb57d04cb3a" category="paragraph">Per clonare eventuali database aggiuntivi, creare un file oracle_clone_n_asm_gcnv.yml e un file oracle_clone_n_asm_gcnv.sh separati.  Configurare di conseguenza gli host di destinazione Ansible, il file vars.yml globale e il file hostname.yml nella directory host_vars.</block>
  <block id="371030f28f5be2c632ed0ece307114d3" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione, la clonazione e l'aggiornamento di database clone Oracle da un database primario.  Nella configurazione di Oracle Data Guard, il database primario può essere il database di standby fisico.  La soluzione può essere applicata in un data center privato o nel cloud AWS con storage FSx ONTAP in configurazione NFS o ASM, oppure nel cloud Azure con storage Azure NetApp Files in configurazione NFS.</block>
  <block id="ca9f31b430e2d1494cf56125653b71e1" category="doc">Automazione del ciclo di vita dei cloni Oracle SnapCenter</block>
  <block id="09d55934f7bf0b7311388e7edeaa6ba2" category="paragraph">I clienti apprezzano la funzione FlexClone dello storage NetApp ONTAP per clonare rapidamente (in pochi minuti) grandi database e risparmiare ulteriormente sullo storage se la funzione thin clone è abilitata sulla specifica offerta di storage in un data center privato o in un cloud pubblico.  Questo toolkit basato su Ansible automatizza la configurazione, la clonazione e l'aggiornamento dei database Oracle clonati secondo una pianificazione, utilizzando le utilità della riga di comando NetApp SnapCenter per una gestione semplificata del ciclo di vita.  Il toolkit si applica ai database Oracle distribuiti su storage ONTAP in locale o su cloud pubblico (AWS o Azure) e gestiti dallo strumento NetApp SnapCenter UI.</block>
  <block id="305b49cab56a63db69a75b8a90237992" category="list-text">Impostare il file di configurazione delle specifiche del clone del database Oracle.</block>
  <block id="ffe89dfaf822383b1610d2235661b139" category="list-text">Crea e aggiorna il database Oracle clone in base alla pianificazione definita dall'utente.</block>
  <block id="5a82f1374e653dd60890a248f3da4afa" category="list-text">Un DBA che gestisce i database Oracle con SnapCenter.</block>
  <block id="eeb8bce8b54b9d524c33c1838a0d56ff" category="list-text">Un amministratore di storage che gestisce lo storage ONTAP con SnapCenter.</block>
  <block id="d2d0cadcec645d853fb3c7ebf1705d31" category="list-text">Proprietario dell'applicazione che ha accesso all'interfaccia utente SnapCenter .</block>
  <block id="c0d630f834359abb2109cebb1b7d3612" category="admonition">Per semplificare, il server Oracle di destinazione del clone dovrebbe essere configurato in modo identico al server Oracle di standby, come lo stack software Oracle, nonché il layout delle directory per Oracle Home, ecc.</block>
  <block id="ec26bffdac6e146ef20365de82135a71" category="section-title">Configurazione del file host di destinazione Ansible</block>
  <block id="cece6deec155c16f4782e115edea6f41" category="paragraph">Il toolkit include un file hosts che definisce i target su cui viene eseguito un playbook Ansible.  Di solito si tratta degli host clone Oracle di destinazione.  Di seguito è riportato un file di esempio.  Una voce host include l'indirizzo IP dell'host di destinazione e la chiave SSH per consentire a un utente amministratore di accedere all'host per eseguire il comando clone o refresh.</block>
  <block id="f4516853063c4206701e5aa89787feaa" category="paragraph">#Oracle clone host</block>
  <block id="dd5cc97aa774a3a1c065bbb01fcf3e7d" category="paragraph">I playbook di Ansible accettano input variabili da diversi file variabili.  Di seguito è riportato un esempio di file di variabili globali vars.yml.</block>
  <block id="a4f107861ae1069b802d4818e857efeb" category="paragraph">Le variabili host sono definite nella directory host_vars denominata {{ host_name }}.yml.  Di seguito è riportato un esempio del file di variabili host Oracle di destinazione ora_04.cie.netapp.com.yml che mostra la configurazione tipica.</block>
  <block id="2f01e5ebc3a23c97162906c2483ec827" category="paragraph">Il server Oracle di destinazione clone deve avere lo stesso stack software Oracle del server Oracle di origine installato e patchato.  L'utente Oracle .bash_profile ha $ORACLE_BASE e $ORACLE_HOME configurati.  Inoltre, la variabile $ORACLE_HOME deve corrispondere all'impostazione del server Oracle di origine.  Di seguito un esempio.</block>
  <block id="9ed50a56f8c83c496fdb2d3fe909497f" category="paragraph">Sono disponibili in totale tre playbook per eseguire il ciclo di vita del clone del database Oracle con le utility SnapCenter CLI.</block>
  <block id="230f70b0a7d8d86c8ea52493d17f962f" category="list-text">Imposta il file di specifiche del clone: una sola volta.</block>
  <block id="6a1fa0bf47a6db0c3d4281d1316fd9e0" category="list-text">Crea e aggiorna regolarmente il database clone da crontab con uno script shell per richiamare un playbook di aggiornamento.</block>
  <block id="ce4b27db9e7d3dff9f5bfd613fc3157e" category="admonition">Modifica il nome utente con il tuo utente sudo per la configurazione SnapCenter .</block>
  <block id="8aafbc88c398f3b5492811671ba656ad" category="paragraph">Per un database clone aggiuntivo, creare un file clone_n_setup.yml e un file clone_n_refresh.yml separati e un file clone_n_refresh.sh.  Configurare di conseguenza gli host di destinazione Ansible e il file hostname.yml nella directory host_vars.</block>
  <block id="d65cd7440cb7c3d2954a848fa38e76ad" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione dell'alta disponibilità e del ripristino di emergenza (HA/DR) del database Oracle con AWS FSx ONTAP come storage del database Oracle e istanze EC2 come istanze di elaborazione in AWS.</block>
  <block id="179da6be91ec55cc0787c674958241c1" category="doc">Oracle HA/DR automatizzato in AWS FSx ONTAP</block>
  <block id="622d3af9d0e348e827d4fbf78a6f0cdb" category="paragraph">Questa soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione dell'alta disponibilità e del ripristino di emergenza (HA/DR) del database Oracle con AWS FSx ONTAP come storage del database Oracle e istanze EC2 come istanze di elaborazione in AWS.</block>
  <block id="ea4e6c904df6b8ca1b4ec09e457c5415" category="paragraph">Questo toolkit automatizza le attività di configurazione e gestione di un ambiente ad alta disponibilità e ripristino di emergenza (HR/DR) per il database Oracle distribuito nel cloud AWS con storage FSx ONTAP e istanze di elaborazione EC2.</block>
  <block id="4a33bb67171f627fe4d6f7f0aab6d032" category="list-text">Configurazione dell'host di destinazione HA/DR: configurazione del kernel, configurazione di Oracle per abbinarla all'host del server di origine.</block>
  <block id="497e7ba562ed7bbfac16fe52b6810372" category="list-text">Configurazione di FSx ONTAP : peering del cluster, peering del server virtuale, configurazione della relazione snapmirror dei volumi Oracle dall'origine alla destinazione.</block>
  <block id="bda57e799072bafeaf42a5313a8206c5" category="list-text">Backup dei dati del database Oracle tramite snapshot - esecuzione off crontab</block>
  <block id="5adf1aa082234fb813d8465d075205a9" category="list-text">Backup del registro di archivio del database Oracle tramite snapshot - esecuzione da crontab</block>
  <block id="4c8c6940cbdf156409787ce0cae0679d" category="list-text">Eseguire il failover e il ripristino sull'host HA/DR: testare e convalidare l'ambiente HA/DR</block>
  <block id="041824f980a2368afbea3529f4a85a3b" category="list-text">Esegui la risincronizzazione dopo il test di failover: ripristina la relazione snapmirror dei volumi del database in modalità HA/DR</block>
  <block id="39275aba85b7b3d5e108bf8a7f06b013" category="list-text">Un DBA che ha configurato il database Oracle in AWS per garantire elevata disponibilità, protezione dei dati e ripristino di emergenza.</block>
  <block id="98ad1b0bb680f4935dc6ec065ab7dd53" category="list-text">Un architetto di soluzioni di database interessato alla soluzione Oracle HA/DR a livello di storage nel cloud AWS.</block>
  <block id="7d780f9063c90f956c5b395f01862b2c" category="list-text">Un amministratore di storage che gestisce lo storage AWS FSx ONTAP che supporta i database Oracle.</block>
  <block id="cac0f059e3c711509277efdd488db471" category="list-text">Un proprietario di applicazioni che desidera supportare il database Oracle per HA/DR nell'ambiente AWS FSx/EC2.</block>
  <block id="91cc3cb48c2d9b7fe947f975bb6e12c2" category="paragraph">I playbook di Ansible sono basati su variabili.  Per illustrare la configurazione tipica è incluso un file di variabili globali di esempio fsx_vars_example.yml.  Di seguito sono riportate alcune considerazioni chiave:</block>
  <block id="548d628ee47e884858313f141ed3e385" category="paragraph">Le variabili host sono definite nella directory host_vars denominata {{ host_name }}.yml.  Per illustrare la configurazione tipica è incluso un file di variabili host di esempio host_name.yml.  Di seguito sono riportate alcune considerazioni chiave:</block>
  <block id="dc4f36380101bead8c5e803fa39d75ac" category="section-title">Configurazione del file host del server DB</block>
  <block id="405805427d2874a5f24a3b376f51c62a" category="paragraph">Per impostazione predefinita, l'istanza AWS EC2 utilizza l'indirizzo IP per la denominazione host.  Se si utilizza un nome diverso nel file hosts per Ansible, impostare la risoluzione dei nomi host nel file /etc/hosts sia per il server di origine che per quello di destinazione.  Di seguito un esempio.</block>
  <block id="ba1f06e05d1c791f2b15c9e1088a97c0" category="section-title">Esecuzione del playbook: eseguita in sequenza</block>
  <block id="f438c38014afe1cb719dbcb14f389a74" category="list-text">Installare i prerequisiti del controller Ansible.</block>
  <block id="4fd73e564820faeafea813887ea61f6f" category="list-text">Imposta l'istanza di destinazione del database EC2.</block>
  <block id="7cfc03bc74a1c83d93eecac222f51283" category="list-text">Imposta la relazione snapmirror FSx ONTAP tra i volumi del database di origine e di destinazione.</block>
  <block id="ad995c0821f0dec2ecd6c5d1361b2ee1" category="list-text">Eseguire il backup dei volumi di dati del database Oracle tramite snapshot da crontab.</block>
  <block id="06ddbe5b0f86c1d7fdff984cbe3f2ef5" category="list-text">Eseguire il backup dei volumi di registro dell'archivio del database Oracle tramite snapshot da crontab.</block>
  <block id="4ffffdfa8108984ff063883f05b2cb05" category="list-text">Eseguire il failover e ripristinare il database Oracle sull'istanza di destinazione del database EC2: testare e convalidare la configurazione HA/DR.</block>
  <block id="665aea4799536e845b4d19fc4b3e4ee9" category="list-text">Esegui la risincronizzazione dopo il test di failover: ristabilisci la relazione snapmirror dei volumi del database in modalità replica.</block>
  <block id="b809961749987c861856cdba226ec9d6" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la migrazione del database Oracle utilizzando la rilocazione PDB con metodologia di massima disponibilità.  La migrazione può essere qualsiasi combinazione di locale e cloud come origine o destinazione</block>
  <block id="efe4709bf33362b47c6863c35ca74034" category="doc">Migrazione Oracle automatizzata</block>
  <block id="86ed129fe60d52da62d64acc9e238f20" category="paragraph">Questa soluzione fornisce un toolkit di automazione basato su Ansible per la migrazione del database Oracle utilizzando la rilocazione PDB con metodologia di massima disponibilità.  La migrazione può avvenire in qualsiasi combinazione tra locale e cloud, sia come origine che come destinazione.</block>
  <block id="0c530f43a566539fb8e9da49f0404689" category="paragraph">Questo toolkit automatizza la migrazione del database Oracle da locale al cloud AWS con storage FSx ONTAP e istanza di elaborazione EC2 come infrastruttura di destinazione.  Si presuppone che il cliente disponga già di un database Oracle locale distribuito nel modello CDB/PDB.  Il toolkit consentirà al cliente di spostare un PDB denominato da un database contenitore su un host Oracle utilizzando la procedura di spostamento Oracle PDB con un'opzione di disponibilità massima.  Ciò significa che il PDB di origine su qualsiasi array di storage locale viene spostato in un nuovo database contenitore con un'interruzione minima del servizio.  La procedura di rilocazione di Oracle sposterà i file di dati di Oracle mentre il database è online.  Successivamente, al momento del passaggio, quando tutti i file di dati vengono spostati sul cloud AWS, reindirizza le sessioni utente dai servizi locali ai servizi di database trasferiti.  La tecnologia sottolineata è la comprovata metodologia di clonazione a caldo di Oracle PDB.</block>
  <block id="2cb397312bce847a3821d2e60cf08aff" category="admonition">Sebbene il toolkit di migrazione sia sviluppato e convalidato sull'infrastruttura cloud AWS, si basa su soluzioni a livello di applicazione Oracle.  Pertanto, il toolkit è applicabile ad altre piattaforme cloud pubbliche, come Azure, GCP, ecc.</block>
  <block id="2243370defca1a4982b4883641ab7db6" category="list-text">Creare un utente di migrazione e concedere i privilegi richiesti sul server DB di origine locale.</block>
  <block id="c0e736291b01799f9f67b55a02e64b14" category="list-text">Spostare un PDB da un CDB locale a un CDB di destinazione nel cloud mentre il PDB di origine è online fino al passaggio.</block>
  <block id="491c7279129ef66f3b72abb0fa1c5226" category="list-text">Un DBA che migra i database Oracle da locali al cloud AWS.</block>
  <block id="01afc77b414372b3af135907ed869982" category="list-text">Un architetto di soluzioni di database interessato alla migrazione del database Oracle da locale al cloud AWS.</block>
  <block id="e41dc9cf512ed2ab6c255a63a5f967b4" category="list-text">Un proprietario di applicazioni che desidera migrare il database Oracle da locale al cloud AWS.</block>
  <block id="ed893dd012b708a5fd2d5f084ab862fb" category="paragraph">Per impostazione predefinita, l'istanza AWS EC2 utilizza l'indirizzo IP per la denominazione host.  Se si utilizza un nome diverso nel file hosts per Ansible, impostare la risoluzione dei nomi host nel file /etc/hosts sia per il server di origine che per quello di destinazione.  Di seguito un esempio.</block>
  <block id="d3518be78ee50170d8c5adafaa49ddaa" category="list-text">Installare i prerequisiti del controller Ansible.</block>
  <block id="fc6c92008801d751651a5b8d0facab6e" category="list-text">Eseguire attività di pre-migrazione sul server locale, presupponendo che l'amministratore sia un utente SSH per la connessione all'host Oracle locale con autorizzazione sudo.</block>
  <block id="f4c57f09769c649b5fc9d173ca0b0872" category="list-text">Eseguire la rilocazione di Oracle PDB dal CDB locale al CDB di destinazione nell'istanza AWS EC2, presupponendo ec2-user per la connessione all'istanza EC2 DB e db1.pem con coppie di chiavi ssh ec2-user.</block>
  <block id="d4c96dcd516adf0c5bde093b0b7b7255" category="summary">Questa pagina descrive il metodo automatizzato per distribuire Oracle19c sullo storage NetApp ONTAP .</block>
  <block id="6551468cb4811e7add616eea103efea9" category="doc">Procedura di distribuzione passo dopo passo</block>
  <block id="c150393fd3b1bd9d801cbd062234f73d" category="section-title">Distribuzione AWX/Tower del database Oracle 19c</block>
  <block id="32003b051ef9368756d1e9cd79796719" category="section-title">1. Crea l'inventario, il gruppo, gli host e le credenziali per il tuo ambiente</block>
  <block id="2c8b94d570dd5a63a27d112e32a1c799" category="paragraph">Questa sezione descrive la configurazione di inventario, gruppi, host e credenziali di accesso in AWX/Ansible Tower che preparano l'ambiente per l'utilizzo delle soluzioni automatizzate NetApp .</block>
  <block id="134d501fee5367069f0746f15302ce1f" category="list-text">Configurare l'inventario.</block>
  <block id="af2c7dd4ecef5e42e9bc8f88213d51d9" category="list-text">Vai su Risorse → Inventari → Aggiungi e fai clic su Aggiungi inventario.</block>
  <block id="56fc26ef1c8ae54dced3529eec65fa26" category="list-text">Inserisci il nome e i dettagli dell'organizzazione, quindi fai clic su Salva.</block>
  <block id="fe0981da08a8d2f4fed2006bafd9fb30" category="list-text">Nella pagina Inventari, fare clic sull'inventario creato.</block>
  <block id="3fa16e80574aff03c27de1253474a20f" category="list-text">Se sono presenti variabili di inventario, incollarle nel campo delle variabili.</block>
  <block id="65d119ae335d9e7c9c798b3e6db1b2d0" category="list-text">Vai al sottomenu Gruppi e fai clic su Aggiungi.</block>
  <block id="396641e01a7451ca821b5d7d1377b0c7" category="list-text">Fornire il nome del gruppo per ONTAP, incollare le variabili del gruppo (se presenti) e fare clic su Salva.</block>
  <block id="a4f13b6e4100f2d5db093eb54a3ffe0c" category="list-text">Ripetere la procedura per un altro gruppo per Oracle.</block>
  <block id="6f29f21d5f3e40494291fb357b9f4f73" category="list-text">Selezionare il gruppo ONTAP creato, andare al sottomenu Host e fare clic su Aggiungi nuovo host.</block>
  <block id="8d92ffd9d0d2b033d05731ec4af50af8" category="list-text">Fornire l'indirizzo IP dell'IP di gestione del cluster ONTAP , incollare le variabili host (se presenti) e fare clic su Salva.</block>
  <block id="f1254ecbe57ff98d850d541b8a1ab988" category="list-text">Questo processo deve essere ripetuto per il gruppo Oracle e per l'IP/nome host di gestione dell'host Oracle.</block>
  <block id="f11c5853bdca384314b28c9c59f2d6d0" category="list-text">Creare tipi di credenziali. Per le soluzioni che coinvolgono ONTAP, è necessario configurare il tipo di credenziale in modo che corrisponda alle voci di nome utente e password.</block>
  <block id="1616edbabbc3bbfd22afe144d1929386" category="list-text">Incolla il seguente contenuto nella configurazione dell'iniettore:</block>
  <block id="cc865c923bcb1c61acf9985311675b93" category="list-text">Inserisci il nome e i dettagli dell'organizzazione per ONTAP.</block>
  <block id="ea314f484653e7f9f25144ea61d34888" category="list-text">Seleziona il tipo di credenziale personalizzato che hai creato per ONTAP.</block>
  <block id="179cae6336461d9f165e8fa87146362a" category="list-text">In Dettagli tipo, immettere nome utente, password e vsadmin_password.</block>
  <block id="659fb4c811f1a73cf40492056e6d3c3f" category="list-text">Fare clic su Torna alle credenziali e quindi su Aggiungi.</block>
  <block id="3b9c90c4bf202563a3cdeda5ec78fac2" category="list-text">Inserisci il nome e i dettagli dell'organizzazione per Oracle.</block>
  <block id="51b04d83367483575e89740841d94262" category="section-title">2. Crea un progetto</block>
  <block id="e56fa1e2655db1bc7664a00295bd62a2" category="list-text">Vai su Risorse → Progetti e fai clic su Aggiungi.</block>
  <block id="9c78f8d8687776e79018ded982e14c25" category="list-text">Inserisci il nome e i dettagli dell'organizzazione.</block>
  <block id="4096a1870a258e9d46585f08d4906f21" category="list-text">Selezionare Git nel campo Tipo di credenziale di controllo del codice sorgente.</block>
  <block id="b1e5ab13b1f19ed768aa37d36124b04d" category="list-text">entrare<block ref="7dfd05089fdfe3ce335a25f00540ff01" prefix=" " category="inline-code"></block> come URL di controllo della sorgente.</block>
  <block id="99bc2ea435ea8ae0ed38ef3051a4350a" category="list-text">Potrebbe essere necessario sincronizzare occasionalmente il progetto quando il codice sorgente cambia.</block>
  <block id="14e017f358e18dd612a468713206093f" category="section-title">3. Configurare Oracle host_vars</block>
  <block id="05557c38b20e42173356b53f42c92152" category="paragraph">Le variabili definite in questa sezione vengono applicate a ciascun singolo server e database Oracle.</block>
  <block id="ac886b852fd1b481e9c7e68c217b5e21" category="list-text">Inserisci i parametri specifici del tuo ambiente nelle seguenti variabili host Oracle incorporate o nel modulo host_vars.</block>
  <block id="93be2ec6954884b83ac9df8117967949" category="admonition">Gli elementi in blu devono essere modificati per adattarli all'ambiente.</block>
  <block id="e1847b1a99378b07a0df71cf2baac5da" category="list-text">Compila tutte le variabili nei campi blu.</block>
  <block id="741c92ab2429ff59927918c7a07ad9a5" category="list-text">Dopo aver completato l'inserimento delle variabili, fare clic sul pulsante Copia nel modulo per copiare tutte le variabili da trasferire ad AWX o Tower.</block>
  <block id="1e1ea51549ac2a644a3e965113c1d370" category="list-text">Torna ad AWX o Tower e vai su Risorse → Host, quindi seleziona e apri la pagina di configurazione del server Oracle.</block>
  <block id="0d630b14098a793ac4586173286d0805" category="list-text">Nella scheda Dettagli, fare clic su Modifica e incollare le variabili copiate dal passaggio 1 nel campo Variabili nella scheda YAML.</block>
  <block id="c6dca9e669d097298fc6059b27f96e09" category="list-text">Ripetere questa procedura per tutti gli altri server Oracle presenti nel sistema.</block>
  <block id="7890327bd98d1ec932e453254511754d" category="section-title">4. Configurare le variabili globali</block>
  <block id="e5cac740ce6bd43e6ff83881e150d0f3" category="paragraph">Le variabili definite in questa sezione si applicano a tutti gli host Oracle, ai database e al cluster ONTAP .</block>
  <block id="87b55102ec2889891b0258253b739244" category="list-text">Inserisci i parametri specifici del tuo ambiente nelle seguenti variabili globali incorporate o nel modulo vars.</block>
  <block id="7d2a3c2ad9ee2eeb7547d205d30b9335" category="list-text">Compilare tutte le variabili nei campi blu.</block>
  <block id="099f04b51539ed973890f1d1af2d5063" category="list-text">Dopo aver completato l'inserimento delle variabili, fare clic sul pulsante Copia nel modulo per copiare tutte le variabili da trasferire ad AWX o Tower nel seguente modello di lavoro.</block>
  <block id="c807b1735c1915c52547b9f7e917b55d" category="section-title">5. Configurare e avviare il modello di lavoro.</block>
  <block id="c7fa74fb4cbaab9d336a8e55bf164684" category="list-text">Inserisci il nome e la descrizione</block>
  <block id="3dcca032e3328f54206079a87830aa27" category="list-text">Selezionare il tipo di lavoro; Esegui configura il sistema in base a un playbook, mentre Verifica esegue un'esecuzione di prova di un playbook senza effettivamente configurare il sistema.</block>
  <block id="b01c6189ccdc531874f3442803680525" category="list-text">Selezionare all_playbook.yml come playbook predefinito da eseguire.</block>
  <block id="e8f0426d97d09775fb78bdeb793b0b3e" category="list-text">Selezionare la casella Richiedi all'avvio nel campo Tag lavoro.</block>
  <block id="ad7ad1bbc416fda1f9518ff4004d891c" category="list-text">Quando all'avvio viene richiesto di immettere i tag di lavoro, digitare requirements_config.  Potrebbe essere necessario fare clic sulla riga Crea tag di lavoro sotto requirements_config per immettere il tag di lavoro.</block>
  <block id="b9ef793a3db3f07ed7dc808f4709c6ca" category="admonition">requirements_config garantisce che siano disponibili le librerie corrette per eseguire gli altri ruoli.</block>
  <block id="6ac039e55dcf8a249f5122b1fdbbf60e" category="list-text">Fare clic su Avanti e poi su Avvia per avviare il processo.</block>
  <block id="06f392c8dfb4783859e67f16fed69bc7" category="list-text">Fare clic su Visualizza → Lavori per monitorare l'output e l'avanzamento del lavoro.</block>
  <block id="7f6a02c24592bd309f31b5a72a0f8d6d" category="list-text">Quando all'avvio viene richiesto di immettere i tag dei lavori, digitare ontap_config.  Potrebbe essere necessario fare clic sulla riga Crea "Tag lavoro" subito sotto ontap_config per immettere il tag lavoro.</block>
  <block id="18c003af9ed29d295877baabf7b42ce1" category="list-text">Fare clic su Visualizza → Lavori per monitorare l'output e l'avanzamento del lavoro</block>
  <block id="c0029d5cdcaae1ceef3bed244b3ab3c6" category="list-text">Dopo aver completato il ruolo ontap_config, eseguire nuovamente il processo per linux_config.</block>
  <block id="fc71758268fe1c3aba4b75df3ee0560f" category="list-text">Selezionare il modello desiderato e quindi fare clic su Avvia.</block>
  <block id="bbe073bafc2875db8b48e59284636931" category="list-text">Quando all'avvio viene richiesto di digitare i tag del processo in linux_config, potrebbe essere necessario selezionare la riga Crea "tag processo" subito sotto linux_config per immettere il tag del processo.</block>
  <block id="bc43b7acafead2cdee67de733ae10b13" category="list-text">Selezionare Visualizza → Lavori per monitorare l'output e l'avanzamento del lavoro.</block>
  <block id="e73718535637e07111f6a4925685c0bd" category="list-text">Dopo aver completato il ruolo linux_config, eseguire nuovamente il processo per oracle_config.</block>
  <block id="574f8726a5cc088da32ab84269c8e0f8" category="list-text">Vai a Risorse → Modelli.</block>
  <block id="252b85bc679cb8ecdccbcd127c65b795" category="list-text">Quando all'avvio viene richiesto di immettere i tag dei processi, digitare oracle_config.  Potrebbe essere necessario selezionare la riga Crea "Tag lavoro" subito sotto oracle_config per immettere il tag lavoro.</block>
  <block id="6757805f64ddba2566927ece0d9f30e1" category="section-title">6. Distribuisci un database aggiuntivo sullo stesso host Oracle</block>
  <block id="4edc1d4492ab93edbbb0a67c0c265b84" category="paragraph">La parte Oracle del playbook crea un singolo database contenitore Oracle su un server Oracle per ogni esecuzione.  Per creare database contenitore aggiuntivi sullo stesso server, completare i seguenti passaggi.</block>
  <block id="a12a0fa7fe728658376da87df04fa7c2" category="list-text">Rivedere le variabili host_vars.</block>
  <block id="ba52bf2d165115d60675d61a4b84b0c6" category="list-text">Tornare al passaggio 2: configurare Oracle host_vars.</block>
  <block id="ffcc6e6df9c3839334c063a9223c65b3" category="list-text">Modificare l'Oracle SID con una stringa di denominazione diversa.</block>
  <block id="a936a5fabc881eb3591658385409dfb8" category="list-text">Cambiare il numero della porta di ascolto.</block>
  <block id="d9fa63a6f267402d4cf6068165e04a38" category="list-text">Se si sta installando EM Express, modificare la porta EM Express con un numero diverso.</block>
  <block id="23f5c9b4f57b3075f9890f1bc1896ebe" category="list-text">Copiare e incollare le variabili host riviste nel campo Variabili host Oracle nella scheda Dettagli configurazione host.</block>
  <block id="4d4426a703dd8227727fef5758b680d8" category="list-text">Avviare il modello di processo di distribuzione solo con il tag oracle_config.</block>
  <block id="d90d5ea5174403c0eb77b8e80b80d6ad" category="paragraph">Questo documento descrive in dettaglio la distribuzione di Oracle 19c tramite l'interfaccia della riga di comando (CLI) di automazione.</block>
  <block id="0e6b1c16527d2792d391c578bbf12efe" category="section-title">Distribuzione CLI del database Oracle 19c</block>
  <block id="57daddd847cdbab22b7363630de48a2f" category="inline-link-macro">Sezione Introduzione e Requisiti</block>
  <block id="875fa179f8abcdcc783a17ad0c94f6b0" category="paragraph">Questa sezione illustra i passaggi necessari per preparare e distribuire il database Oracle19c con la CLI.  Assicurati di aver esaminato il<block ref="f61e080fcac9ce40443edb11a98c59eb" category="inline-link-macro-rx"></block> e preparare l'ambiente di conseguenza.</block>
  <block id="0f2d7675188dbfc7b9df587588bff71b" category="section-title">Scarica il repository Oracle19c</block>
  <block id="73977a3ad17c882a666b80c9eccec0e7" category="list-text">Dal controller Ansible, esegui il seguente comando:</block>
  <block id="60cc8e16ee1bd6e820e063f90fd35cbe" category="list-text">Dopo aver scaricato il repository, cambiare directory in na_oracle19c_deploy &lt;cd na_oracle19c_deploy&gt;.</block>
  <block id="4e2b619426350db7e7d5b09c96b8010b" category="section-title">Modificare il file hosts</block>
  <block id="b183e47af1fa85c93e4a4368205c3249" category="paragraph">Completare quanto segue prima della distribuzione:</block>
  <block id="c4ab1530ffd8a3306d47c804ca88240c" category="list-text">Modifica la directory na_oracle19c_deploy del file hosts.</block>
  <block id="bc1dd0e50a3c20e78cc2d680eaf32378" category="list-text">In [ontap], modifica l'indirizzo IP nell'IP di gestione del cluster.</block>
  <block id="6475f51ce7ff0a21a5635ea50b1f1a86" category="list-text">Nel gruppo [oracle], aggiungere i nomi degli host Oracle.  Il nome host deve essere risolto nel suo indirizzo IP tramite DNS o il file hosts, oppure deve essere specificato nell'host.</block>
  <block id="5c3f5e9dc815ca28c7cf1ff64cdc61a2" category="list-text">Dopo aver completato questi passaggi, salva le modifiche.</block>
  <block id="b27994a7bba852ac9a8f1a262413e68b" category="paragraph">L'esempio seguente illustra un file host:</block>
  <block id="1caa2eee0ed6a6c5c6edcbc0320e8671" category="paragraph">Questo esempio esegue il playbook e distribuisce Oracle 19c su due server Oracle DB contemporaneamente.  È possibile effettuare il test anche con un solo server DB.  In tal caso, è sufficiente configurare un solo file di variabili host.</block>
  <block id="d11927d6f93a4edaa78dc52c6e34fd5f" category="admonition">Il playbook viene eseguito allo stesso modo indipendentemente dal numero di host e database Oracle distribuiti.</block>
  <block id="030c98564d5fbd7c8672a76e2a593b21" category="section-title">Modifica il file host_name.yml in host_vars</block>
  <block id="86c40bb4891f3e6b34a2eece7bb19532" category="paragraph">Ogni host Oracle ha il suo file di variabili host identificato dal suo nome host che contiene variabili specifiche dell'host.  Puoi specificare qualsiasi nome per il tuo host.  Modifica e copia il<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> dalla sezione Host VARS Config e incollalo nel tuo desiderato<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> file.</block>
  <block id="44505c1007599884b05c0148599ad1b0" category="section-title">Modifica il file vars.yml</block>
  <block id="41cdd95196e2753968e0d69375c41825" category="paragraph">IL<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> il file consolida tutte le variabili specifiche dell'ambiente (ONTAP, Linux o Oracle) per la distribuzione Oracle.</block>
  <block id="271f9ccf9c8189bb1888d25c7f0e025b" category="list-text">Modifica e copia le variabili dalla sezione VARS e incolla queste variabili nel tuo<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> file.</block>
  <block id="78d77851709e21512097cee585c59d0c" category="section-title">Esegui il playbook</block>
  <block id="8f42d9f703ada5b4f1374ca96a4f1cec" category="paragraph">Dopo aver completato i prerequisiti ambientali richiesti e aver copiato le variabili in<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> E<block ref="97513b66e909abfd622924972387a816" prefix=" " category="inline-code"></block> , ora sei pronto per distribuire i playbook.</block>
  <block id="6226590ec5d4a109e4b93317425994c1" category="admonition">&lt;username&gt; deve essere modificato in modo che corrisponda al tuo ambiente.</block>
  <block id="ca9312842450cb1907f68cbfe9e7ebdd" category="list-text">Eseguire il playbook ONTAP passando i tag corretti e il nome utente del cluster ONTAP .  Inserire la password per il cluster ONTAP e vsadmin quando richiesto.</block>
  <block id="27dddea37ed0de0ca5959c367057ba57" category="list-text">Eseguire il playbook Linux per eseguire la parte Linux della distribuzione.  Inserire la password ssh dell'amministratore e la password sudo.</block>
  <block id="1c71909fca063bf285ff220dab00cfa1" category="list-text">Eseguire il playbook Oracle per eseguire la parte Oracle della distribuzione.  Inserire la password ssh dell'amministratore e la password sudo.</block>
  <block id="24b2767982b51deb19947fb3e94279c6" category="section-title">Distribuisci database aggiuntivo sullo stesso host Oracle</block>
  <block id="5cc75d1029461de7ddcd02bbc784af26" category="paragraph">La parte Oracle del playbook crea un singolo database contenitore Oracle su un server Oracle per ogni esecuzione.  Per creare un database contenitore aggiuntivo sullo stesso server, completare i seguenti passaggi:</block>
  <block id="b4a35a2d5c3a4f3efb7c77f6bcd2a905" category="list-text">Rivedere le variabili host_vars.</block>
  <block id="5641cb71d4e10abef15918c2dd828917" category="list-text">Torna al passaggio 3 - Modifica il<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> archiviare sotto<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> .</block>
  <block id="24f0029973c35b16fc49847b27215915" category="list-text">Se hai installato EM Express, cambia la porta EM Express con un numero diverso.</block>
  <block id="365c64de6adc281d7f484029d1356855" category="list-text">Copia e incolla le variabili host riviste nel file delle variabili host di Oracle in<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> .</block>
  <block id="b64219fd8290ac8a154f733df0825dbb" category="list-text">Eseguire il playbook con il<block ref="b656a5ae2d7a83cf0ead9c81fb96ec17" prefix=" " category="inline-code"></block> tag come mostrato sopra in<block ref="1c892654e23ff69bf71caefc702aa8b4" category="inline-xref-macro-rx"></block> .</block>
  <block id="0dd197c8abd1f3c3607887dbc615148f" category="section-title">Convalida l'installazione di Oracle</block>
  <block id="40640c0c34d4427f5d18b9ca476e3158" category="summary">Questa pagina descrive la protezione automatizzata dei dati di Oracle19c sullo storage NetApp ONTAP .</block>
  <block id="261e91a1afdfe1123497b1b9ba5ab3e1" category="section-title">AWX/Tower Oracle Protezione dei dati</block>
  <block id="544348a8f04b16faced725115db5b6f3" category="section-title">Crea l'inventario, il gruppo, gli host e le credenziali per il tuo ambiente</block>
  <block id="db2b28449b6d868d910cd53527934988" category="list-text">Inserisci il nome Oracle per il tuo primo gruppo e fai clic su Salva.</block>
  <block id="200e1fa09608b23de5cd04d22d3a5bdb" category="list-text">Ripetere il procedimento per un secondo gruppo denominato dr_oracle.</block>
  <block id="1e29c17b60e9145858da82263315e402" category="list-text">Selezionare il gruppo Oracle creato, andare al sottomenu Host e fare clic su Aggiungi nuovo host.</block>
  <block id="250d5368537e295251f9ccf63f950087" category="list-text">Fornire l'indirizzo IP dell'IP di gestione dell'host Oracle di origine e fare clic su Salva.</block>
  <block id="22dcd973cf7a10ed9d03c5b959e65807" category="list-text">Questo processo deve essere ripetuto per il gruppo dr_oracle e aggiungere l'IP/nome host di gestione dell'host Oracle DR/Destination.</block>
  <block id="1a4eca6a53be80f21117669b80a5dbc8" category="admonition">Di seguito sono riportate le istruzioni per creare i tipi di credenziali e le credenziali per On-Prem con ONTAP o CVO su AWS.</block>
  <block id="cea575677c47839fde1e59dbfc9ad5bb" category="open-title">In sede</block>
  <block id="f7fc367b5de87581ac78fc80805439af" category="open-title">CVO</block>
  <block id="be86ca474df5e14056bc0f20d2cdb767" category="section-title">Crea un progetto</block>
  <block id="0a43bf0a8edd1a20044bf0cc16ffae7c" category="list-text">entrare<block ref="3e78435f1dc860dd5abe55174b983b84" prefix=" " category="inline-code"></block> come URL del controllo sorgente.</block>
  <block id="d02a79fb6f05358e16f9d9cf02288ac3" category="section-title">Configurare le variabili globali</block>
  <block id="3506caa5fe966a4676faac2993bc1431" category="section-title">Manuali di automazione</block>
  <block id="285a3bb8fb6f692046facadb3c0984cf" category="paragraph">Ci sono quattro playbook distinti che devono essere eseguiti.</block>
  <block id="37472723bc7712fedddee6d02e29228d" category="list-text">Manuale per la configurazione del tuo ambiente, On-Prem o CVO.</block>
  <block id="5138c89250c5086accf2d1a5961c9b17" category="list-text">Playbook per la replica di Oracle Binary e Database secondo una pianificazione</block>
  <block id="3e552d6e5b2c316c63eb1fc2081d42a8" category="list-text">Playbook per la replica dei log Oracle secondo una pianificazione</block>
  <block id="33f4f1514dc2ceb963af16685f4de58c" category="list-text">Playbook per il ripristino del database su un host di destinazione</block>
  <block id="17ae7167fac3c2364c6ad7b58819a920" category="open-title">Configurazione ONTAP/CVO</block>
  <block id="16f928d0ebd67060f6b3b2abf0481928" category="open-title">Replica per volumi binari e di database</block>
  <block id="b723f9a72bec39ac17d89e51ff0ba336" category="open-title">Replica per volumi di registro</block>
  <block id="f76dbca531ab83300165aacf97e1b7ff" category="open-title">Ripristina e recupera il database</block>
  <block id="ba985cf3c812e3ba064fedc7353bbb77" category="section-title">Recupero del database Oracle</block>
  <block id="b8a177e5fd059f33473cad4d1d073d38" category="list-text">I volumi di dati dei database Oracle di produzione on-premise sono protetti tramite la replica NetApp SnapMirror su un cluster ONTAP ridondante nel data center secondario o su Cloud Volume ONTAP nel cloud pubblico.  In un ambiente di disaster recovery completamente configurato, le istanze di elaborazione di ripristino nel data center secondario o nel cloud pubblico sono in standby e pronte a ripristinare il database di produzione in caso di disastro.  Le istanze di elaborazione in standby vengono mantenute sincronizzate con le istanze on-prem eseguendo aggiornamenti paralleli sulla patch del kernel del sistema operativo o aggiornandoli in modo graduale.</block>
  <block id="57d8ad774cb4fef3d53ee8836bfee761" category="list-text">In questa soluzione dimostrata, il volume binario Oracle viene replicato sulla destinazione e montato sull'istanza di destinazione per avviare lo stack software Oracle.  Questo approccio per ripristinare Oracle è più vantaggioso rispetto a una nuova installazione di Oracle all'ultimo minuto quando si verifica un disastro.  Garantisce che l'installazione di Oracle sia completamente sincronizzata con l'installazione del software di produzione locale corrente, con i livelli di patch, ecc. Tuttavia, ciò potrebbe avere o meno implicazioni aggiuntive sulla licenza software per il volume binario Oracle replicato nel sito di ripristino, a seconda di come è strutturata la licenza software con Oracle.  Si consiglia all'utente di verificare con il personale addetto alle licenze software la potenziale necessità di licenza Oracle prima di decidere di utilizzare lo stesso approccio.</block>
  <block id="74eaa493ffed695592003e0844d93c46" category="list-text">L'host Oracle di standby nella destinazione è configurato con le configurazioni prerequisite di Oracle.</block>
  <block id="0be4357ac224d44b11800179b23eb202" category="list-text">Gli SnapMirror vengono danneggiati e i volumi vengono resi scrivibili e montati sull'host Oracle in standby.</block>
  <block id="69504b415e8aad20e18beca0de96ab6a" category="list-text">Il modulo di ripristino di Oracle esegue le seguenti attività per ripristinare e avviare Oracle nel sito di ripristino dopo che tutti i volumi DB sono stati montati nell'istanza di elaborazione in standby.</block>
  <block id="5e52a9563e31960cdf02c7b83e6495e7" category="list-text">Sincronizzazione del file di controllo: abbiamo distribuito file di controllo Oracle duplicati su volumi di database diversi per proteggere i file di controllo critici del database.  Uno riguarda il volume dei dati e l'altro il volume dei registri.  Poiché i volumi di dati e di registro vengono replicati con frequenze diverse, al momento del ripristino non saranno sincronizzati.</block>
  <block id="26b9a788a0ef0527f25f68892b364d19" category="list-text">Ricollegamento del binario Oracle: poiché il binario Oracle è stato spostato su un nuovo host, è necessario ricollegarlo.</block>
  <block id="b66ad18a7982f7c233e9d0af2f867856" category="list-text">Recupera database Oracle: il meccanismo di recupero recupera l'ultimo numero di modifica del sistema nell'ultimo registro archiviato disponibile nel volume di registro Oracle dal file di controllo e recupera il database Oracle per recuperare tutte le transazioni aziendali che potevano essere replicate sul sito DR al momento dell'errore.  Il database viene quindi avviato in una nuova incarnazione per gestire le connessioni degli utenti e le transazioni aziendali nel sito di ripristino.</block>
  <block id="861503fb33ea04fecb13449e713e8ac6" category="admonition">Prima di eseguire il playbook di recupero, assicurati di avere quanto segue: assicurati di copiare /etc/oratab e /etc/oraInst.loc dall'host Oracle di origine all'host di destinazione</block>
  <block id="0679a51ae3a4071a6bd3dedbe97fd329" category="summary">Questa pagina descrive il metodo automatizzato per distribuire Oracle Data Protection sullo storage NetApp ONTAP .</block>
  <block id="cb59b87e00d11222bfd9159d0d23836f" category="doc">Iniziare</block>
  <block id="22e3bbd761fbb7ae69b8035eb12f222d" category="paragraph">Questa soluzione è stata progettata per essere eseguita in un ambiente AWX/Tower.</block>
  <block id="008ba800d97cb969def651e93f0d93fb" category="section-title">AWX/Torre</block>
  <block id="a481f1841043d60245f18522a86731b1" category="paragraph">Per gli ambienti AWX/Tower, verrai guidato nella creazione di un inventario della gestione del cluster ONTAP e del server Oracle (IP e nomi host), nella creazione delle credenziali, nella configurazione di un progetto che estrae il codice Ansible da NetApp Automation Github e nel modello di lavoro che avvia l'automazione.</block>
  <block id="ad5310e9dcd8f367be2b92490488d86d" category="list-text">La soluzione è stata progettata per essere eseguita in uno scenario cloud privato (da locale a locale) e cloud ibrido (da locale a cloud pubblico Cloud Volumes ONTAP [CVO])</block>
  <block id="5055de7b9d28f88e537f99f34959c80c" category="list-text">Compila le variabili specifiche del tuo ambiente, quindi copiale e incollale nei campi Extra Vars nel tuo modello di lavoro.</block>
  <block id="d116f375db402ba471f519c0a4df15dc" category="list-text">Dopo aver aggiunto le variabili extra al modello di lavoro, è possibile avviare l'automazione.</block>
  <block id="4d0c05180ba83e5c8a9bbac094c365e2" category="list-text">L'automazione è impostata per essere eseguita in tre fasi (installazione, pianificazione della replica per i file binari Oracle, database, registri e pianificazione della replica solo per i registri) e una quarta fase per il ripristino del database in un sito DR.</block>
  <block id="936c99ed52ca08a052ebf611285dd998" category="inline-link-macro">Raccogli i prerequisiti per le distribuzioni CVO e Connector</block>
  <block id="cb21368a15e2a3d47638571824353844" category="list-text">Per istruzioni dettagliate su come ottenere le chiavi e i token necessari per la visita CVO Data Protection<block ref="541e8965c61ba24b34b7d00d5a5a7eae" category="inline-link-macro-rx"></block></block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="section-title">Requisiti</block>
  <block id="5cc03ec574b226dc804a31cac74694cd" category="open-title">&lt;strong class="big"&gt;In sede&lt;/strong&gt;</block>
  <block id="0ba29c6a1afacf586b03a26162c72274" category="cell">Ambiente</block>
  <block id="9d5cfca4ad04b54536e5ad15210f7dc2" category="cell">*Ambiente Ansible*</block>
  <block id="3f0733e14ebf265f0abf4b32371043ac" category="cell">Ansible v.2.10 e versioni successive</block>
  <block id="3c91a74236fab100f024452f6df13b5e" category="cell">Python 3</block>
  <block id="215b38d177939de20bbb7b7913ce32c1" category="cell">Librerie Python - netapp-lib - xmltodict - jmespath</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="cell">* ONTAP*</block>
  <block id="72bd33cc372377848ab3bb360deb365e" category="cell">ONTAP versione 9.8 +</block>
  <block id="10aadda84b1b1da26c3757dfdb59379d" category="cell">Due aggregati di dati</block>
  <block id="9f998f9668ffe69c62d78760d1c531f0" category="cell">NFS vlan e ifgrp creati</block>
  <block id="ba5f343281b90f0408008806c66bce86" category="cell">*Server Oracle*</block>
  <block id="6f1de5f0d7966ebf5f8d255fe28ebffe" category="cell">RHEL 7/8</block>
  <block id="aa596da3b79631d86c0d35e1c4b03aac" category="cell">Oracle Linux 7/8</block>
  <block id="814e8f57514db6134b6ffcd7a4ce20a6" category="cell">Interfacce di rete per NFS, pubbliche e di gestione facoltativa</block>
  <block id="3ca63226b942aff3abcf62934a91e382" category="cell">Ambiente Oracle esistente sulla sorgente e sistema operativo Linux equivalente sulla destinazione (sito DR o cloud pubblico)</block>
  <block id="6114118ecf4e8d86a2e7c80bfab462f6" category="open-title">&lt;strong class="big"&gt;CVO&lt;/strong&gt;</block>
  <block id="675b1e5a01195fa5d419962701704b96" category="cell">Imposta lo spazio di swap appropriato sull'istanza Oracle EC2, per impostazione predefinita alcune istanze EC2 vengono distribuite con 0 swap</block>
  <block id="2f960df807c8ad51e74c447149eb2033" category="cell">*Gestore cloud/AWS*</block>
  <block id="571f37fae4494df03321c2abe1fcc053" category="cell">Chiave di accesso/segreta AWS</block>
  <block id="7a5be8c4513f3bd0696db24a6bd977f4" category="cell">Account NetApp Cloud Manager</block>
  <block id="99e55608ac5f1697eb6804aaf586af09" category="cell">Token di aggiornamento di NetApp Cloud Manager</block>
  <block id="90ce695bbcc395d9d5538cb54be705c8" category="cell">Aggiungi lif intercluster di origine al gruppo di sicurezza AWS</block>
  <block id="ae9205dab0c26cca7762be5149a93923" category="section-title">Dettagli di automazione</block>
  <block id="ba0676e7ae183e2c0bbd54261818154f" category="paragraph">Questa distribuzione automatizzata è progettata con un singolo playbook Ansible composto da tre ruoli separati.  I ruoli sono per le configurazioni ONTAP, Linux e Oracle.  La tabella seguente descrive quali attività vengono automatizzate.</block>
  <block id="3f9ec2a23fee1cafeb1a700de677caac" category="cell">Manuale di gioco</block>
  <block id="ef615563c8e8ea902c7fcac3cd2c4246" category="cell">Compiti</block>
  <block id="1f959110c5104b300b1a3d5fe3ee80dc" category="cell">*ontap_setup*</block>
  <block id="c0563eda0fb9d63778efe04a13a5d744" category="cell">Pre-controllo dell'ambiente ONTAP</block>
  <block id="b7ed1e5c864a764f83f035d7f4f774ee" category="cell">Creazione di LIF intercluster sul cluster sorgente (FACOLTATIVO)</block>
  <block id="73ddb5848c16203494697871a4e993cd" category="cell">Creazione di LIF intercluster sul cluster di destinazione (FACOLTATIVO)</block>
  <block id="04a35ce053d611d390fc192544fa4899" category="cell">Creazione di cluster e peering SVM</block>
  <block id="4605aea1d05aa2979e72d73dd2c51773" category="cell">Creazione dello SnapMirror di destinazione e inizializzazione dei volumi Oracle designati</block>
  <block id="0dd4c7b6672d8937b6eb899b454fb7fe" category="cell">*ora_replication_cg*</block>
  <block id="7187aaa97acef94360159347d76a84c9" category="cell">Abilita la modalità di backup per ogni database in /etc/oratab</block>
  <block id="f9198142d6e5690166713858ae8a0cdd" category="cell">Snapshot dei volumi Oracle Binary e Database</block>
  <block id="23ba14a0a5cf33c38faec5b66fff712e" category="cell">Snapmirror aggiornato</block>
  <block id="114debcae141b96db77c72e8a1e8fadb" category="cell">Disattivare la modalità di backup per ogni database in /etc/oratab</block>
  <block id="682094861a79bcba0e0ab2e193198762" category="cell">*ora_replication_log*</block>
  <block id="1d03ae98454d1c807318a1e29a4e2736" category="cell">Cambia il registro corrente per ogni database in /etc/oratab</block>
  <block id="47e4696811eedec695f727189503e8df" category="cell">Istantanea acquisita del volume Oracle Log</block>
  <block id="86836efae3e3d868a96ae69bcbc987ba" category="cell">*ora_recupero*</block>
  <block id="6ceab4515ef4144abed0f0ce5ed3038f" category="cell">Interrompi SnapMirror</block>
  <block id="a6066c717f63ac99226b48abb4cf1d85" category="cell">Abilita NFS e crea un percorso di giunzione per i volumi Oracle sulla destinazione</block>
  <block id="aa46cdc29b66725a1180f57d02f0cee3" category="cell">Configurare DR Oracle Host</block>
  <block id="dea9253f9b15f57a0c2161848a3c27a3" category="cell">Montare e verificare i volumi Oracle</block>
  <block id="ee95819ff53983a149759d555a93ba4b" category="cell">Ripristina e avvia il database Oracle</block>
  <block id="5a6b57bc1fdf2f0e1259ed22f1d027a4" category="cell">*cvo_setup*</block>
  <block id="331c87cd495ffdc9cd55d8b3935a75f5" category="cell">Pre-controllo dell'ambiente</block>
  <block id="5f17c8d8d95282db12506044ba4d6ab9" category="cell">Configurazione AWS/ID chiave di accesso AWS/Chiave segreta/Regione predefinita</block>
  <block id="cef449920fe163cdd74231266cbdf23d" category="cell">Creazione del ruolo AWS</block>
  <block id="85a4bcbc96cde90931ad369de96535b2" category="cell">Creazione dell'istanza di NetApp Cloud Manager Connector in AWS</block>
  <block id="abe14752834b641e86064c7214f6719c" category="cell">Creazione dell'istanza Cloud Volumes ONTAP (CVO) in AWS</block>
  <block id="c2a9449cd3b0ae879520f450b65b1621" category="cell">Aggiungi il cluster ONTAP di origine locale a NetApp Cloud Manager</block>
  <block id="fbb54d6efa6ca64af90fbe2289812be8" category="cell">Abilita NFS e crea un percorso di giunzione per i volumi Oracle sul CVO di destinazione</block>
  <block id="bf60025632dd0c4a2cf35e8b33e80619" category="section-title">Parametri predefiniti</block>
  <block id="3ef6389d9b9aacdce331793dd2a96ce8" category="paragraph">Per semplificare l'automazione, abbiamo preimpostato molti parametri Oracle richiesti con valori predefiniti.  In genere non è necessario modificare i parametri predefiniti per la maggior parte delle distribuzioni.  Un utente più esperto può apportare modifiche ai parametri predefiniti con cautela.  I parametri predefiniti si trovano in ogni cartella dei ruoli nella directory defaults.</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">Qui</block>
  <block id="19adadc497199e16f07f9744d43b2899" category="paragraph">Dovresti leggere le informazioni sulla licenza come indicato nel repository Github.  Accedendo, scaricando, installando o utilizzando il contenuto di questo repository, accetti i termini della licenza stabiliti<block ref="07d15b3b85718d883b437fb3739e59a7" category="inline-link-macro-rx"></block> .</block>
  <block id="87d624bc8a7f555a711e7214ee002eec" category="paragraph">Si noti che esistono alcune restrizioni relative alla produzione e/o alla condivisione di lavori derivati dai contenuti di questo repository.  Si prega di assicurarsi di leggere i termini del<block ref="49480c711afcff6aca610d8294731030" category="inline-link-macro-rx"></block> prima di utilizzare il contenuto.  Se non accetti tutti i termini, non accedere, scaricare o utilizzare i contenuti di questo repository.</block>
  <block id="a98d844e94ad28c8e0fb089e005d6b9f" category="inline-link-macro">qui per le procedure dettagliate AWX/Tower</block>
  <block id="8c0b74b24c0796d904107941c0434187" category="paragraph">Quando sei pronto, clicca<block ref="7eee2430c5f3886ce85eab1c7e8a8191" category="inline-link-macro-rx"></block> .</block>
  <block id="cb2418c01859c7704da751aa5a7d2421" category="doc">Panoramica della soluzione</block>
  <block id="63c0320f73b5f4e528bbe1488acc5103" category="section-title">Protezione automatizzata dei dati per i database Oracle</block>
  <block id="d798c6a829fee4b3d8316144e8769e91" category="paragraph">Le organizzazioni stanno automatizzando i propri ambienti per aumentare l'efficienza, accelerare le distribuzioni e ridurre lo sforzo manuale.  Strumenti di gestione della configurazione come Ansible vengono utilizzati per semplificare le operazioni dei database aziendali.  In questa soluzione, dimostriamo come utilizzare Ansible per automatizzare la protezione dei dati di Oracle con NetApp ONTAP.  Consentendo agli amministratori di storage, agli amministratori di sistema e agli amministratori di database di configurare in modo rapido e coerente la replica dei dati su un data center esterno o su un cloud pubblico, si ottengono i seguenti vantaggi:</block>
  <block id="5291cb8e681983247b899ce2364188f2" category="list-text">Eliminare le complessità di progettazione e gli errori umani e implementare una distribuzione coerente e ripetibile e le migliori pratiche</block>
  <block id="1d4694b7ed077df8b2c51d4ef956ce0c" category="list-text">Ridurre i tempi di configurazione della replicazione Intercluster, dell'istanziazione CVO e del ripristino dei database Oracle</block>
  <block id="a54e59b6b063d8a2bf18acffab877d09" category="list-text">Aumenta la produttività degli amministratori di database, dei sistemi e degli amministratori di storage</block>
  <block id="60bcf8682ddc3583a74e6cd2d95e1ccb" category="list-text">Fornisce un flusso di lavoro di ripristino del database per semplificare il test di uno scenario DR.</block>
  <block id="7d85c5a5f016aefeda6b89687f1307bb" category="paragraph">NetApp fornisce ai clienti moduli e ruoli Ansible convalidati per accelerare la distribuzione, la configurazione e la gestione del ciclo di vita del tuo ambiente di database Oracle.  Questa soluzione fornisce istruzioni e codice playbook Ansible per aiutarti a:</block>
  <block id="7fa4d3428dbef9829f6325b288c071bc" category="section-title">Replica da locale a locale</block>
  <block id="911a9e8dd85bfeeba31c1ed049e41e1c" category="list-text">Crea intercluster lifs su origine e destinazione</block>
  <block id="2f4eb56dd9301fc33f559b4345b90eb3" category="list-text">Stabilire il cluster e il peering del server virtuale</block>
  <block id="2b71f4136dce37491ef0f319f5d1fbd9" category="list-text">Crea e inizializza SnapMirror dei volumi Oracle</block>
  <block id="20f4a46f5b12b0533f7a2268c4c2bf41" category="list-text">Creare una pianificazione di replicazione tramite AWX/Tower per binari, database e log Oracle</block>
  <block id="6ef1c2ae7c9ca61a54d88de28349a772" category="list-text">Ripristinare Oracle DB sulla destinazione e portare il database online</block>
  <block id="f4ec61d9ffa147f621f854609523a0fb" category="section-title">Da On Prem a CVO in AWS</block>
  <block id="3f155aa6a9345b3e25f3bb44ecccfc0a" category="list-text">Crea connettore AWS</block>
  <block id="1531cb3c2d4db27dcd3bfa2ad4711ec5" category="list-text">Crea un'istanza CVO in AWS</block>
  <block id="2f159b717f78e9925b219e87cbd20f9a" category="list-text">Aggiungi cluster On-Prem a Cloud Manager</block>
  <block id="df16a1e23dbbcc2f19f07ab1af741617" category="list-text">Crea intercluster lifs sulla sorgente</block>
  <block id="68eff5f8d34b801d40ab55f098bc6478" category="inline-link-macro">qui per iniziare con la soluzione</block>
  <block id="54424c2f7d76f368ad64784745368677" category="paragraph">Quando sei pronto, clicca<block ref="34c80bad36975dcefa19451aa4330554" category="inline-link-macro-rx"></block> .</block>
  <block id="def8ebf26c2dec5f6af5a00893fae037" category="paragraph">Questa soluzione è stata progettata per essere eseguita in un ambiente AWX/Tower o tramite CLI su un host di controllo Ansible.</block>
  <block id="8ca0a52cf9938328875e0a8803ae71dd" category="list-text">Il modello di lavoro viene eseguito in tre fasi specificando i tag per ontap_config, linux_config e oracle_config.</block>
  <block id="da3d0d670ace8a327170aa25ee29f272" category="section-title">CLI tramite l'host di controllo Ansible</block>
  <block id="8c649830ad367719c501f8fc9ba4d387" category="inline-link-macro">clicca qui per istruzioni dettagliate</block>
  <block id="ef284736d2c4bfcf65ee26d43359d9ab" category="list-text">Per configurare l'host Linux in modo che possa essere utilizzato come host di controllo Ansible<block ref="40c15f7a9c77327121f90c13f61a149b" category="inline-link-macro-rx"></block></block>
  <block id="28e934ddab7714830f8afe8d3b641dc9" category="list-text">Dopo aver configurato l'host di controllo Ansible, è possibile clonare tramite git il repository Ansible Automation.</block>
  <block id="f667be8dac02593d217a02ac5bfb18de" category="list-text">Modificare il file hosts con gli IP e/o i nomi host della gestione del cluster ONTAP e degli IP di gestione del server Oracle.</block>
  <block id="95bd15e6b4a109de659c54c331c06284" category="list-text">Compila le variabili specifiche per il tuo ambiente e copiale e incollale nel<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> file.</block>
  <block id="ca548be3e5f238d32286d43dc4c89f7b" category="list-text">Ogni host Oracle ha un file variabile identificato dal suo nome host che contiene variabili specifiche dell'host.</block>
  <block id="87192ebbcab92216d25fd694a282971d" category="list-text">Dopo aver completato tutti i file variabili, è possibile eseguire il playbook in tre fasi specificando i tag per<block ref="0aadb2735557202c6ab978c489e2b6e9" prefix=" " category="inline-code"></block> ,<block ref="7ee7ce51db32cbf806a0c21c648f4c2b" prefix=" " category="inline-code"></block> , E<block ref="b656a5ae2d7a83cf0ead9c81fb96ec17" prefix=" " category="inline-code"></block> .</block>
  <block id="eebc1357e7d1e88ed4e4908d5ae86c0b" category="cell">Host AWX/Tower o Linux per essere l'host di controllo Ansible</block>
  <block id="0a928fe81d89083ed303ea3d9f1af8c9" category="cell">ONTAP versione 9.3 - 9.7</block>
  <block id="515f291f3ecc550c5d13cf31fadba91d" category="cell">File di installazione di Oracle sui server Oracle</block>
  <block id="bbbabdbe1b262f75d99d62880b953be1" category="cell">Ruolo</block>
  <block id="9bb642814808cd0cab510ddfb9e5969c" category="cell">*ontap_config*</block>
  <block id="79b814c8267c6b7822e78ab4624db8e0" category="cell">Creazione di SVM basato su NFS per Oracle</block>
  <block id="0c981d6164da0d8e69cdb199966316b0" category="cell">Creazione di una politica di esportazione</block>
  <block id="99179ac01bbb0236fc540871377c55c4" category="cell">Creazione di volumi per Oracle</block>
  <block id="db738705829d97db1e287ad8ea9e5400" category="cell">Creazione di NFS LIF</block>
  <block id="089c4c184b079d771501d8ceb0f3bb05" category="cell">*linux_config*</block>
  <block id="3ea572544d30a39d236496578f980d13" category="cell">Crea punti di montaggio e monta volumi NFS</block>
  <block id="db6c0f994cc39fbf66d58eea6c627e6a" category="cell">Verifica i mount NFS</block>
  <block id="6a882e7966e7869ab1d2112a0b1c0074" category="cell">Configurazione specifica del sistema operativo</block>
  <block id="6e6d41d1398fafd8809de20e831c9ce3" category="cell">Creare directory Oracle</block>
  <block id="6f965a5d44e1653dac9825f465f71c84" category="cell">Configura hugepages</block>
  <block id="be577868fe0712b7bbb6d5cb5eae613c" category="cell">Disabilitare SELinux e il demone firewall</block>
  <block id="bb6f16330211bf24baa83db38b11e4a9" category="cell">Abilita e avvia il servizio chronyd</block>
  <block id="e9e5cefa281d2c696aac82ef9c756f51" category="cell">aumentare il limite massimo del descrittore di file</block>
  <block id="a4acc779f882208c081f943aedfeab5c" category="cell">Crea il file di sessione pam.d</block>
  <block id="d03021f9e02b9fa9ebac591ad4bfea08" category="cell">*configurazione_oracle*</block>
  <block id="5e706781d4bf141c80e249a244179235" category="cell">Installazione del software Oracle</block>
  <block id="1a98fce6d77de1126bf3cb8247747621" category="cell">Crea un listener Oracle</block>
  <block id="841df7bfbef212936073c6d261d4dba9" category="cell">Creare database Oracle</block>
  <block id="845a6e024025bb13aafdc167511e5e7d" category="cell">Configurazione dell'ambiente Oracle</block>
  <block id="666113957f940ba4319b4f0d9c3e86c0" category="cell">Salva lo stato del PDB</block>
  <block id="264bca6ddd5a16346460d9c21e8f926d" category="cell">Abilita la modalità di archiviazione delle istanze</block>
  <block id="620ca5ae835411d2031ca0fdbbbe61a1" category="cell">Abilita client DNFS</block>
  <block id="4d7e6c9b84f6f86cf4817262ad424eeb" category="cell">Abilita l'avvio e l'arresto automatici del database tra i riavvii del sistema operativo</block>
  <block id="ebda2606845855cc07ce0ce15ecf8a00" category="paragraph">Per semplificare l'automazione, abbiamo preimpostato molti parametri di distribuzione Oracle richiesti con valori predefiniti.  In genere, per la maggior parte delle distribuzioni non è necessario modificare i parametri predefiniti.  Un utente più esperto può apportare modifiche ai parametri predefiniti con cautela.  I parametri predefiniti si trovano in ogni cartella dei ruoli nella directory defaults.</block>
  <block id="452eff11ca6d680a279a3e81b8dc8974" category="section-title">Istruzioni per la distribuzione</block>
  <block id="1cf7ad9cd74067dd3f4aee3c1690ea32" category="paragraph">Prima di iniziare, scaricare i seguenti file di installazione e patch di Oracle e inserirli nella cartella<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> directory con accesso in lettura, scrittura ed esecuzione per tutti gli utenti su ciascun server DB da distribuire.  Le attività di automazione cercano i file di installazione denominati in quella directory specifica per l'installazione e la configurazione di Oracle.</block>
  <block id="5abe869dd828ac1e4527f07db79841a8" category="inline-link-macro">qui per le procedure dettagliate di distribuzione AWX/Tower</block>
  <block id="c3bcf861ccc9247a7c0a9b4749747e4e" category="inline-link-macro">qui per la distribuzione CLI</block>
  <block id="fa01f068eaaf85b625368055e22487ea" category="paragraph">Quando sei pronto, clicca<block ref="db0e51d6d77e869c7da6e8cb4dc7151c" category="inline-link-macro-rx"></block> O<block ref="205ff37c8db6a7182f8647c7a493f2c7" category="inline-link-macro-rx"></block> .</block>
  <block id="13d13fda6fbfbd83ab30f9a5bee17b08" category="section-title">Distribuzione automatizzata di Oracle19c per ONTAP su NFS</block>
  <block id="9ce6d30135c2644ff34390c65af4061b" category="paragraph">Le organizzazioni stanno automatizzando i propri ambienti per aumentare l'efficienza, accelerare le distribuzioni e ridurre lo sforzo manuale.  Strumenti di gestione della configurazione come Ansible vengono utilizzati per semplificare le operazioni dei database aziendali.  In questa soluzione, mostriamo come utilizzare Ansible per automatizzare il provisioning e la configurazione di Oracle 19c con NetApp ONTAP.  Consentendo agli amministratori di storage, agli amministratori di sistema e agli amministratori di database di distribuire in modo coerente e rapido nuovi storage, configurare server di database e installare il software Oracle 19c, si ottengono i seguenti vantaggi:</block>
  <block id="a90516bf4597e04e1a97bd9cb37087d8" category="list-text">Ridurre i tempi di provisioning dello storage, configurazione degli host DB e installazione di Oracle</block>
  <block id="d18d76441366273feb36bde890ad5e1c" category="list-text">Abilita il ridimensionamento di storage e database con facilità</block>
  <block id="547b893b7cd300d6a8335f5b179ad12e" category="list-text">Crea e configura l'archiviazione ONTAP NFS per Oracle Database</block>
  <block id="36bb01ec9f02292fb44b9f10f57ceae7" category="list-text">Installa Oracle 19c su RedHat Enterprise Linux 7/8 o Oracle Linux 7/8</block>
  <block id="548bf87c41c9d3bb76981decbd599c90" category="list-text">Configurare Oracle 19c su storage ONTAP NFS</block>
  <block id="950496934d91d07bb089d6ed0999b5a9" category="paragraph">Per maggiori dettagli o per iniziare, guarda i video di presentazione qui sotto.</block>
  <block id="b923f56ad2a53fa1a3ca1160e48f141e" category="section-title">Distribuzioni AWX/Tower</block>
  <block id="ab81e47672e89830ec16c581f44cb23c" category="paragraph">Parte 1: Introduzione, requisiti, dettagli sull'automazione e configurazione iniziale di AWX/Tower</block>
  <block id="44f9187dc57a34800a68152bf3e51e8f" category="video-title">Distribuzione AWX</block>
  <block id="cf7bbd18f18fdc73ee49ffea888126c7" category="paragraph">Parte 2: Variabili ed esecuzione del playbook</block>
  <block id="9234eaf4b40d25f09b5abdd71c1e1a7b" category="video-title">Esecuzione del playbook AWX</block>
  <block id="f5e227cfa54c5693c512c6adf41a3772" category="section-title">Distribuzione CLI</block>
  <block id="0b8a09b5974336d1f5e510d18205c03c" category="paragraph">Parte 1: Introduzione, requisiti, dettagli sull'automazione e configurazione dell'host di controllo Ansible</block>
  <block id="9225d2c6eb68109e4084ab87f17664fa" category="video-title">Esecuzione del playbook CLI</block>
  <block id="cdac44ff22ec226b2a64bcc97a676457" category="summary">Leggi i blog che offrono indicazioni pratiche e best practice per integrare lo storage ONTAP con le soluzioni di database NetApp .</block>
  <block id="bdcf5e7d166fb271b3f746d3e9045375" category="doc">Leggi i blog sulle soluzioni di database degli esperti NetApp</block>
  <block id="6a211bce28b13011e81530086a186758" category="inline-link-macro">Proteggi i tuoi carichi di lavoro SQL Server utilizzando NetApp SnapCenter con Amazon FSx ONTAP</block>
  <block id="e3611377b31e2b1fab270cf0ecadd740" category="list-text"><block ref="e3611377b31e2b1fab270cf0ecadd740" category="inline-link-macro-rx"></block></block>
  <block id="aeb79a141f3c3f603cee05dfa64277aa" category="inline-link-macro">Modernizza le operazioni del tuo database Oracle nel cloud ibrido con lo storage Amazon FSx</block>
  <block id="a35641294527bf47526671d78d910a7e" category="list-text"><block ref="a35641294527bf47526671d78d910a7e" category="inline-link-macro-rx"></block></block>
  <block id="c4ff33edf6e94fb434fb59e4ad2c286b" category="inline-link-macro">Soluzioni di database cloud ibrido con SnapCenter</block>
  <block id="e6c9e9316fee7048645938d93d674056" category="list-text"><block ref="e6c9e9316fee7048645938d93d674056" category="inline-link-macro-rx"></block></block>
  <block id="fc25c016a8fb35a621842044a8d4f2e7" category="inline-link-macro">Automatizza la tua infrastruttura di database Oracle nel cloud ibrido</block>
  <block id="3e78754f8bb90f06073e18a2399d0b7f" category="list-text"><block ref="3e78754f8bb90f06073e18a2399d0b7f" category="inline-link-macro-rx"></block></block>
  <block id="ac9bef0f960e3a46befd2d06b223b61d" category="summary">Questa sezione illustra una tipica architettura cloud ibrida per operazioni di sviluppo/test e DR.</block>
  <block id="9f6302143996033ebb94d536b860acc3" category="doc">Architettura della soluzione</block>
  <block id="4085a97aa705c0122bbcec0c84dd97d3" category="paragraph">Il seguente diagramma di architettura illustra un'implementazione tipica del funzionamento del database aziendale in un cloud ibrido per operazioni di sviluppo/test e disaster recovery.</block>
  <block id="5e8f0f670e38fbdf628b0883f946934f" category="inline-image-macro">Figura che mostra il dialogo di input/output o che rappresenta il contenuto scritto</block>
  <block id="baa9f1b18527b789ada465cfa654f1f3" category="paragraph"><block ref="baa9f1b18527b789ada465cfa654f1f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3cdc302c6d83b60c8ec7ad0b550e55a8" category="paragraph">Nelle normali operazioni aziendali, i volumi di database sincronizzati nel cloud possono essere clonati e montati su istanze di database di sviluppo/test per lo sviluppo o il test delle applicazioni.  In caso di guasto, i volumi del database sincronizzati nel cloud possono essere attivati per il ripristino di emergenza.</block>
  <block id="467bda78c0e1adcc5ed650843fbfbdf5" category="summary">Questa sezione descrive il processo di distribuzione di Cloud Manager e Cloud Volumes ONTAP in AWS.</block>
  <block id="298a4809d5445df75b6c4a9fb94074a4" category="doc">Introduzione al cloud pubblico AWS</block>
  <block id="8a3f037eef48de78bfe13d14e3d7cdfa" category="section-title">Cloud pubblico AWS</block>
  <block id="87aa698992e009d04733c9906225592c" category="admonition">Per semplificare la comprensione, abbiamo creato questo documento basandoci su una distribuzione in AWS.  Tuttavia, il processo è molto simile per Azure e GCP.</block>
  <block id="39845311263ccad04c0d4f0b9aa9d4c6" category="section-title">1. Controllo pre-volo</block>
  <block id="12ed93944854c12caa37886d620f16db" category="paragraph">Prima della distribuzione, accertarsi che l'infrastruttura sia pronta per consentire la distribuzione nella fase successiva.  Ciò include quanto segue:</block>
  <block id="c6368ae044df0f7bb26ed60afda5c591" category="list-text">Account AWS</block>
  <block id="4019c185756035c18c03fabfccd7d4b2" category="list-text">VPC nella regione di tua scelta</block>
  <block id="fca5d2fece6e360f78dff4573ba04a20" category="list-text">Subnet con accesso a Internet pubblico</block>
  <block id="e3e5c3dadc3e70d536645a3be9744f79" category="list-text">Autorizzazioni per aggiungere ruoli IAM al tuo account AWS</block>
  <block id="bd5c82fb0e0371a168f609848b11e92a" category="list-text">Una chiave segreta e una chiave di accesso per il tuo utente AWS</block>
  <block id="c3d1ff3c88148b2246bb0972916da82a" category="section-title">2. Passaggi per distribuire Cloud Manager e Cloud Volumes ONTAP in AWS</block>
  <block id="6d0eb695a99109617b806676e9610075" category="inline-link">Documentazione NetApp Cloud</block>
  <block id="593581e466784760a050bceaea5e0c48" category="admonition">Esistono molti metodi per distribuire Cloud Manager e Cloud Volumes ONTAP; questo metodo è il più semplice, ma richiede la maggior parte delle autorizzazioni.  Se questo metodo non è appropriato per il tuo ambiente AWS, consulta il<block ref="97a20614f8c0e53f461a9353634e5e51" category="inline-link-rx"></block> .</block>
  <block id="bb3e779fdf877143137572122cf424e3" category="section-title">Distribuisci il connettore Cloud Manager</block>
  <block id="1273c8a63109161e6fd1f18d6998523f" category="inline-link">NetApp BlueXP</block>
  <block id="1bb916142b871b5d3ca15de98567916e" category="list-text">Vai a<block ref="830bc671a5f7a65e4c0ded8f63d397ba" category="inline-link-rx"></block> e accedi o registrati.</block>
  <block id="e282a5afe40f9227d1f4acfdd3e5e741" category="paragraph"><block ref="e282a5afe40f9227d1f4acfdd3e5e741" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2300b8579a8761e452d89a2af6636b7d" category="list-text">Dopo aver effettuato l'accesso, dovresti essere indirizzato a Canvas.</block>
  <block id="7ac8c7bcb29721730eca3892f6e6f8c7" category="paragraph"><block ref="7ac8c7bcb29721730eca3892f6e6f8c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3fbf2c408ce86ff3403990e7e32dcb3" category="list-text">Fare clic su "Aggiungi ambiente di lavoro" e scegliere Cloud Volumes ONTAP in AWS.  Qui puoi anche scegliere se vuoi distribuire un sistema a nodo singolo o una coppia ad alta disponibilità.  Ho scelto di implementare una coppia ad alta disponibilità.</block>
  <block id="cabea866322ee15f6ad51d3a7a478bd0" category="paragraph"><block ref="cabea866322ee15f6ad51d3a7a478bd0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="016aa0c0a7322975ec4b8eeac805f2c0" category="list-text">Se non è stato creato alcun connettore, viene visualizzato un pop-up che chiede di crearne uno.</block>
  <block id="6fcf6b9fcfb4b68ea9b356249917f8b4" category="paragraph"><block ref="6fcf6b9fcfb4b68ea9b356249917f8b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fc3362a0d8ab63cc8fa21bbd0fb07db" category="list-text">Fare clic su Iniziamo, quindi scegliere AWS.</block>
  <block id="7af8af3ae01ae5f5dac500ebebdcfff4" category="paragraph"><block ref="7af8af3ae01ae5f5dac500ebebdcfff4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="deae4c054bb3102bbf634b14534da9bf" category="inline-link">Pagina delle policy NetApp</block>
  <block id="651d429a2b6cfcd93f6adb1d4825a214" category="list-text">Inserisci la tua chiave segreta e la chiave di accesso.  Assicurati che il tuo utente abbia le autorizzazioni corrette descritte in<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block> .</block>
  <block id="ed76687fb3bd96d32653a4364e17843a" category="paragraph"><block ref="ed76687fb3bd96d32653a4364e17843a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8d59b60a74630e45f83fd3c48207b47" category="list-text">Assegna un nome al connettore e utilizza un ruolo predefinito come descritto nel<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block> oppure chiedi a Cloud Manager di creare il ruolo per te.</block>
  <block id="de6bc4c9b9d28ba5c38022a1273a6f8d" category="paragraph"><block ref="de6bc4c9b9d28ba5c38022a1273a6f8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02d395705fb063ad8d33d8c83c856e6f" category="list-text">Fornire le informazioni di rete necessarie per distribuire il connettore.  Verificare che l'accesso a Internet in uscita sia abilitato:</block>
  <block id="8215126360cbe5d8f5566c7ffc8cf224" category="list-text">Assegnare al connettore un indirizzo IP pubblico</block>
  <block id="22adb619c008bfd7495288573093ae44" category="list-text">Fornire al connettore un proxy attraverso cui lavorare</block>
  <block id="58a149795bbe86e4e0d4ab8f10413219" category="list-text">Fornire al connettore un percorso verso Internet pubblico tramite un gateway Internet</block>
  <block id="4eeccd1cb887dc911ed82bc677d8d983" category="paragraph"><block ref="4eeccd1cb887dc911ed82bc677d8d983" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7c58ebc9f032dc8d2e5c4f522cedbe0b" category="list-text">Fornire la comunicazione con il connettore tramite SSH, HTTP e HTTPs fornendo un gruppo di sicurezza o creandone uno nuovo.  Ho abilitato l'accesso al connettore solo dal mio indirizzo IP.</block>
  <block id="9fa6c6b8e5eb14feb24cb9d696157553" category="paragraph"><block ref="9fa6c6b8e5eb14feb24cb9d696157553" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb444cfaba774437ecdbbb95856d94cd" category="list-text">Esaminare le informazioni nella pagina di riepilogo e fare clic su Aggiungi per distribuire il connettore.</block>
  <block id="154cd816f1285c58e16ece21967da034" category="paragraph"><block ref="154cd816f1285c58e16ece21967da034" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4255ace47c9ad7f2907c18df7512bb9f" category="list-text">Il connettore ora viene distribuito utilizzando uno stack di formazione cloud.  È possibile monitorarne l'avanzamento tramite Cloud Manager o AWS.</block>
  <block id="057efd602c076f03093e38cc99809898" category="paragraph"><block ref="057efd602c076f03093e38cc99809898" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca320cc147e2b9fac2dd7379e91012b6" category="list-text">Una volta completata la distribuzione, verrà visualizzata una pagina di conferma.</block>
  <block id="87085175bd7e42e9ef939779233b1cde" category="paragraph"><block ref="87085175bd7e42e9ef939779233b1cde" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6382283fd45b13b5c983745731fec990" category="section-title">Distribuisci Cloud Volumes ONTAP</block>
  <block id="5fe90897c7135ba3020c4a397f55adb6" category="list-text">Seleziona AWS e il tipo di distribuzione in base alle tue esigenze.</block>
  <block id="b6bcc3b2a65dfe49900cc36f9acb3b2a" category="paragraph"><block ref="b6bcc3b2a65dfe49900cc36f9acb3b2a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ccf1300c5621fdebe8c1a70fade44f3b" category="list-text">Se non è stato assegnato alcun abbonamento e si desidera acquistare con PAYGO, selezionare Modifica credenziali.</block>
  <block id="0f7cc3cf4af39efaea394cb57ecc125b" category="paragraph"><block ref="0f7cc3cf4af39efaea394cb57ecc125b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88eb84b1a8f0417c9de6e1202125df56" category="list-text">Seleziona Aggiungi abbonamento.</block>
  <block id="91efa79ff5f66479423223a997f1b40f" category="paragraph"><block ref="91efa79ff5f66479423223a997f1b40f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="052208bafdfe08bc8f0735a78226e541" category="list-text">Scegli il tipo di contratto che desideri sottoscrivere.  Ho scelto il pagamento a consumo.</block>
  <block id="462124be98dbf5df5b3711d4f6c77a63" category="paragraph"><block ref="462124be98dbf5df5b3711d4f6c77a63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65577508f7897e730adb501d0db73913" category="list-text">Verrai reindirizzato ad AWS; seleziona Continua per iscriverti.</block>
  <block id="49a6585bc40dcafc761db93ca75ed3c6" category="paragraph"><block ref="49a6585bc40dcafc761db93ca75ed3c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="439c4fb23c120f0a99894c630cedaabd" category="list-text">Iscriviti e verrai reindirizzato a NetApp Cloud Central.  Se ti sei già iscritto e non vieni reindirizzato, seleziona il link "Clicca qui".</block>
  <block id="72b26a095b546317a1edbb45780701ee" category="paragraph"><block ref="72b26a095b546317a1edbb45780701ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="14b9e98d2b57da92c29826ce7de32c32" category="list-text">Verrai reindirizzato a Cloud Central, dove dovrai assegnare un nome al tuo abbonamento e assegnarlo al tuo account Cloud Central.</block>
  <block id="4dc70c9e1cfa86bc3ece7f5fd5341124" category="paragraph"><block ref="4dc70c9e1cfa86bc3ece7f5fd5341124" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4508f5994d1b34ff85cd1e8a1884d6c1" category="list-text">Se l'operazione riesce, viene visualizzata una pagina con un segno di spunta.  Torna alla scheda Cloud Manager.</block>
  <block id="f8420c2b2f2432184965cc0cd80ef5a0" category="paragraph"><block ref="f8420c2b2f2432184965cc0cd80ef5a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3294e5fb9ec1c42cde7ebf9b206c583" category="list-text">L'abbonamento ora appare in Cloud Central.  Fare clic su Applica per continuare.</block>
  <block id="ad10b8c573c47bcb7c2f6750597c3a08" category="paragraph"><block ref="ad10b8c573c47bcb7c2f6750597c3a08" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f7927b068a5dddb4852b2e7dc256544" category="list-text">Inserisci i dettagli dell'ambiente di lavoro, ad esempio:</block>
  <block id="0dbae4d42c7a0db53e2eb32adee12892" category="list-text">Nome del cluster</block>
  <block id="0c191ee206a91460fd94e2ff976a38e7" category="list-text">Password del cluster</block>
  <block id="53aa18427d1e2c7b7113c668561a62d2" category="list-text">Tag AWS (facoltativo)</block>
  <block id="3c6089f7361889520b00f7575c90e93e" category="paragraph"><block ref="3c6089f7361889520b00f7575c90e93e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3acd739fdfa810ca8857d8784a12d39" category="inline-link">BlueXP: le moderne operazioni di gestione dei dati semplificate</block>
  <block id="7d660e4b5afe11344e161db394235b71" category="list-text">Scegli quali servizi aggiuntivi desideri implementare.  Per scoprire di più su questi servizi, visita il<block ref="e261d37fe9d84ead5e578786e73e06d6" category="inline-link-rx"></block> .</block>
  <block id="a31642aee7d43c2824d20eb29cc4ef27" category="paragraph"><block ref="a31642aee7d43c2824d20eb29cc4ef27" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0dffa77d5644a3816ba69e24ce813ff" category="list-text">Scegliere se eseguire la distribuzione in più zone di disponibilità (sono necessarie tre subnet, ciascuna in una AZ diversa) o in una singola zona di disponibilità.  Ho scelto più AZ.</block>
  <block id="373394cacbff6f77a52fde009c163d3d" category="paragraph"><block ref="373394cacbff6f77a52fde009c163d3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b889b7255c34e7f230e392668605860" category="list-text">Selezionare la regione, la VPC e il gruppo di sicurezza in cui verrà distribuito il cluster.  In questa sezione si assegnano anche le zone di disponibilità per nodo (e mediatore), nonché le subnet che occupano.</block>
  <block id="815e3827acb1c1b8d9d8a51937da90cd" category="paragraph"><block ref="815e3827acb1c1b8d9d8a51937da90cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be43ebbf5380089f153e4f1b13e35e6f" category="list-text">Scegliere i metodi di connessione per i nodi e per il mediatore.</block>
  <block id="82d184747f0abe75a5d983d70aae4972" category="paragraph"><block ref="82d184747f0abe75a5d983d70aae4972" category="inline-image-macro-rx" type="image"></block></block>
  <block id="204bd52e1d13052712299779cf041df6" category="admonition">Il mediatore richiede la comunicazione con le API AWS.  Non è necessario un indirizzo IP pubblico, purché le API siano raggiungibili dopo la distribuzione dell'istanza EC2 del mediatore.</block>
  <block id="52fade87431f9acc43b7bf6e4c5fd2f1" category="inline-link">Documentazione NetApp Cloud</block>
  <block id="0c79e4a46253eeb94ba6b8218928aa99" category="list-text">Gli indirizzi IP flottanti vengono utilizzati per consentire l'accesso ai vari indirizzi IP utilizzati da Cloud Volumes ONTAP , inclusi gli IP di gestione dei cluster e di fornitura dei dati.  Devono essere indirizzi che non sono già instradabili all'interno della rete e che vengono aggiunti alle tabelle di routing nel tuo ambiente AWS.  Sono necessari per abilitare indirizzi IP coerenti per una coppia HA durante il failover.  Ulteriori informazioni sugli indirizzi IP flottanti possono essere trovate in<block ref="72cde540b4f97efa19e071f729439801" category="inline-link-rx"></block> .</block>
  <block id="f1618e40be863e66cd75f24e4cc7ad6a" category="paragraph"><block ref="f1618e40be863e66cd75f24e4cc7ad6a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="95ca6b5e9b64aed9132a6be07d061f3b" category="list-text">Selezionare a quali tabelle di routing aggiungere gli indirizzi IP mobili.  Queste tabelle di routing vengono utilizzate dai client per comunicare con Cloud Volumes ONTAP.</block>
  <block id="66bdb0f1c34a4b7ba044d0d6a7570891" category="paragraph"><block ref="66bdb0f1c34a4b7ba044d0d6a7570891" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af918e519f9c0db1ed5ab4fd4b6e9e05" category="list-text">Scegliere se abilitare la crittografia gestita da AWS o AWS KMS per crittografare i dischi radice, di avvio e dati ONTAP .</block>
  <block id="141e915d3c15643bd1e7f08d11ba8ae3" category="paragraph"><block ref="141e915d3c15643bd1e7f08d11ba8ae3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01bd54fa77587425fca4a6c352309b5c" category="list-text">Scegli il tuo modello di licenza.  Se non sai quale scegliere, contatta il tuo rappresentante NetApp .</block>
  <block id="a223ede8eeb34284274940e7b11bbcec" category="paragraph"><block ref="a223ede8eeb34284274940e7b11bbcec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04110b24d1459a6e21e35ad976a8f10e" category="list-text">Seleziona la configurazione più adatta al tuo caso d'uso.  Ciò è correlato alle considerazioni sulle dimensioni trattate nella pagina dei prerequisiti.</block>
  <block id="b4f3c2a2c1f02c4a4a482b595655fca8" category="paragraph"><block ref="b4f3c2a2c1f02c4a4a482b595655fca8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ed47788a525c6d08246bfa2f90922da" category="list-text">Facoltativamente, creare un volume.  Questa operazione non è necessaria, perché i passaggi successivi utilizzano SnapMirror, che crea i volumi per noi.</block>
  <block id="6f02bb954ac3558619d2e463a48e8331" category="paragraph"><block ref="6f02bb954ac3558619d2e463a48e8331" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76011f95c4e1b3f68fa5829dab0fb786" category="list-text">Rivedi le selezioni effettuate e seleziona le caselle per verificare di aver compreso che Cloud Manager distribuisce risorse nel tuo ambiente AWS.  Quando sei pronto, clicca su Vai.</block>
  <block id="502e46e84b4616db614c669176be0d9a" category="paragraph"><block ref="502e46e84b4616db614c669176be0d9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13b7f009673a469e5482a96832be1473" category="list-text">Cloud Volumes ONTAP avvia ora il processo di distribuzione.  Cloud Manager utilizza le API AWS e gli stack di formazione cloud per distribuire Cloud Volumes ONTAP.  Quindi configura il sistema in base alle tue specifiche, fornendoti un sistema pronto all'uso che puoi utilizzare immediatamente.  I tempi di questo processo variano a seconda delle selezioni effettuate.</block>
  <block id="899952570e24fd3fc37c3e57d3d1271b" category="paragraph"><block ref="899952570e24fd3fc37c3e57d3d1271b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e63d2329924bb302fb012e7916b3614" category="list-text">È possibile monitorare i progressi accedendo alla Timeline.</block>
  <block id="a080dfe218cdd73e65880324f6d560f6" category="paragraph"><block ref="a080dfe218cdd73e65880324f6d560f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b4df7cc92b3ee31f5d95082a78c7903" category="list-text">La cronologia funge da controllo di tutte le azioni eseguite in Cloud Manager.  È possibile visualizzare tutte le chiamate API effettuate da Cloud Manager durante la configurazione sia su AWS che sul cluster ONTAP .  Può essere utilizzato efficacemente anche per risolvere eventuali problemi che si possono riscontrare.</block>
  <block id="5801fcc13531ac6e2bab84a7380e103f" category="paragraph"><block ref="5801fcc13531ac6e2bab84a7380e103f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c5674ad1910f0a25455fdeb0f3f097a" category="list-text">Una volta completata la distribuzione, il cluster CVO appare su Canvas, con la capacità corrente.  Il cluster ONTAP nel suo stato attuale è completamente configurato per consentire un'esperienza reale e immediata.</block>
  <block id="22798f34a34152e28c020493921d7b15" category="paragraph"><block ref="22798f34a34152e28c020493921d7b15" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28d2e01957d5845ff59688f17bd34339" category="section-title">Configura SnapMirror da locale a cloud</block>
  <block id="081494b1a178710486921a42e2bdfa87" category="paragraph">Ora che hai distribuito un sistema ONTAP di origine e un sistema ONTAP di destinazione, puoi replicare i volumi contenenti i dati del database nel cloud.</block>
  <block id="cb3269c2496a99fb03bebe82b6a3e4bc" category="inline-link">Matrice di compatibilità SnapMirror</block>
  <block id="46aad6288d89ba29f38b4742bf018aca" category="paragraph">Per una guida sulle versioni ONTAP compatibili per SnapMirror, vedere<block ref="f75a4f2138bf92eb17ef87cad85a9e34" category="inline-link-rx"></block> .</block>
  <block id="36c5350a8474f2212fecc811eb77df57" category="list-text">Fare clic sul sistema ONTAP di origine (in locale) e trascinarlo nella destinazione, selezionare Replica &gt; Abilita oppure selezionare Replica &gt; Menu &gt; Replica.</block>
  <block id="fd6d4e8848e8d4adc582f03e2f612053" category="paragraph"><block ref="fd6d4e8848e8d4adc582f03e2f612053" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8771a8fdaa9e84a7eef7540edcca5f40" category="paragraph">Selezionare Abilita.</block>
  <block id="96450438aa2997b7c812909fa4df78c7" category="paragraph"><block ref="96450438aa2997b7c812909fa4df78c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6a8dc55f6f333187a100f6ed328bdc0" category="paragraph">Oppure Opzioni.</block>
  <block id="bf014988275a6a68a8aea85a9c506c90" category="paragraph"><block ref="bf014988275a6a68a8aea85a9c506c90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="066bf779660ad446aa9b0d4021c4bf40" category="paragraph">Replicare.</block>
  <block id="0826b46757f4933901b6c22820cdda65" category="paragraph"><block ref="0826b46757f4933901b6c22820cdda65" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a803b2a55429f981d25fbb8da94aef7" category="list-text">Se non hai eseguito il trascinamento della selezione, seleziona il cluster di destinazione su cui effettuare la replica.</block>
  <block id="3b8d04b611a7f56afdf4446966fd5145" category="paragraph"><block ref="3b8d04b611a7f56afdf4446966fd5145" category="inline-image-macro-rx" type="image"></block></block>
  <block id="761124dc5e0730086556a7d33d43418c" category="list-text">Scegli il volume che desideri replicare.  Abbiamo replicato i dati e tutti i volumi di registro.</block>
  <block id="77ae956b66b100d51263a6259495dece" category="paragraph"><block ref="77ae956b66b100d51263a6259495dece" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bde4e8497f5ecaef866c0f049aada776" category="list-text">Selezionare il tipo di disco di destinazione e la politica di suddivisione in livelli.  Per il disaster recovery, consigliamo un SSD come tipo di disco e per mantenere la suddivisione in livelli dei dati.  Il data tiering suddivide i dati speculari in un archivio di oggetti a basso costo e consente di risparmiare denaro sui dischi locali.  Quando si interrompe la relazione o si clona il volume, i dati utilizzano l'archiviazione locale veloce.</block>
  <block id="5a1df9c1cf24f75033e265b1af247a15" category="paragraph"><block ref="5a1df9c1cf24f75033e265b1af247a15" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f06f2f09c024b69ef3944a8cd78ad9" category="list-text">Seleziona il nome del volume di destinazione: abbiamo scelto<block ref="47456946fa180c1578446a0fa28fca75" prefix=" " category="inline-code"></block> .</block>
  <block id="f487f19ba7c577c89543481c7c13ddc6" category="paragraph"><block ref="f487f19ba7c577c89543481c7c13ddc6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2882a0dbc1a6ad74198ac2cb6316870d" category="list-text">Selezionare la velocità di trasferimento massima per la replica.  Ciò consente di risparmiare larghezza di banda se si dispone di una connessione al cloud con larghezza di banda ridotta, come una VPN.</block>
  <block id="a127301ec987f10a430a133488e8721b" category="paragraph"><block ref="a127301ec987f10a430a133488e8721b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f81dd66e0f0847d4cb1d2d12fadcc2f3" category="list-text">Definire la politica di replicazione.  Abbiamo scelto un Mirror, che prende il set di dati più recente e lo replica nel volume di destinazione.  Potresti anche scegliere una polizza diversa in base alle tue esigenze.</block>
  <block id="89db4113eb86c6ebd683f41a52597113" category="paragraph"><block ref="89db4113eb86c6ebd683f41a52597113" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4db5384e8d04b01ff24a9178b3efaf6a" category="list-text">Selezionare la pianificazione per l'attivazione della replica.  NetApp consiglia di impostare una pianificazione "giornaliera" per il volume di dati e una pianificazione "oraria" per i volumi di log, anche se è possibile modificarla in base alle esigenze.</block>
  <block id="88bb947a9d39428caa209ad67ae72578" category="paragraph"><block ref="88bb947a9d39428caa209ad67ae72578" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02e3a269661e3c96a86a075872a1b269" category="list-text">Rivedere le informazioni immesse, fare clic su Vai per attivare il peer del cluster e il peer SVM (se è la prima volta che si esegue una replica tra i due cluster), quindi implementare e inizializzare la relazione SnapMirror .</block>
  <block id="cd89073929b0f96bebb967e45c151c9c" category="paragraph"><block ref="cd89073929b0f96bebb967e45c151c9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c160366cab97ee8f1a35416d1294ddb" category="list-text">Continuare questo processo per i volumi di dati e i volumi di registro.</block>
  <block id="64853c47f4f907262466c1e5ad154c8c" category="list-text">Per controllare tutte le relazioni, vai alla scheda Replicazione in Cloud Manager.  Qui puoi gestire le tue relazioni e controllarne lo stato.</block>
  <block id="84385394a29330eb8f3ddc777e052ead" category="paragraph"><block ref="84385394a29330eb8f3ddc777e052ead" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c88bec52f9e24233a78b6a90efa32ec6" category="list-text">Dopo aver replicato tutti i volumi, si è in uno stato stabile e si è pronti a passare ai flussi di lavoro di disaster recovery e sviluppo/test.</block>
  <block id="86fb3ee49ae2f8c0ee121c551a8f08c2" category="section-title">3. Distribuisci l'istanza di elaborazione EC2 per il carico di lavoro del database</block>
  <block id="91ba52045df2b9244f28270482f749c9" category="inline-link">Tipo di istanza EC2</block>
  <block id="33aaa72e62140af9cecb2c48f836b84b" category="paragraph">AWS ha preconfigurato istanze di elaborazione EC2 per vari carichi di lavoro.  La scelta del tipo di istanza determina il numero di core della CPU, la capacità di memoria, il tipo e la capacità di archiviazione e le prestazioni della rete.  Per i casi d'uso, ad eccezione della partizione del sistema operativo, lo storage principale per eseguire il carico di lavoro del database viene allocato da CVO o dal motore di storage FSx ONTAP .  Pertanto, i fattori principali da considerare sono la scelta dei core della CPU, della memoria e del livello di prestazioni della rete.  I tipi tipici di istanze AWS EC2 sono disponibili qui:<block ref="9334d5b9e602c5921b4f295f6041489b" category="inline-link-rx"></block> .</block>
  <block id="0af43c3d809d6e56a6a7a0d1ed039bbc" category="section-title">Dimensionamento dell'istanza di calcolo</block>
  <block id="0b6e77aedd6bd733f979314fef2a98d7" category="list-text">Selezionare il tipo di istanza corretto in base al carico di lavoro richiesto.  Tra i fattori da considerare rientrano il numero di transazioni commerciali da supportare, il numero di utenti contemporanei, le dimensioni del set di dati e così via.</block>
  <block id="ed4b68006572e288530a2152f7fbe5fe" category="list-text">La distribuzione delle istanze EC2 può essere avviata tramite la Dashboard EC2.  Le procedure di distribuzione esatte vanno oltre lo scopo di questa soluzione.  Vedere<block ref="3a5862dd365e3998013717e9cf118a9a" category="inline-link-rx"></block> per i dettagli.</block>
  <block id="708991723f71fa1bd7b8081be442552c" category="section-title">Configurazione dell'istanza Linux per il carico di lavoro Oracle</block>
  <block id="5c17b7d75ff16063f772234e1ea8eeb1" category="paragraph">Questa sezione contiene ulteriori passaggi di configurazione da eseguire dopo la distribuzione di un'istanza EC2 Linux.</block>
  <block id="39d786446455bb2b3017b793805fc902" category="list-text">Aggiungere un'istanza standby di Oracle al server DNS per la risoluzione dei nomi all'interno del dominio di gestione SnapCenter .</block>
  <block id="385a2a4f5305fe5ce8017f18fb7eabd4" category="list-text">Aggiungere un ID utente di gestione Linux come credenziali del sistema operativo SnapCenter con autorizzazioni sudo senza password.  Abilitare l'ID con autenticazione tramite password SSH sull'istanza EC2.  (Per impostazione predefinita, l'autenticazione tramite password SSH e sudo senza password sono disattivati nelle istanze EC2.)</block>
  <block id="a2b4677d7a72840a78373c600441681a" category="list-text">Configurare l'installazione di Oracle in modo che corrisponda all'installazione di Oracle in locale, ad esempio patch del sistema operativo, versioni e patch di Oracle e così via.</block>
  <block id="66b65364302a847feb2630bfd7974256" category="inline-link">Distribuzione automatizzata di Oracle 19c</block>
  <block id="fa470598a181c1ed905bace243e46aa3" category="list-text">I ruoli di automazione del database NetApp Ansible possono essere sfruttati per configurare istanze EC2 per casi d'uso di sviluppo/test del database e di disaster recovery.  Il codice di automazione può essere scaricato dal sito pubblico GitHub NetApp :<block ref="437f8b44ff65600fb5697e9d369a0c54" category="inline-link-rx"></block> .  L'obiettivo è installare e configurare uno stack software di database su un'istanza EC2 in modo che corrisponda alle configurazioni del sistema operativo e del database locali.</block>
  <block id="97875b4799caf4c948118e7b4776c9fb" category="section-title">Configurazione dell'istanza di Windows per il carico di lavoro di SQL Server</block>
  <block id="c63751cfdcf8c0b4e26635a47c7f0d97" category="paragraph">In questa sezione sono elencati i passaggi di configurazione aggiuntivi successivi alla distribuzione iniziale di un'istanza EC2 Windows.</block>
  <block id="5f44e6a78874f9f49acae3caa71cc14d" category="list-text">Recupera la password dell'amministratore di Windows per accedere a un'istanza tramite RDP.</block>
  <block id="eabafc642b0901afd6622ab0f19d9ef0" category="list-text">Disattivare il firewall di Windows, unire l'host al dominio Windows SnapCenter e aggiungere l'istanza al server DNS per la risoluzione dei nomi.</block>
  <block id="08bf2d7ff3ac9ab37cfa8dc449b3c8da" category="list-text">Fornire un volume di registro SnapCenter per archiviare i file di registro di SQL Server.</block>
  <block id="f97ac9d1946c873247af15165559b47a" category="list-text">Configurare iSCSI sull'host Windows per montare il volume e formattare l'unità disco.</block>
  <block id="6c2a9c611f48cae767f6ebea6fca0457" category="inline-link">Automazione NetApp</block>
  <block id="6dea6226167bd38268de4c4d948d72de" category="list-text">Anche in questo caso, molte delle attività precedenti possono essere automatizzate con la soluzione di automazione NetApp per SQL Server.  Consulta il sito GitHub pubblico di NetApp Automation per i ruoli e le soluzioni appena pubblicati:<block ref="8cafb3a3b1222d318fcd262791229701" category="inline-link-rx"></block> .</block>
  <block id="a10998cc3e1dc7f2a013754d935c4f26" category="summary">Lo strumento NetApp SnapCenter utilizza il controllo degli accessi basato sui ruoli (RBAC) per gestire l'accesso alle risorse utente e le concessioni di autorizzazioni, mentre l'installazione SnapCenter crea ruoli precompilati.  Puoi anche creare ruoli personalizzati in base alle tue esigenze o applicazioni.</block>
  <block id="7e3b07f9add4cd78ade3c795a52dfad2" category="doc">Iniziare in sede</block>
  <block id="7146594a919f2b006b1b0911c7b6d7da" category="section-title">In sede</block>
  <block id="d30e54646ba482722332f48ddc22bde5" category="section-title">1. Imposta l'utente amministratore del database in SnapCenter</block>
  <block id="305421fd1d1b88bcd273862dd1e901c1" category="paragraph">Ha senso avere un ID utente amministratore dedicato per ogni piattaforma di database supportata da SnapCenter per il backup, il ripristino e/o il ripristino di emergenza del database.  È anche possibile utilizzare un unico ID per gestire tutti i database.  Nei nostri casi di prova e nella dimostrazione, abbiamo creato un utente amministratore dedicato rispettivamente per Oracle e SQL Server.</block>
  <block id="27733e8f07432bb94ac7621b28d3b2c8" category="paragraph">Alcune risorse SnapCenter possono essere fornite solo con il ruolo SnapCenterAdmin.  Le risorse possono quindi essere assegnate ad altri ID utente per l'accesso.</block>
  <block id="64784aa3cec13e83af6e941f8489cf06" category="paragraph">In un ambiente SnapCenter on-premise preinstallato e configurato, le seguenti attività potrebbero essere già state completate.  In caso contrario, procedere come segue per creare un utente amministratore del database:</block>
  <block id="c8867eac833e7bb55520105b00139f1a" category="list-text">Aggiungere l'utente amministratore a Windows Active Directory.</block>
  <block id="dd3e743eb52cbe7c2b6104573a9767e0" category="list-text">Accedi a SnapCenter utilizzando un ID concesso con il ruolo SnapCenterAdmin.</block>
  <block id="a6bd76cb24271ba173d16f01bf4108d0" category="list-text">Passare alla scheda Accesso in Impostazioni e Utenti e fare clic su Aggiungi per aggiungere un nuovo utente.  Il nuovo ID utente è collegato all'utente amministratore creato in Windows Active Directory nel passaggio 1.  .  Assegnare il ruolo appropriato all'utente, secondo necessità.  Assegnare le risorse all'utente amministratore, se applicabile.</block>
  <block id="d81202c1709c994bd492ddc9a55b821a" category="paragraph"><block ref="d81202c1709c994bd492ddc9a55b821a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5d2c51e83f473f137861a132554d1916" category="section-title">2. Prerequisiti per l'installazione del plugin SnapCenter</block>
  <block id="7bd973d4d28d6fcf5f50379b33a49758" category="paragraph">SnapCenter esegue backup, ripristino, clonazione e altre funzioni utilizzando un agente plugin in esecuzione sugli host DB.  Si connette all'host del database e al database tramite credenziali configurate nella scheda Impostazioni e credenziali per l'installazione dei plugin e altre funzioni di gestione.  Esistono requisiti di privilegi specifici in base al tipo di host di destinazione, ad esempio Linux o Windows, nonché al tipo di database.</block>
  <block id="c342f214098114b90cb67297a2ef5dc3" category="paragraph">Le credenziali degli host DB devono essere configurate prima dell'installazione del plugin SnapCenter .  In genere, è consigliabile utilizzare un account utente amministratore sull'host DB come credenziali di connessione all'host per l'installazione del plugin.  È anche possibile concedere lo stesso ID utente per l'accesso al database utilizzando l'autenticazione basata sul sistema operativo.  D'altro canto, è anche possibile utilizzare l'autenticazione del database con diversi ID utente del database per l'accesso alla gestione del database.  Se si decide di utilizzare l'autenticazione basata sul sistema operativo, all'ID utente amministratore del sistema operativo deve essere concesso l'accesso al database.  Per l'installazione di SQL Server basata su dominio Windows, è possibile utilizzare un account amministratore di dominio per gestire tutti i server SQL all'interno del dominio.</block>
  <block id="19df1192effefad83e57653fd3a47415" category="paragraph">Host Windows per SQL Server:</block>
  <block id="e1cc3ce53d7753e33588201db3d3b147" category="list-text">Se si utilizzano le credenziali di Windows per l'autenticazione, è necessario impostare le credenziali prima di installare i plugin.</block>
  <block id="a82f1290b72a26d654b93632a1ec50bb" category="list-text">Se si utilizza un'istanza di SQL Server per l'autenticazione, è necessario aggiungere le credenziali dopo aver installato i plugin.</block>
  <block id="63f74bef6650942c6795f96366a39e6a" category="list-text">Se hai abilitato l'autenticazione SQL durante la configurazione delle credenziali, l'istanza o il database individuato viene visualizzato con un'icona a forma di lucchetto rosso.  Se viene visualizzata l'icona del lucchetto, è necessario specificare le credenziali dell'istanza o del database per aggiungere correttamente l'istanza o il database a un gruppo di risorse.</block>
  <block id="b61dad3bbbf3270bf2dada5c2ac1f775" category="list-text">È necessario assegnare le credenziali a un utente RBAC senza accesso sysadmin quando sono soddisfatte le seguenti condizioni:</block>
  <block id="34cefb5a19894e4f9b1b068544c0f591" category="list-text">La credenziale viene assegnata a un'istanza SQL.</block>
  <block id="6707464a5871a6aa26dcf785bea4052c" category="list-text">L'istanza o l'host SQL viene assegnato a un utente RBAC.</block>
  <block id="4bc8aac02ff00d874ad8b4ccd4d745ed" category="list-text">L'utente amministratore del database RBAC deve disporre sia dei privilegi di gruppo di risorse che di backup.</block>
  <block id="9198b455aa67840c7a69c7a54e94301a" category="paragraph">Host Unix per Oracle:</block>
  <block id="71d53e54a48cfe7de69347bcd854ef30" category="list-text">È necessario aver abilitato la connessione SSH basata su password per l'utente root o non root modificando sshd.conf e riavviando il servizio sshd.  Per impostazione predefinita, l'autenticazione SSH basata su password sull'istanza AWS è disattivata.</block>
  <block id="efa873f0464a14d54b066f475ad74480" category="list-text">Configurare i privilegi sudo per l'utente non root per installare e avviare il processo del plugin.  Dopo aver installato il plugin, i processi vengono eseguiti come utente root effettivo.</block>
  <block id="82a2174029175f8fbc3f52fea4e18c84" category="list-text">Creare credenziali con la modalità di autenticazione Linux per l'utente installatore.</block>
  <block id="86b3cc44ebd8e0a9185e48c4f22e81e9" category="list-text">È necessario installare Java 1.8.x (64 bit) sul proprio host Linux.</block>
  <block id="c1e8851d10ecc615c47a47f704569d29" category="list-text">L'installazione del plugin del database Oracle installa anche il plugin SnapCenter per Unix.</block>
  <block id="7efb27733d1fb21feae901a41580dced" category="section-title">3. Installazione del plugin host SnapCenter</block>
  <block id="37a5c714defad8175b81b4d49eb0544c" category="admonition">Prima di provare a installare i plugin SnapCenter sulle istanze del server DB cloud, assicurarsi che tutti i passaggi di configurazione siano stati completati come elencato nella sezione cloud pertinente per la distribuzione delle istanze di calcolo.</block>
  <block id="283aa502c28fe1c9ff8dadd1700955fc" category="paragraph">I passaggi seguenti illustrano come aggiungere un host di database a SnapCenter mentre un plug-in SnapCenter è installato sull'host.  La procedura si applica sia all'aggiunta di host locali che di host cloud.  La seguente dimostrazione aggiunge un host Windows o Linux residente in AWS.</block>
  <block id="81ed46777c39c0d0618953601572fc27" category="section-title">Configurare le impostazioni globali di SnapCenter VMware</block>
  <block id="2aa8a40dbbfb6b52621408c81aa5373c" category="paragraph">Vai su Impostazioni &gt; Impostazioni globali.  Selezionare "Le VM hanno dischi collegati direttamente iSCSI o NFS per tutti gli host" in Impostazioni hypervisor e fare clic su Aggiorna.</block>
  <block id="630d2f2ed5a911f843220a33278bd218" category="paragraph"><block ref="630d2f2ed5a911f843220a33278bd218" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1f63a469619859e4cfab52fd63523aca" category="section-title">Aggiungi host Windows e installazione del plugin sull'host</block>
  <block id="997da6deedab4436b559e3a8f7f05a2e" category="list-text">Accedi a SnapCenter con un ID utente con privilegi SnapCenterAdmin.</block>
  <block id="97e7f600216a2e9ae18423777e11ad9c" category="list-text">Fare clic sulla scheda Host dal menu a sinistra, quindi fare clic su Aggiungi per aprire il flusso di lavoro Aggiungi host.</block>
  <block id="35314bae57d7ff62ab36156211c1cc71" category="list-text">Selezionare Windows per Tipo di host; il Nome host può essere un nome host o un indirizzo IP.  Il nome host deve essere risolto nell'indirizzo IP host corretto dall'host SnapCenter .  Selezionare le credenziali host create nel passaggio 2.  Selezionare Microsoft Windows e Microsoft SQL Server come pacchetti plugin da installare.</block>
  <block id="43c147a0be605e0cc8ffded299f5c93f" category="paragraph"><block ref="43c147a0be605e0cc8ffded299f5c93f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31efcd689861354799bb539ab2571ebe" category="list-text">Dopo aver installato il plugin su un host Windows, il suo stato generale viene visualizzato come "Configura directory di registro".</block>
  <block id="1a913d932659d3d35b4180759a773272" category="paragraph"><block ref="1a913d932659d3d35b4180759a773272" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2aeaa4503c6d72513c0dbe0f205ee3b" category="list-text">Fare clic sul nome host per aprire la configurazione della directory dei log di SQL Server.</block>
  <block id="4980596e0ec39fa5b3da0c04d170c15e" category="paragraph"><block ref="4980596e0ec39fa5b3da0c04d170c15e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cb2b40646a77b4f044e7fa04ea20306" category="list-text">Fare clic su "Configura directory di registro" per aprire "Configura plug-in per SQL Server".</block>
  <block id="3478df9e78b0299e0e178a5930a40303" category="paragraph"><block ref="3478df9e78b0299e0e178a5930a40303" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7143b5d162d385dfb1af07f61c59f65" category="list-text">Fare clic su Sfoglia per individuare lo storage NetApp in modo da poter impostare una directory di registro; SnapCenter utilizza questa directory di registro per eseguire il rollup dei file di registro delle transazioni del server SQL.  Quindi fare clic su Salva.</block>
  <block id="5c0d12eb9a2ddfa9290c6622825ca9c2" category="paragraph"><block ref="5c0d12eb9a2ddfa9290c6622825ca9c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0d88588bdb07dd412a4ba1d08348b29" category="admonition">Per poter rilevare lo storage NetApp fornito a un host DB, è necessario aggiungere lo storage (on-prem o CVO) a SnapCenter, come illustrato nel passaggio 6 per CVO come esempio.</block>
  <block id="d744af12906d55ab51aa932b3ffcd121" category="list-text">Dopo aver configurato la directory del registro, lo stato generale del plug-in host di Windows viene modificato in In esecuzione.</block>
  <block id="938b6bc2586cc7e65b6bfe8e127627c9" category="paragraph"><block ref="938b6bc2586cc7e65b6bfe8e127627c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f41517f2e270a138f4ae92988a4cbdd2" category="list-text">Per assegnare l'host all'ID utente di gestione del database, accedere alla scheda Accesso in Impostazioni e utenti, fare clic sull'ID utente di gestione del database (nel nostro caso l'sqldba a cui deve essere assegnato l'host) e fare clic su Salva per completare l'assegnazione delle risorse dell'host.</block>
  <block id="f5992d2f2d3cd160bef3a5808ea9c7a8" category="paragraph"><block ref="f5992d2f2d3cd160bef3a5808ea9c7a8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6365b1367d600687545af5ce78d7db70" category="paragraph"><block ref="6365b1367d600687545af5ce78d7db70" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2fe19c733a6342990513e02264db163" category="section-title">Aggiungi host Unix e installazione del plugin sull'host</block>
  <block id="6a0f36be9f208d20c3c1145c3a09b876" category="list-text">Fare clic sulla scheda Host dal menu a sinistra e fare clic su Aggiungi per aprire il flusso di lavoro Aggiungi host.</block>
  <block id="dd8c6d773e31c4254eb58b4b5e2ae1be" category="list-text">Selezionare Linux come tipo di host.  Il nome host può essere il nome host o un indirizzo IP.  Tuttavia, il nome host deve essere risolto nell'indirizzo IP host corretto dall'host SnapCenter .  Selezionare le credenziali host create nel passaggio 2.  Le credenziali host richiedono privilegi sudo.  Selezionare Oracle Database come plug-in da installare, che installa sia i plug-in host Oracle che quelli Linux.</block>
  <block id="80d821bdc7cae847f4be7da623786019" category="paragraph"><block ref="80d821bdc7cae847f4be7da623786019" category="inline-image-macro-rx" type="image"></block></block>
  <block id="711730391561a228d41f7fede13ca6e8" category="list-text">Fai clic su Altre opzioni e seleziona "Salta controlli preinstallazione".  Ti verrà chiesto di confermare l'esclusione del controllo pre-installazione.  Fare clic su Sì e poi su Salva.</block>
  <block id="c9d2490259e25f3e50c0258ad77bad7c" category="paragraph"><block ref="c9d2490259e25f3e50c0258ad77bad7c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e095a093138c6b1968d313d5f799255a" category="list-text">Fare clic su Invia per avviare l'installazione del plugin.  Ti verrà chiesto di confermare l'impronta digitale come mostrato di seguito.</block>
  <block id="291f6500b7d39224bfa92d457c248ccc" category="paragraph"><block ref="291f6500b7d39224bfa92d457c248ccc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53dcda6f2c03efbe73ae5eb311852a8d" category="list-text">SnapCenter esegue la convalida e la registrazione dell'host, dopodiché il plugin viene installato sull'host Linux.  Lo stato è cambiato da Installazione plugin a In esecuzione.</block>
  <block id="f81df29b374ae9743afe1d3716f4dc6b" category="paragraph"><block ref="f81df29b374ae9743afe1d3716f4dc6b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33ea9d9313933c68d640ebb655ec43dc" category="list-text">Assegnare all'host appena aggiunto l'ID utente di gestione del database appropriato (nel nostro caso, oradba).</block>
  <block id="b1dbe45375d0b7d2baf48b5aed7e8b63" category="paragraph"><block ref="b1dbe45375d0b7d2baf48b5aed7e8b63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af252eb4b41e7d4cf60750cceafa2713" category="paragraph"><block ref="af252eb4b41e7d4cf60750cceafa2713" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b4c839521fd41e845e6e8c3158b809b" category="section-title">4. Scoperta delle risorse del database</block>
  <block id="45e46a9524f23884445bf542bf464b93" category="paragraph">Una volta installato correttamente il plugin, le risorse del database sull'host possono essere immediatamente scoperte.  Fare clic sulla scheda Risorse nel menu a sinistra.  A seconda del tipo di piattaforma di database, sono disponibili diverse viste, ad esempio quella del database, del gruppo di risorse e così via.  Potrebbe essere necessario fare clic sulla scheda Aggiorna risorse se le risorse sull'host non vengono rilevate e visualizzate.</block>
  <block id="7b7e19406faf494c29928bb6d5e54d67" category="paragraph"><block ref="7b7e19406faf494c29928bb6d5e54d67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66789731e61fd3d4b6024e5fcb0945e1" category="paragraph">Quando il database viene inizialmente scoperto, lo stato generale viene visualizzato come "Non protetto".  Lo screenshot precedente mostra un database Oracle non ancora protetto da una policy di backup.</block>
  <block id="68148a1249ca9110d03c698ae152932a" category="paragraph">Quando viene impostata una configurazione o una policy di backup e viene eseguito un backup, lo Stato complessivo del database mostra lo stato del backup come "Backup riuscito" e il timestamp dell'ultimo backup.  La seguente schermata mostra lo stato del backup di un database utente di SQL Server.</block>
  <block id="1089618247726f9460b3a543d1a6c812" category="paragraph"><block ref="1089618247726f9460b3a543d1a6c812" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c9616324bc00808729d46fba94ad75" category="paragraph">Se le credenziali di accesso al database non sono impostate correttamente, un pulsante a forma di lucchetto rosso indica che il database non è accessibile.  Ad esempio, se le credenziali di Windows non dispongono dell'accesso sysadmin a un'istanza di database, è necessario riconfigurare le credenziali del database per sbloccare il lucchetto rosso.</block>
  <block id="262b33baf188a7ac429e46f8ed441b1f" category="paragraph"><block ref="262b33baf188a7ac429e46f8ed441b1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e12fdcefc6e3b3694659412d66fd46b0" category="paragraph"><block ref="e12fdcefc6e3b3694659412d66fd46b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0024854a814ddd68bcf3907357c46bc2" category="paragraph">Dopo aver configurato le credenziali appropriate a livello di Windows o di database, il lucchetto rosso scompare e le informazioni sul tipo di SQL Server vengono raccolte e riviste.</block>
  <block id="8c5ca337f7fe77045b6b45a8d2362283" category="paragraph"><block ref="8c5ca337f7fe77045b6b45a8d2362283" category="inline-image-macro-rx" type="image"></block></block>
  <block id="864f4d2595d06e5e8b46b08edb3899e6" category="section-title">5. Configurazione del peering del cluster di archiviazione e della replica dei volumi DB</block>
  <block id="785196ec55a9e713ad1a4f962baa31dd" category="paragraph">Per proteggere i dati del database locale utilizzando un cloud pubblico come destinazione, i volumi del database del cluster ONTAP locale vengono replicati sul CVO del cloud utilizzando la tecnologia NetApp SnapMirror .  I volumi di destinazione replicati possono quindi essere clonati per DEV/OPS o per il ripristino di emergenza.  I seguenti passaggi di alto livello consentono di configurare il peering del cluster e la replica dei volumi DB.</block>
  <block id="1f1927293f04e4cf0fc91a7e389612eb" category="list-text">Configurare i LIF intercluster per il peering dei cluster sia sul cluster locale che sull'istanza del cluster CVO.  Questo passaggio può essere eseguito con ONTAP System Manager.  Una distribuzione CVO predefinita prevede la configurazione automatica dei LIF inter-cluster.</block>
  <block id="9547803d96e78bbc38305e6300f7a800" category="paragraph">Cluster on-premise:</block>
  <block id="28eb75cb56ac4175ecce720173939cac" category="paragraph"><block ref="28eb75cb56ac4175ecce720173939cac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3c5b3e342f57b792e2263e69e41677a" category="paragraph">Cluster CVO di destinazione:</block>
  <block id="47606021eb1d565acf6479f493e74c8f" category="paragraph"><block ref="47606021eb1d565acf6479f493e74c8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79d372933b80ed2ca8ca14d8458828af" category="inline-link-macro">Per iniziare - AWS Public Cloud</block>
  <block id="0ef3d64368b20c785b5a1ab6823ac793" category="list-text">Una volta configurati i LIF intercluster, è possibile impostare il peering dei cluster e la replica dei volumi tramite trascinamento della selezione in NetApp Cloud Manager.  Vedere<block ref="f96690c3cd38947f0a81f723268654a2" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="d1567c6c8f0752cbc7deb6d9f639ba12" category="paragraph">In alternativa, il peering del cluster e la replica del volume DB possono essere eseguiti utilizzando ONTAP System Manager come segue:</block>
  <block id="494c0b53ff31502c0c1105881e2e389a" category="list-text">Accedere a ONTAP System Manager.  Vai su Cluster &gt; Impostazioni e fai clic su Cluster peer per configurare il peering del cluster con l'istanza CVO nel cloud.</block>
  <block id="c316f4b63a7964f3f7835cdfe46965de" category="paragraph"><block ref="c316f4b63a7964f3f7835cdfe46965de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54de72c782c4b4ccc7f2914a858d5356" category="list-text">Vai alla scheda Volumi.  Selezionare il volume del database da replicare e fare clic su Proteggi.</block>
  <block id="a620ebb290809125fe594a9be0359963" category="paragraph"><block ref="a620ebb290809125fe594a9be0359963" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0aace069b478e8b2b0753f855f2be94" category="list-text">Impostare la policy di protezione su Asincrona.  Selezionare il cluster di destinazione e l'SVM di archiviazione.</block>
  <block id="4ef6d9836c61eceec7758ddd5c16188f" category="paragraph"><block ref="4ef6d9836c61eceec7758ddd5c16188f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a2a64fe8af0790615a9344069794e2e" category="list-text">Verificare che il volume sia sincronizzato tra l'origine e la destinazione e che la relazione di replica sia integra.</block>
  <block id="65e7e4f999fa65ed9a789399a590bf72" category="paragraph"><block ref="65e7e4f999fa65ed9a789399a590bf72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="36097c4ad6058de288de8992f89adbb8" category="section-title">6. Aggiungere l'SVM di archiviazione del database CVO a SnapCenter</block>
  <block id="ebcf85d67af3f672ade8bd7b224a8a2b" category="list-text">Fare clic sulla scheda Sistema di archiviazione dal menu, quindi fare clic su Nuovo per aggiungere un SVM di archiviazione CVO che ospita volumi di database di destinazione replicati a SnapCenter.  Immettere l'IP di gestione del cluster nel campo Sistema di archiviazione e immettere il nome utente e la password appropriati.</block>
  <block id="ae9439d1532092362c8f3b8303476016" category="paragraph"><block ref="ae9439d1532092362c8f3b8303476016" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a27406b63f99780f65572b95f2f72348" category="list-text">Fare clic su Altre opzioni per aprire ulteriori opzioni di configurazione dell'archiviazione.  Nel campo Piattaforma, seleziona Cloud Volumes ONTAP, seleziona Secondario e quindi fai clic su Salva.</block>
  <block id="b5399383fbd5f0b8ac64078cd608ed01" category="paragraph"><block ref="b5399383fbd5f0b8ac64078cd608ed01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b474a0a2de59b8e3013112beb48af7b7" category="list-text">Assegnare i sistemi di archiviazione agli ID utente di gestione del database SnapCenter come mostrato in<block ref="8a46cbc3838a53b9205abb25a577bbc8" category="inline-xref-macro-rx"></block> .</block>
  <block id="46ffdf610903ff8e06610b7bc5f9189f" category="paragraph"><block ref="46ffdf610903ff8e06610b7bc5f9189f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39ec95149453e7bb6b73f1c03228e85c" category="section-title">7. Imposta la policy di backup del database in SnapCenter</block>
  <block id="37d9f685e375f77a2231e13c88ccc606" category="paragraph">Le seguenti procedure illustrano come creare un criterio di backup completo del database o del file di registro.  La politica può quindi essere implementata per proteggere le risorse dei database.  L'obiettivo del punto di ripristino (RPO) o l'obiettivo del tempo di ripristino (RTO) determinano la frequenza dei backup del database e/o del log.</block>
  <block id="739184f368f13e142dd034fcdc853594" category="section-title">Creare una policy di backup completa del database per Oracle</block>
  <block id="94b39254a7aba068b68fec64f6331b0b" category="list-text">Accedi a SnapCenter come ID utente di gestione del database, fai clic su Impostazioni, quindi su Criteri.</block>
  <block id="597029eb56a33e7df07c2acfef695a2e" category="paragraph"><block ref="597029eb56a33e7df07c2acfef695a2e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1d144b8c78fc8541b57aa9f0ca863a6" category="list-text">Fare clic su Nuovo per avviare un nuovo flusso di lavoro per la creazione di una policy di backup oppure scegliere una policy esistente da modificare.</block>
  <block id="89baf6cf5c890597c9ffff0454f8cc23" category="paragraph"><block ref="89baf6cf5c890597c9ffff0454f8cc23" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8c9dac29c26006ce512153a9bdabcc95" category="list-text">Selezionare il tipo di backup e la frequenza di pianificazione.</block>
  <block id="e606119e88a509a0eba656724e81371b" category="paragraph"><block ref="e606119e88a509a0eba656724e81371b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4df94ad44381c9fb7fe2f8d01dcd16d8" category="list-text">Imposta le impostazioni di conservazione del backup.  Definisce quante copie di backup complete del database conservare.</block>
  <block id="793d3dfb27d9493b47c700cf38d91870" category="paragraph"><block ref="793d3dfb27d9493b47c700cf38d91870" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fd634020906b35a41e0ba633eddeb96a" category="list-text">Selezionare le opzioni di replicazione secondaria per inviare i backup degli snapshot primari locali da replicare in una posizione secondaria nel cloud.</block>
  <block id="b671175e47abd949c3f803072031d77f" category="paragraph"><block ref="b671175e47abd949c3f803072031d77f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2e3af55a4355bc46e91425ac5701174" category="list-text">Specificare eventuali script facoltativi da eseguire prima e dopo l'esecuzione di un backup.</block>
  <block id="8229fb3c24d23e3eadfd3f10cc3c5afe" category="paragraph"><block ref="8229fb3c24d23e3eadfd3f10cc3c5afe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd009bc210e371d36d466b592179e883" category="list-text">Se lo si desidera, eseguire la verifica del backup.</block>
  <block id="57bf5cb4144425b86f38426b7e9400ed" category="paragraph"><block ref="57bf5cb4144425b86f38426b7e9400ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dba73d3ec3f929ff18665087076291ac" category="list-text">Riepilogo.</block>
  <block id="833f169640e7aae8d9c8237462dbae9e" category="paragraph"><block ref="833f169640e7aae8d9c8237462dbae9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3594f2789840eda9633139ca530384a" category="section-title">Creare una policy di backup del registro del database per Oracle</block>
  <block id="be763ec2afcb0358426bb0abcae4dd60" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database, fai clic su Impostazioni, quindi su Criteri.</block>
  <block id="b0e663a3d363868d6c71ab9ec37940c6" category="list-text">Fare clic su Nuovo per avviare un nuovo flusso di lavoro per la creazione di una policy di backup oppure scegliere una policy esistente da modificare.</block>
  <block id="6e6bc8382b822de936fe02f51082b927" category="paragraph"><block ref="6e6bc8382b822de936fe02f51082b927" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e82bddb75849367c6b805cf5828e7dc" category="paragraph"><block ref="6e82bddb75849367c6b805cf5828e7dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59480846ec23463481d361bf3026235e" category="list-text">Imposta il periodo di conservazione del registro.</block>
  <block id="89e49e7adbb1d972bbf6798f79893ae0" category="paragraph"><block ref="89e49e7adbb1d972bbf6798f79893ae0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04ba33c0584145006ca637b4556aa919" category="list-text">Abilita la replica in una posizione secondaria nel cloud pubblico.</block>
  <block id="b79a4461ef310e85fddb55227f4f3555" category="paragraph"><block ref="b79a4461ef310e85fddb55227f4f3555" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab9406cbd3a8f082700523fdac8a0c1d" category="list-text">Specificare eventuali script facoltativi da eseguire prima e dopo il backup del registro.</block>
  <block id="e6e3ef8e512c79dadb11169085c93c4f" category="paragraph"><block ref="e6e3ef8e512c79dadb11169085c93c4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4b55e05a9ae89fe14377b98bc8a8166" category="list-text">Specificare eventuali script di verifica del backup.</block>
  <block id="5aaccd70e671edd43b639ae58f22b475" category="paragraph"><block ref="5aaccd70e671edd43b639ae58f22b475" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1192400fde3ce64af2088554b7a471ec" category="paragraph"><block ref="1192400fde3ce64af2088554b7a471ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe147647227dfec6603bc76daf30463e" category="section-title">Creare una policy di backup completo del database per SQL</block>
  <block id="b652338a3c504c4175444b89658c7fd5" category="paragraph"><block ref="b652338a3c504c4175444b89658c7fd5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b270f32bae28c6a5f4154dd957765b80" category="paragraph"><block ref="b270f32bae28c6a5f4154dd957765b80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="30637cfd5a5cc820d6bc4116fccfff7e" category="list-text">Definisci l'opzione di backup e la frequenza di pianificazione.  Per SQL Server configurato con un gruppo di disponibilità, è possibile impostare una replica di backup preferita.</block>
  <block id="9840dcea2084bc211485cc5880cf05d3" category="paragraph"><block ref="9840dcea2084bc211485cc5880cf05d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f74ada8393aecd40e892de04b5b30f8" category="list-text">Imposta il periodo di conservazione del backup.</block>
  <block id="ddce79f0bfda935c386e6b2bf81fc461" category="paragraph"><block ref="ddce79f0bfda935c386e6b2bf81fc461" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1a67a80a7ad9403781b210983ea778d" category="list-text">Abilita la replica della copia di backup in una posizione secondaria nel cloud.</block>
  <block id="8cac64b8ffdc5a8d8504720bab0fd0ce" category="paragraph"><block ref="8cac64b8ffdc5a8d8504720bab0fd0ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="17b7b360fc2163537795a34cd8d14d6a" category="list-text">Specificare eventuali script facoltativi da eseguire prima o dopo un processo di backup.</block>
  <block id="b057844f0ff6b9888172c07f396657c0" category="paragraph"><block ref="b057844f0ff6b9888172c07f396657c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb836d972496d965dd2170ed1480917b" category="list-text">Specificare le opzioni per eseguire la verifica del backup.</block>
  <block id="786513f2732486a860f0d19c24ed3c3c" category="paragraph"><block ref="786513f2732486a860f0d19c24ed3c3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca4323b2096ce652ce339ab2102fb2f8" category="paragraph"><block ref="ca4323b2096ce652ce339ab2102fb2f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02b67ed2348002e614d5a35151577632" category="section-title">Creare un criterio di backup del log del database per SQL.</block>
  <block id="b405195aec7cf62440373fcdc490dec6" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database, fai clic su Impostazioni &gt; Criteri, quindi su Nuovo per avviare un nuovo flusso di lavoro per la creazione di criteri.</block>
  <block id="2bb934d5ab773065a4fe72a2bcd8485a" category="paragraph"><block ref="2bb934d5ab773065a4fe72a2bcd8485a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acdaf46fc90606d68f3f2b52cca5e95b" category="list-text">Definire l'opzione di backup del registro e la frequenza di pianificazione.  Per SQL Server configurato con un gruppo di disponibilità, è possibile impostare una replica di backup preferita.</block>
  <block id="0c2b36e2aaf86977df623ddabd7dfac5" category="paragraph"><block ref="0c2b36e2aaf86977df623ddabd7dfac5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da00d968a5d810d846ddc815b8f405a4" category="list-text">I criteri di backup dei dati di SQL Server definiscono la conservazione del backup del log; accettare i valori predefiniti.</block>
  <block id="70fc1fbbf6810bb237bf48905035ba75" category="paragraph"><block ref="70fc1fbbf6810bb237bf48905035ba75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d04d89062d3ed67bbc9c4aee35bdba7f" category="list-text">Abilita la replica del backup del registro sul server secondario nel cloud.</block>
  <block id="9431d781d41c5c49274ca6ab4086fdaa" category="paragraph"><block ref="9431d781d41c5c49274ca6ab4086fdaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1bd8b4104fa57ba3111251fa36502eb5" category="paragraph"><block ref="1bd8b4104fa57ba3111251fa36502eb5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3162e10ba6e069802f0785d7d4924827" category="paragraph"><block ref="3162e10ba6e069802f0785d7d4924827" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f28f6c36698b3a4cd47cbeead15eddf2" category="section-title">8. Implementare una politica di backup per proteggere il database</block>
  <block id="37b889cc1b57f66ae9018b6eacb891ba" category="paragraph">SnapCenter utilizza un gruppo di risorse per eseguire il backup di un database in un raggruppamento logico di risorse del database, ad esempio più database ospitati su un server, un database che condivide gli stessi volumi di archiviazione, più database che supportano un'applicazione aziendale e così via.  La protezione di un singolo database crea un gruppo di risorse a sé stante.  Le seguenti procedure illustrano come implementare una policy di backup creata nella sezione 7 per proteggere i database Oracle e SQL Server.</block>
  <block id="0603dbbe978e4cd3ee1c45ba96a1aa6f" category="section-title">Creare un gruppo di risorse per il backup completo di Oracle</block>
  <block id="5f4e02f34bcd7993867c4b3297a171d0" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database e vai alla scheda Risorse.  Nell'elenco a discesa Visualizza, seleziona Database o Gruppo di risorse per avviare il flusso di lavoro di creazione del gruppo di risorse.</block>
  <block id="d9af3d5b820b53bef952a82d15e6d0e9" category="paragraph"><block ref="d9af3d5b820b53bef952a82d15e6d0e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98dcf41bcde9cb6c4235a6a7dfe69346" category="list-text">Fornire un nome e dei tag per il gruppo di risorse.  È possibile definire un formato di denominazione per la copia Snapshot e ignorare la destinazione del registro di archivio ridondante, se configurata.</block>
  <block id="20d167c24bfbb26f3e843648a56367bf" category="paragraph"><block ref="20d167c24bfbb26f3e843648a56367bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0cd85a82e6f02b779006b158b9c5f828" category="list-text">Aggiungere risorse del database al gruppo di risorse.</block>
  <block id="38cc48f8929dfd1d38f1f8f4a0bca497" category="paragraph"><block ref="38cc48f8929dfd1d38f1f8f4a0bca497" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cee52cb6702e7590fbef45eccc8fb2df" category="list-text">Selezionare dall'elenco a discesa un criterio di backup completo creato nella sezione 7.</block>
  <block id="9732e70a09e06a4ae9b606ba59db0561" category="paragraph"><block ref="9732e70a09e06a4ae9b606ba59db0561" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fe872cd84ea2e9051770379e63f9caf" category="list-text">Fare clic sul segno (+) per configurare la pianificazione del backup desiderata.</block>
  <block id="c7e7766da7dbdb0a18d97ecdf1996d22" category="paragraph"><block ref="c7e7766da7dbdb0a18d97ecdf1996d22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdc27a4c5d48dbfc04f81ecac85acd64" category="list-text">Fare clic su Carica localizzatori per caricare il volume di origine e di destinazione.</block>
  <block id="83bfeb05c82d9fe2a1a13c23121cfad5" category="paragraph"><block ref="83bfeb05c82d9fe2a1a13c23121cfad5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a752afaf144d06159ca3eec8bb23455f" category="list-text">Se lo si desidera, configurare il server SMTP per la notifica via e-mail.</block>
  <block id="174a808cd5a71e9c98a86d9c3f0399d5" category="paragraph"><block ref="174a808cd5a71e9c98a86d9c3f0399d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee83a4b079ebbdc3a6096475af3a8edc" category="paragraph"><block ref="ee83a4b079ebbdc3a6096475af3a8edc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f7192b9766e6f09c261f3ca3d3bddc8" category="section-title">Creare un gruppo di risorse per il backup del log di Oracle</block>
  <block id="2710a21662d5ec623abb0f7692600526" category="paragraph"><block ref="2710a21662d5ec623abb0f7692600526" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd7919cfbed777253c203996449d8258" category="paragraph"><block ref="bd7919cfbed777253c203996449d8258" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d57fffdfa4c7e51147b5cb012bf531f9" category="paragraph"><block ref="d57fffdfa4c7e51147b5cb012bf531f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03955b73285eab0d68e90c627da9726d" category="list-text">Selezionare dall'elenco a discesa un criterio di backup del registro creato nella sezione 7.</block>
  <block id="4555180b9d93bbb9ca93ec97c28d0af5" category="paragraph"><block ref="4555180b9d93bbb9ca93ec97c28d0af5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88c73129e9a418955658ce5c48d9d8b5" category="list-text">Fare clic sul segno (+) per configurare la pianificazione del backup desiderata.</block>
  <block id="156aa910d609c0938379b7d442d924bc" category="paragraph"><block ref="156aa910d609c0938379b7d442d924bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eacfd6f10777b8dfb41199e4d4dfa915" category="list-text">Se è configurata la verifica del backup, questa viene visualizzata qui.</block>
  <block id="63752bb01664701cab74a20166d29b1f" category="paragraph"><block ref="63752bb01664701cab74a20166d29b1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a27fac4b1d49d5468930a56c3a6de56" category="list-text">Se lo si desidera, configurare un server SMTP per la notifica via e-mail.</block>
  <block id="9edc30e4946421a9f350df9de13bcd5c" category="paragraph"><block ref="9edc30e4946421a9f350df9de13bcd5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22784afa00b680fac09086672674be63" category="paragraph"><block ref="22784afa00b680fac09086672674be63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf688c7a95f421447e84a47fd03f3aa2" category="section-title">Creare un gruppo di risorse per il backup completo di SQL Server</block>
  <block id="d08ef097ee33c4a3506183adeb51c5e7" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database e vai alla scheda Risorse.  Nell'elenco a discesa Visualizza, seleziona un database o un gruppo di risorse per avviare il flusso di lavoro di creazione del gruppo di risorse.  Fornire un nome e dei tag per il gruppo di risorse.  È possibile definire un formato di denominazione per la copia Snapshot.</block>
  <block id="27c68a455881c491f8014eea4dba4a09" category="paragraph"><block ref="27c68a455881c491f8014eea4dba4a09" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1ace5324d60cb3faa1863efd675149" category="list-text">Selezionare le risorse del database di cui eseguire il backup.</block>
  <block id="de605e47e64882cd1472999214eeb660" category="paragraph"><block ref="de605e47e64882cd1472999214eeb660" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2fc1974f486effa4a60bf216e63a88d5" category="list-text">Selezionare un criterio di backup SQL completo creato nella sezione 7.</block>
  <block id="6a35fb4c619e8438042022bd4f09fc35" category="paragraph"><block ref="6a35fb4c619e8438042022bd4f09fc35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12b70beeb570488ba753a620378cacd8" category="list-text">Aggiungere i tempi esatti per i backup e la frequenza.</block>
  <block id="029f37d34402b41abc57c0b2c46385be" category="paragraph"><block ref="029f37d34402b41abc57c0b2c46385be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49252579bd8140847f4bbac20ef89b07" category="list-text">Selezionare il server di verifica per il backup secondario se si desidera eseguire la verifica del backup.  Fare clic su Carica localizzatore per popolare la posizione di archiviazione secondaria.</block>
  <block id="64138f207c14d41c50db1da8ac387a29" category="paragraph"><block ref="64138f207c14d41c50db1da8ac387a29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97b1053da205a969928291f595ac1687" category="paragraph"><block ref="97b1053da205a969928291f595ac1687" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3526098f9d53a45dddc103ba9614f316" category="paragraph"><block ref="3526098f9d53a45dddc103ba9614f316" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4dd921984d3a8a89e7df5c97875b923" category="section-title">Creare un gruppo di risorse per il backup del log di SQL Server</block>
  <block id="4e94ca9b995e68691b4e67b82b9f5bce" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database e vai alla scheda Risorse.  Nell'elenco a discesa Visualizza, seleziona un database o un gruppo di risorse per avviare il flusso di lavoro di creazione del gruppo di risorse.  Fornire il nome e i tag per il gruppo di risorse.  È possibile definire un formato di denominazione per la copia Snapshot.</block>
  <block id="90cf6ccd30fd4717588b3b48e3a64efc" category="paragraph"><block ref="90cf6ccd30fd4717588b3b48e3a64efc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01713bba13042fa78b83b68ab4ef7f3a" category="paragraph"><block ref="01713bba13042fa78b83b68ab4ef7f3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23e15d7c127e66b1da1d72072a29e9eb" category="list-text">Selezionare un criterio di backup del log SQL creato nella sezione 7.</block>
  <block id="946640462547395bbd0efaf4bb06baf8" category="paragraph"><block ref="946640462547395bbd0efaf4bb06baf8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e7cac98c16b45d7e4ebec8786b8fda1" category="list-text">Aggiungere l'orario esatto per il backup e la frequenza.</block>
  <block id="64b394b18ab2dd833920d12e77f7d11a" category="paragraph"><block ref="64b394b18ab2dd833920d12e77f7d11a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68398b6746dde91649e96505d97acc40" category="list-text">Selezionare il server di verifica per il backup secondario se si desidera eseguire la verifica del backup.  Fare clic su Load Locator per popolare la posizione di archiviazione secondaria.</block>
  <block id="d2a868ac351c10befe825800013e5d1f" category="paragraph"><block ref="d2a868ac351c10befe825800013e5d1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3f05f6b76364c6ce8ded407abcad74cc" category="paragraph"><block ref="3f05f6b76364c6ce8ded407abcad74cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39d0db5f03e8e439a895cffab82b9cfb" category="paragraph"><block ref="39d0db5f03e8e439a895cffab82b9cfb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c72629a46c2e88cf7f6a012167bb16" category="section-title">9. Convalida il backup</block>
  <block id="d1c55c296cbdaa8d88eda765a6158b62" category="paragraph">Dopo aver creato i gruppi di risorse di backup del database per proteggere le risorse del database, i processi di backup vengono eseguiti in base alla pianificazione predefinita.  Controllare lo stato di esecuzione del lavoro nella scheda Monitor.</block>
  <block id="ecb0d5aeea0387706628bbd3df34067c" category="paragraph"><block ref="ecb0d5aeea0387706628bbd3df34067c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57882e224a8cbe8f694da9b1d8fa503e" category="paragraph">Vai alla scheda Risorse, fai clic sul nome del database per visualizzare i dettagli del backup del database e alterna tra copie locali e copie mirror per verificare che i backup snapshot vengano replicati in una posizione secondaria nel cloud pubblico.</block>
  <block id="cfd69a51fa8231de8ad8980aef5355f3" category="paragraph"><block ref="cfd69a51fa8231de8ad8980aef5355f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28268d417882b5cf7a3d3ee3a15834c8" category="paragraph">A questo punto, le copie di backup del database nel cloud sono pronte per essere clonate per eseguire processi di sviluppo/test o per il ripristino di emergenza in caso di un errore primario.</block>
  <block id="d83342bb55cac062a4841a3b7a62a7fd" category="summary">Questa sezione fornisce un riepilogo delle attività che devono essere completate per soddisfare i requisiti preliminari descritti nella sezione precedente.  La sezione seguente fornisce un elenco di attività di alto livello per le operazioni sia in locale che nel cloud pubblico.  È possibile accedere ai processi e alle procedure dettagliate cliccando sui link pertinenti.</block>
  <block id="21475c5fe4cf73cfbf7756ed71e43375" category="doc">Panoramica introduttiva</block>
  <block id="f0e69ccbb7ad96f546f7924206944bfa" category="section-title">In sede</block>
  <block id="b2e7ae8381268c9d97dc3576aa67da04" category="list-text">Imposta l'utente amministratore del database in SnapCenter</block>
  <block id="e1c4efcd7b5b155c8a6e57d348b6c071" category="list-text">Prerequisiti per l'installazione del plugin SnapCenter</block>
  <block id="cf69df8da81eda7b468d606f3e9aff06" category="list-text">Installazione del plugin host SnapCenter</block>
  <block id="2a6faa57bc6cc0f7a4c90cebd5e63344" category="list-text">Rilevamento delle risorse del database</block>
  <block id="2a36af746a3cc41f6964edac717b5206" category="list-text">Configurazione del peering del cluster di archiviazione e della replica del volume DB</block>
  <block id="a227a5da83d0a04e6e8e7e76a89eba09" category="list-text">Aggiungere l'SVM di archiviazione del database CVO a SnapCenter</block>
  <block id="c615eed91e2ab578525394d0ff0138d9" category="list-text">Imposta la policy di backup del database in SnapCenter</block>
  <block id="8ecb914dad4186dafb38268be6fc8a1f" category="list-text">Implementare una politica di backup per proteggere il database</block>
  <block id="3041fe5faf49efefd030e278790b4faf" category="list-text">Convalida il backup</block>
  <block id="0bcf61b20ebca1ef90cb7982284867a6" category="list-text">Controllo pre-volo</block>
  <block id="c27b238e54d27696cafed4684c6f1335" category="list-text">Passaggi per distribuire Cloud Manager e Cloud Volumes ONTAP in AWS</block>
  <block id="2bb50575568fc6429e2c1cef751d40f4" category="list-text">Distribuisci l'istanza di elaborazione EC2 per il carico di lavoro del database</block>
  <block id="bc2dcb446bec0ecd131a2e612dbd1ecd" category="paragraph">Per maggiori dettagli cliccare sui seguenti link:</block>
  <block id="21aa279d0a145dcaab5feaa02df2c02a" category="inline-link-macro">Cloud pubblico - AWS</block>
  <block id="4c3ec3c7fc32bc9cb169188e153d067b" category="paragraph"><block ref="0c369d4ca5388d640f4bc3a3eb7ef247" category="inline-link-macro-rx"></block>,<block ref="a338b576ea1760b44a3f6fbf9b4967f2" category="inline-link-macro-rx"></block></block>
  <block id="d0bb28dcc0cc1b523a41bbb46875db9e" category="summary">Prima di installare il connettore Cloud Manager e Cloud Volumes ONTAP e configurare SnapMirror, dobbiamo eseguire alcune operazioni di preparazione per il nostro ambiente cloud.  Questa pagina descrive il lavoro da svolgere e le considerazioni da tenere a mente quando si distribuisce Cloud Volumes ONTAP.</block>
  <block id="8c6fb9ece3bad11d3e76d1344d9ed9ab" category="doc">Prerequisiti per il cloud pubblico</block>
  <block id="5a2798d22185b0e40ea502bbbb171d38" category="section-title">Elenco di controllo dei prerequisiti per la distribuzione di Cloud Manager e Cloud Volumes ONTAP</block>
  <block id="1e094e6477be231098329b0096c7221f" category="list-text">Un accesso a NetApp Cloud Central</block>
  <block id="b59e275c4ece2430dff67db92845ab7f" category="list-text">Accesso alla rete da un browser web a più endpoint</block>
  <block id="d2ed5c7ede8a1ce9d218ec60b0f03935" category="list-text">Una posizione di rete per un connettore</block>
  <block id="0d07862d67097acd517fe27c0de099d7" category="list-text">Autorizzazioni del provider cloud</block>
  <block id="203802866ac2835e79bd76c94a3761c2" category="list-text">Networking per servizi individuali</block>
  <block id="c4d5e1cbdfc47a0fdcb4a1a9dddd9e17" category="inline-link">documentazione cloud</block>
  <block id="1a22a3f7b690b2ec8919c8806633fb26" category="paragraph">Per maggiori informazioni su ciò di cui hai bisogno per iniziare, visita il nostro<block ref="247d95fa755d21bb8790cc6d7a2fc412" category="inline-link-rx"></block> .</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Considerazioni</block>
  <block id="176ca67b83510a1281a4cfc749a3543a" category="section-title">1. Che cos'è un connettore Cloud Manager?</block>
  <block id="1681641037afae45bd6074dcde9eed00" category="paragraph">Nella maggior parte dei casi, l'amministratore di un account Cloud Central deve distribuire un connettore nel cloud o nella rete locale.  Il connettore consente a Cloud Manager di gestire risorse e processi all'interno del tuo ambiente cloud pubblico.</block>
  <block id="8a78be5d168f00b24bf1625de3d5409c" category="paragraph">Per maggiori informazioni sui connettori, visita il nostro<block ref="f39c14bbbbdd46ca70a63fb06046c789" category="inline-link-rx"></block> .</block>
  <block id="fcc2bf38b8157a22b5fc6975b7054acc" category="section-title">2. Dimensionamento e architettura Cloud Volumes ONTAP</block>
  <block id="1c09b5154aa1f43cb9ebcbd6fea5eadc" category="paragraph">Quando si distribuisce Cloud Volumes ONTAP, è possibile scegliere tra un pacchetto predefinito o la creazione di una configurazione personalizzata.  Sebbene molti di questi valori possano essere modificati in un secondo momento senza interruzioni, ci sono alcune decisioni chiave che devono essere prese prima della distribuzione in base ai carichi di lavoro da distribuire nel cloud.</block>
  <block id="d76a4ab0a55e4cce0b92ec2adcef2d62" category="inline-link">Calcolatore TCO</block>
  <block id="e525512d8e8df679389265cf77783692" category="paragraph">Ogni provider cloud offre diverse opzioni di distribuzione e quasi ogni carico di lavoro ha le sue proprietà uniche.  NetApp ha un<block ref="0c467b50efa749a5a4e7d6c99c2fa4bc" category="inline-link-rx"></block> che può aiutare a dimensionare correttamente le distribuzioni in base alla capacità e alle prestazioni, ma è stato costruito attorno ad alcuni concetti di base che vale la pena considerare:</block>
  <block id="145c90afb7955854f2371e9decf3de9b" category="list-text">Capacità richiesta</block>
  <block id="f1521b662bf51f1af6c2d38bd610afae" category="list-text">Capacità di rete della macchina virtuale cloud</block>
  <block id="f75d8ba5edc8017382d5df68baf9e30f" category="list-text">Caratteristiche prestazionali dell'archiviazione cloud</block>
  <block id="af9d66ea3132fcfeb46b85557bc1af1b" category="paragraph">La chiave è pianificare una configurazione che non solo soddisfi i requisiti attuali di capacità e prestazioni, ma che tenga anche conto della crescita futura.  Questo è generalmente noto come margine di capacità e margine di prestazioni.</block>
  <block id="4847e034bb0a55fcbc8a3380d6a3ab80" category="inline-link">AWS</block>
  <block id="3a580f142203677f1f0bc30898f63f53" category="inline-link">Azzurro</block>
  <block id="c731f72e1d22a7c5e01a7cb789a8885e" category="inline-link">GCP</block>
  <block id="180f0326dff3a03aecf5e184943d108a" category="paragraph">Se desideri ulteriori informazioni, leggi la documentazione sulla pianificazione corretta per<block ref="af5d70b69c3436f8bcf6f7b9579c4e83" category="inline-link-rx"></block> ,<block ref="c2e85b51d3015b4c720388e64a3de23e" category="inline-link-rx"></block> , E<block ref="b1068926334a08925797774f64291db4" category="inline-link-rx"></block> .</block>
  <block id="c50ea1f0c6dcf02fbdd39e1e6b5befc2" category="section-title">3. Nodo singolo o alta disponibilità?</block>
  <block id="eadb13b9c72271dbf16967e78059fea4" category="paragraph">In tutti i cloud è possibile distribuire CVO in un singolo nodo o in una coppia ad alta disponibilità in cluster con due nodi.  A seconda del caso d'uso, potrebbe essere opportuno distribuire un singolo nodo per risparmiare sui costi oppure una coppia HA per garantire maggiore disponibilità e ridondanza.</block>
  <block id="9cbd119b18cd836b6020fcfd3bfbe37f" category="paragraph">Per un caso d'uso di DR o per l'avvio di un archivio temporaneo per lo sviluppo e il test, i nodi singoli sono comuni poiché l'impatto di un'interruzione improvvisa di una zona o dell'infrastruttura è inferiore.  Tuttavia, per qualsiasi caso d'uso di produzione, quando i dati si trovano in un'unica posizione o quando il set di dati deve avere maggiore ridondanza e disponibilità, si consiglia l'elevata disponibilità.</block>
  <block id="83d2ad0cda1f71c52878284cc7c1f713" category="paragraph">Per ulteriori informazioni sull'architettura di ogni versione di alta disponibilità del cloud, visitare la documentazione per<block ref="4344469628657b2a6a0d147e5e6fbc9a" category="inline-link-rx"></block> ,<block ref="28a8305eced80cb5b1351f5cffb268ae" category="inline-link-rx"></block> E<block ref="1b945d178a8347e94e5c5456dc9e6db8" category="inline-link-rx"></block> .</block>
  <block id="c94d29f1f4f8ef37e9d27f30b7d7c67d" category="summary">Le attività descritte in questa sezione devono essere completate in locale per preparare l'ambiente di carico di lavoro del database cloud ibrido SnapCenter .</block>
  <block id="f6a196d9d3a941e76765e4a9395630c4" category="doc">Prerequisiti in sede</block>
  <block id="40931dcd4d9132545ec0faf2c5fb1b64" category="paragraph">Per preparare l'ambiente di carico di lavoro del database cloud ibrido SnapCenter , è necessario completare le seguenti attività in locale.</block>
  <block id="79daf399b9626cde309801f41a1e2e14" category="section-title">Installazione e configurazione SnapCenter</block>
  <block id="49fd917369dcf2b31d4f023bba0625a0" category="paragraph">Lo strumento NetApp SnapCenter è un'applicazione basata su Windows che in genere viene eseguita in un ambiente di dominio Windows, sebbene sia possibile anche la distribuzione in gruppi di lavoro.  Si basa su un'architettura multilivello che include un server di gestione centralizzato (il server SnapCenter ) e un plug-in SnapCenter sugli host del server del database per i carichi di lavoro del database.  Ecco alcune considerazioni chiave per l'implementazione del cloud ibrido.</block>
  <block id="9f8c0bcd11d7afd1dd2ee818191cb914" category="list-text">*Distribuzione a istanza singola o HA.*  L'implementazione HA garantisce ridondanza in caso di guasto di un singolo server di istanza SnapCenter .</block>
  <block id="1bfa2867d5aa49106efbf3ac752f3084" category="list-text">*Risoluzione del nome.*  Il DNS deve essere configurato sul server SnapCenter per risolvere tutti gli host del database e anche sull'SVM di archiviazione per la ricerca diretta e inversa.  Il DNS deve essere configurato anche sui server del database per risolvere il server SnapCenter e l'SVM di archiviazione per la ricerca diretta e inversa.</block>
  <block id="41f54308d86c1d7b525475d6ead22892" category="list-text">*Configurazione del controllo degli accessi basato sui ruoli (RBAC).*  Per carichi di lavoro di database misti, potrebbe essere opportuno utilizzare RBAC per separare la responsabilità di gestione per diverse piattaforme DB, ad esempio un amministratore per il database Oracle o un amministratore per SQL Server.  È necessario concedere le autorizzazioni necessarie all'utente amministratore del database.</block>
  <block id="5aee5dffd2e329652ec35995add763ae" category="list-text">*Abilita la strategia di backup basata su policy.*  Per garantire la coerenza e l'affidabilità del backup.</block>
  <block id="dde4790e572aa9d01cd58fcfd8498766" category="list-text">*Aprire le porte di rete necessarie sul firewall.*  Per consentire al server SnapCenter locale di comunicare con gli agenti installati nell'host del database cloud.</block>
  <block id="e2962676531ebdcf62cb2a7b96042e77" category="list-text">*Le porte devono essere aperte per consentire il traffico SnapMirror tra il cloud locale e quello pubblico.*  Il server SnapCenter si basa su ONTAP SnapMirror per replicare i backup Snapshot in loco su SVM di storage CVO cloud.</block>
  <block id="5ec6e06db1720ca3b517643f92ad748e" category="inline-link-macro">Prerequisiti per l'installazione di SnapCenter</block>
  <block id="7d409546f13da568d73d1cf93ba4de82" category="paragraph">Dopo un'attenta pianificazione e valutazione pre-installazione, fare clic qui<block ref="76a3e8de747ec65461865abe9011a915" category="inline-link-macro-rx"></block> per i dettagli sull'installazione e la configurazione di SnapCenter .</block>
  <block id="df3fb602185c77a88bab186791d02636" category="section-title">Configurazione dell'archiviazione del server di database locale</block>
  <block id="f7f3a649be867b87ccb26789453199db" category="paragraph">Le prestazioni di archiviazione svolgono un ruolo importante nelle prestazioni complessive di database e applicazioni.  Un layout di archiviazione ben progettato può non solo migliorare le prestazioni del database, ma anche semplificare la gestione del backup e del ripristino del database.  Quando si definisce il layout di archiviazione, è necessario considerare diversi fattori, tra cui le dimensioni del database, la frequenza di modifica prevista dei dati per il database e la frequenza con cui si eseguono i backup.</block>
  <block id="8481231881c8e64b34aa3c7e29510a25" category="paragraph">Il collegamento diretto di LUN di storage alla VM guest tramite NFS o iSCSI per carichi di lavoro di database virtualizzati garantisce in genere prestazioni migliori rispetto allo storage allocato tramite VMDK.  NetApp consiglia il layout di archiviazione per un database SQL Server di grandi dimensioni su LUN illustrato nella figura seguente.</block>
  <block id="39d8e2145d1f0d10bd3f6c2ec17ab9c0" category="paragraph"><block ref="39d8e2145d1f0d10bd3f6c2ec17ab9c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99aea05cf884bfdec230afa5250968b2" category="paragraph">La figura seguente mostra il layout di archiviazione consigliato da NetApp per database SQL Server di piccole o medie dimensioni su LUN.</block>
  <block id="d7768ec0712c652418bd1ff715cfed36" category="paragraph"><block ref="d7768ec0712c652418bd1ff715cfed36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76ecde8f778d0dd0676f392793ce4382" category="admonition">La directory Log è dedicata a SnapCenter per eseguire il rollup del registro delle transazioni per il ripristino del database.  Per un database di grandi dimensioni, è possibile allocare più LUN a un volume per ottenere prestazioni migliori.</block>
  <block id="ee9158729a15dbd90d166650ba285d0e" category="paragraph">Per i carichi di lavoro del database Oracle, SnapCenter supporta ambienti di database supportati da storage ONTAP montati sull'host come dispositivi fisici o virtuali.  È possibile ospitare l'intero database su uno o più dispositivi di archiviazione in base alla criticità dell'ambiente.  In genere, i clienti isolano i file di dati su un archivio dedicato da tutti gli altri file, come i file di controllo, i file di ripristino e i file di registro di archivio.  Ciò aiuta gli amministratori a ripristinare rapidamente (ONTAP single-file SnapRestore) o a clonare un database critico di grandi dimensioni (su scala petabyte) utilizzando la tecnologia Snapshot in pochi secondi o minuti.</block>
  <block id="8d1d8980b28a79123d17d3fc6de5c48a" category="paragraph"><block ref="8d1d8980b28a79123d17d3fc6de5c48a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="959a3405dfdfb0469534f5276ffb8e5e" category="paragraph">Per carichi di lavoro critici per la missione sensibili alla latenza, è opportuno distribuire un volume di archiviazione dedicato a diversi tipi di file Oracle per ottenere la migliore latenza possibile.  Per un database di grandi dimensioni, è necessario allocare più LUN (NetApp ne consiglia fino a otto) per volume ai file di dati.</block>
  <block id="c934419b6361c84ad604a812343f13b2" category="paragraph"><block ref="c934419b6361c84ad604a812343f13b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2702ce3d59ec94853fa030462b309f2f" category="paragraph">Per i database Oracle più piccoli, SnapCenter supporta layout di archiviazione condivisi in cui è possibile ospitare più database o parte di un database sullo stesso volume di archiviazione o LUN.  Come esempio di questo layout, è possibile ospitare file di dati per tutti i database su un gruppo di dischi +DATA ASM o su un gruppo di volumi.  I file rimanenti (redo, registro di archivio e file di controllo) possono essere ospitati su un altro gruppo di dischi o gruppo di volumi (LVM) dedicato.  Di seguito è illustrato uno scenario di distribuzione di questo tipo.</block>
  <block id="3cf0fdb257926c14675b2b90a427d751" category="paragraph"><block ref="3cf0fdb257926c14675b2b90a427d751" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93cf45b97655292e0536b810cb248828" category="paragraph">Per facilitare lo spostamento dei database Oracle, il binario Oracle deve essere installato su una LUN separata inclusa nella normale policy di backup.  Ciò garantisce che, in caso di trasferimento del database su un nuovo host server, lo stack Oracle possa essere avviato per il ripristino senza potenziali problemi dovuti a un binario Oracle non sincronizzato.</block>
  <block id="1e69a4a8adec0842d1e110e970112268" category="section-title">Requisiti di licenza</block>
  <block id="7f59934b2c0edd33f0d981f3bc4d12e7" category="paragraph">SnapCenter è un software concesso in licenza da NetApp.  In genere è incluso in una licenza ONTAP locale.  Tuttavia, per la distribuzione cloud ibrida, è necessaria anche una licenza cloud per SnapCenter per aggiungere CVO a SnapCenter come destinazione di replicazione dei dati.  Per maggiori dettagli, consultare i seguenti link per la licenza basata sulla capacità standard SnapCenter :</block>
  <block id="9e86ae6c96041e3cb31e88116102ee35" category="inline-link-macro">Licenze basate sulla capacità standard SnapCenter</block>
  <block id="30a7dd2f33dbf8c793ab27dd0b00e818" category="paragraph"><block ref="30a7dd2f33dbf8c793ab27dd0b00e818" category="inline-link-macro-rx"></block></block>
  <block id="85db56d490cdd7a31d40697ad1c9be3c" category="section-title">Rete e sicurezza</block>
  <block id="254215e6d18fb5582ba78464fa468553" category="paragraph">In un'operazione di database ibrido che richiede un database di produzione locale con supporto burst nel cloud per sviluppo/test e ripristino di emergenza, la rete e la sicurezza sono fattori importanti da considerare quando si configura l'ambiente e ci si connette al cloud pubblico da un data center locale.</block>
  <block id="1e356fab450b44971b6cdbd1c25586b8" category="paragraph">I cloud pubblici utilizzano in genere un cloud privato virtuale (VPC) per isolare i diversi utenti all'interno di una piattaforma cloud pubblica.  All'interno di una singola VPC, la sicurezza viene controllata tramite misure quali gruppi di sicurezza configurabili in base alle esigenze dell'utente per il blocco di una VPC.</block>
  <block id="5192a6d33c7a0127a67cbd7e07801735" category="paragraph">La connettività dal data center locale alla VPC può essere protetta tramite un tunnel VPN.  Sul gateway VPN, la sicurezza può essere rafforzata utilizzando regole NAT e firewall che bloccano i tentativi di stabilire connessioni di rete dagli host su Internet agli host all'interno del data center aziendale.</block>
  <block id="04a3995237c020c6a587d8a7723af6a6" category="paragraph">Per considerazioni relative alla rete e alla sicurezza, rivedi le regole CVO in entrata e in uscita pertinenti per il cloud pubblico che hai scelto:</block>
  <block id="d15513a147fbd525b88805bee9ea17ea" category="inline-link-macro">Regole del gruppo di sicurezza per CVO - AWS</block>
  <block id="f8d1f085169118c4d407be16136389c6" category="list-text"><block ref="f8d1f085169118c4d407be16136389c6" category="inline-link-macro-rx"></block></block>
  <block id="39f48b44d100d16ed6e2b931111663b7" category="inline-link-macro">Regole del gruppo di sicurezza per CVO - Azure</block>
  <block id="bcde746324630d82052a4fc9861cfea6" category="list-text"><block ref="bcde746324630d82052a4fc9861cfea6" category="inline-link-macro-rx"></block></block>
  <block id="7b20c547f2fd113499deaa3c0e418282" category="inline-link-macro">Regole del firewall per CVO - GCP</block>
  <block id="acde731d82a437ab33cb200791f7a197" category="list-text"><block ref="acde731d82a437ab33cb200791f7a197" category="inline-link-macro-rx"></block></block>
  <block id="d9446a69434b7c7fdec5c9e35d222834" category="section-title">Utilizzo dell'automazione Ansible per sincronizzare le istanze DB tra locale e cloud (facoltativo)</block>
  <block id="1c7c9b49a62ea0dc765d1439120cfc8f" category="paragraph">Per semplificare la gestione di un ambiente di database cloud ibrido, NetApp consiglia vivamente, ma non richiede, di distribuire un controller Ansible per automatizzare alcune attività di gestione, come mantenere sincronizzate le istanze di elaborazione in locale e nel cloud.  Ciò è particolarmente importante perché un'istanza di elaborazione non sincronizzata nel cloud potrebbe rendere il database recuperato nel cloud soggetto a errori a causa di pacchetti kernel mancanti e altri problemi.</block>
  <block id="7468552c7fc3a7ca377b7fc2405a9940" category="paragraph">La capacità di automazione di un controller Ansible può essere utilizzata anche per potenziare SnapCenter per determinate attività, ad esempio suddividendo l'istanza di SnapMirror per attivare la copia dei dati DR per la produzione.</block>
  <block id="76873576c51d008df968086838d03984" category="paragraph">Segui queste istruzioni per configurare il tuo nodo di controllo Ansible per macchine RedHat o CentOS:</block>
  <block id="b3cc847e28f05787703481d8da9a8de3" category="paragraph">Segui queste istruzioni per configurare il tuo nodo di controllo Ansible per macchine Ubuntu o Debian:</block>
  <block id="0f22160e43c900ef7426d8a19e9f482d" category="summary">Prima di eseguire carichi di lavoro di database cloud ibridi, è necessario configurare determinati prerequisiti sia in locale che nel cloud.  La sezione seguente fornisce un riepilogo di alto livello di questo processo e i seguenti link forniscono ulteriori informazioni sulla configurazione di sistema necessaria.</block>
  <block id="1dad826770c4d2c619351c974f725b36" category="doc">Configurazione dei prerequisiti</block>
  <block id="4df40e141b0559f15db8f84f78aed013" category="section-title">In loco</block>
  <block id="caea8340e2d186a540518d08602aa065" category="list-text">Automazione</block>
  <block id="761883c0d5c55fba5b200ac8ac0d86e5" category="section-title">Cloud pubblico</block>
  <block id="37aa83a33297d9d16b4423be342598bb" category="list-text">Una posizione di rete per un connettore</block>
  <block id="74c043a4451dd260729a23ce96aa1550" category="paragraph">Considerazioni importanti:</block>
  <block id="7aee27c83b5e3622c1d8cbd5c2098c60" category="list-text">Dove distribuire Cloud Manager Connector?</block>
  <block id="43fd5c6fa3d9ba8a215c31f3bf0a9859" category="list-text">Dimensionamento e architettura di Cloud Volume ONTAP</block>
  <block id="7a0e00d70e3b0ff06476a52565f923c4" category="list-text">Nodo singolo o alta disponibilità?</block>
  <block id="2d0b46fff3ae203a435b167c7111b389" category="paragraph">Per ulteriori dettagli, consultare i seguenti link:</block>
  <block id="3e3817204201a1a72832318e186660f2" category="paragraph"><block ref="3e3817204201a1a72832318e186660f2" category="inline-link-macro-rx"></block></block>
  <block id="704849d56e695ab8f9df0b106e0d7e33" category="inline-link-macro">Cloud pubblico</block>
  <block id="6262c102819dddec88d8170033aca3a6" category="paragraph"><block ref="6262c102819dddec88d8170033aca3a6" category="inline-link-macro-rx"></block></block>
  <block id="8f7280c86689be0a39cdf74aa673040d" category="summary">Questa soluzione è progettata in un ambiente cloud ibrido per supportare database di produzione on-premise che possono essere distribuiti su tutti i cloud pubblici più diffusi per operazioni di sviluppo/test e disaster recovery.</block>
  <block id="132f2888eb2cfdeef2730212f50c53e3" category="doc">Requisiti SnapCenter</block>
  <block id="6546814199e52492fa0efe5fbff08d5a" category="paragraph">Questa soluzione supporta tutti i database attualmente supportati da SnapCenter, anche se qui vengono illustrati solo i database Oracle e SQL Server.  Questa soluzione è convalidata con carichi di lavoro di database virtualizzati, sebbene siano supportati anche carichi di lavoro bare-metal.</block>
  <block id="185b108b21dccef917f415be6026c91c" category="paragraph">Supponiamo che i server di database di produzione siano ospitati in locale con volumi di database presentati agli host di database da un cluster di archiviazione ONTAP .  Il SnapCenter software viene installato in sede per il backup del database e la replica dei dati sul cloud.  Un controller Ansible è consigliato ma non obbligatorio per l'automazione della distribuzione del database o per la sincronizzazione della configurazione del kernel del sistema operativo e del database con un'istanza DR di standby o istanze di sviluppo/test nel cloud pubblico.</block>
  <block id="47099d9ea153f8abfa5b6b70da253b3a" category="cell">*In sede*</block>
  <block id="d36407241494bfc1e84614ad1b0dd6a4" category="cell">Tutti i database e le versioni supportati da SnapCenter</block>
  <block id="8c8c8ca7a4093a1210412a3a5e5ad55f" category="cell">SnapCenter v4.4 o superiore</block>
  <block id="9d9ebf67dab68c3c892de99e981039cf" category="cell">Ansible v2.09 o superiore</block>
  <block id="62dd4f48e99b13c8a00fbaba684f9592" category="cell">Cluster ONTAP 9.x</block>
  <block id="d0fdc58e1e05d6cbc8b1beb072bfa235" category="cell">Intercluster LIF configurati</block>
  <block id="7135df562bcb25bfdf20e4317b923b88" category="cell">Connettività da locale a un VPC cloud (VPN, interconnessione e così via)</block>
  <block id="8c27863f5ffd0e66a9304eaca2e47fde" category="cell">Porte di rete aperte - ssh 22 - tcp 8145, 8146, 10000, 11104, 11105</block>
  <block id="bcb9f3419f724f768e30956a4427261d" category="cell">*Cloud - AWS*</block>
  <block id="61c90d44785278f980592f082ef500f1" category="inline-link">Connettore Cloud Manager</block>
  <block id="97bc5062dceccb6827b1e3f0522035f0" category="cell"><block ref="97bc5062dceccb6827b1e3f0522035f0" category="inline-link-rx"></block></block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="inline-link">Cloud Volumes ONTAP</block>
  <block id="2f077494ceff1f33085c5b163c3673b3" category="cell"><block ref="2f077494ceff1f33085c5b163c3673b3" category="inline-link-rx"></block></block>
  <block id="59b2c9424963f98d73ec69c59dde54cb" category="cell">Abbinamento delle istanze DB OS EC2 a quelle locali</block>
  <block id="e26786a16da88ee829ab76c48fd3b003" category="cell">*Cloud - Azzurro*</block>
  <block id="c2f8674b07907f393b67a3f9e98d3d56" category="cell"><block ref="c2f8674b07907f393b67a3f9e98d3d56" category="inline-link-rx"></block></block>
  <block id="a8dd724647657a383eb37fd8775ec1a9" category="cell"><block ref="a8dd724647657a383eb37fd8775ec1a9" category="inline-link-rx"></block></block>
  <block id="8bede1f0e559918be01f0646b75b4257" category="cell">Abbinamento delle macchine virtuali di Azure del sistema operativo DB a quelle locali</block>
  <block id="b2a454fb4ff03b84162c59d674fdae25" category="cell">*Cloud - GCP*</block>
  <block id="af072236983e991ab34e773871b10236" category="cell"><block ref="af072236983e991ab34e773871b10236" category="inline-link-rx"></block></block>
  <block id="499477cf7953707f63a1b1313c8c065a" category="cell"><block ref="499477cf7953707f63a1b1313c8c065a" category="inline-link-rx"></block></block>
  <block id="2900c5e1ee191606f20d007194e70edf" category="cell">Abbinamento delle istanze di Google Compute Engine del sistema operativo DB a quelle locali</block>
  <block id="012b603d852affe4779f095a5c59f0c5" category="summary">L'agilità del cloud pubblico, il time-to-value e il risparmio sui costi sono tutte proposte di valore significative per le aziende che adottano il cloud pubblico per lo sviluppo e il testing delle applicazioni di database.  Non esiste strumento migliore di SnapCenter per trasformare tutto questo in realtà in poco tempo.  SnapCenter non solo può proteggere il tuo database di produzione in locale, ma può anche clonarne rapidamente una copia per lo sviluppo di applicazioni o per il test del codice nel cloud pubblico, consumando pochissimo spazio di archiviazione aggiuntivo.  Di seguito sono riportati i dettagli dei processi passo passo che utilizzano lo strumento.</block>
  <block id="38da6679588aeb2754e14dd58994685e" category="doc">Flusso di lavoro per lo sviluppo/test che si espande nel cloud</block>
  <block id="4d8a5b6bc9c43ab79e376d1aa4d83217" category="paragraph">L'agilità del cloud pubblico, il time-to-value e il risparmio sui costi sono tutte proposte di valore significative per le aziende che adottano il cloud pubblico per lo sviluppo e il test delle applicazioni di database.  Non esiste strumento migliore di SnapCenter per rendere tutto questo realtà.  SnapCenter non solo può proteggere il tuo database di produzione in locale, ma può anche clonarne rapidamente una copia per lo sviluppo di applicazioni o per il test del codice nel cloud pubblico, consumando pochissimo spazio di archiviazione aggiuntivo.  Di seguito sono riportati i dettagli dei processi passo dopo passo per utilizzare questo strumento.</block>
  <block id="b47b42841be2e173707ab5884714970b" category="section-title">Clona un database Oracle per sviluppo/test da un backup snapshot replicato</block>
  <block id="8d90529d1117b8d3781bd6781acf4e91" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database per Oracle.  Passare alla scheda Risorse, che mostra i database Oracle protetti da SnapCenter.</block>
  <block id="303d7b95b5531dc06ab1c2b378e5cc31" category="paragraph"><block ref="303d7b95b5531dc06ab1c2b378e5cc31" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d539d2e9659870aa79747206fac4769" category="list-text">Fare clic sul nome del database locale desiderato per la topologia di backup e la vista dettagliata.  Se è abilitata una posizione replicata secondaria, vengono mostrati i backup mirror collegati.</block>
  <block id="59231d25fbe75b7fac6548cb000cbac2" category="paragraph"><block ref="59231d25fbe75b7fac6548cb000cbac2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4a9c1f33e524696d6f3adebf89947bb" category="list-text">È possibile passare alla visualizzazione dei backup speculari facendo clic su Backup speculari.  Vengono quindi visualizzati i backup dello specchio secondario.</block>
  <block id="a658125bc922edbecb47429add3b1367" category="paragraph"><block ref="a658125bc922edbecb47429add3b1367" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4726a244c3941457e8f62b49c83d35d1" category="list-text">Selezionare una copia di backup del database secondario con mirroring da clonare e determinare un punto di ripristino in base all'ora e al numero di modifica del sistema oppure in base all'SCN.  In genere, il punto di ripristino dovrebbe essere successivo al momento del backup completo del database o all'SCN da clonare.  Dopo aver deciso un punto di ripristino, è necessario montare il backup del file di registro richiesto per il ripristino.  Il backup del file di registro deve essere montato sul server DB di destinazione in cui verrà ospitato il database clone.</block>
  <block id="25e155c3f8353c0bde89c48b8e75b357" category="paragraph"><block ref="25e155c3f8353c0bde89c48b8e75b357" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ecc49528e0cc5f8dc38e8bad16f64bea" category="paragraph"><block ref="ecc49528e0cc5f8dc38e8bad16f64bea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22a17e5abcfc4b5e70ebdea098cd1891" category="admonition">Se è abilitata la potatura del registro e il punto di ripristino viene esteso oltre l'ultima potatura del registro, potrebbe essere necessario montare più backup del registro di archivio.</block>
  <block id="e9606676533bbe916f4b4b6824eac195" category="list-text">Evidenziare la copia di backup completa del database da clonare, quindi fare clic sul pulsante Clona per avviare il flusso di lavoro di clonazione del database.</block>
  <block id="4e2ec546ffca4528eb3a18d5692319a1" category="paragraph"><block ref="4e2ec546ffca4528eb3a18d5692319a1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c06d82b497809fcc0fd06d00c6d91a5" category="list-text">Scegliere un SID DB clone appropriato per un database contenitore completo o un clone CDB.</block>
  <block id="4e3da14809ac93cb4009ada57dd8b3eb" category="paragraph"><block ref="4e3da14809ac93cb4009ada57dd8b3eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2c50a030b1c5313fca09568edf8c0f9" category="list-text">Selezionando l'host clone di destinazione nel cloud, il flusso di lavoro di clonazione creerà le directory dei file di dati, dei file di controllo e dei log redo.</block>
  <block id="2460044d38c11d1009ae24694a7eea8f" category="paragraph"><block ref="2460044d38c11d1009ae24694a7eea8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="701f017aeafb71656cf2bc3a9bd34862" category="list-text">Il nome della credenziale Nessuno viene utilizzato per l'autenticazione basata sul sistema operativo, il che rende irrilevante la porta del database.  Inserire i dati corretti per Oracle Home, Oracle OS User e Oracle OS Group, come configurato nel server DB clone di destinazione.</block>
  <block id="f003ac371d5f232bdebd4321e54a14a3" category="paragraph"><block ref="f003ac371d5f232bdebd4321e54a14a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26a911f3c85fc3c73d79253e65bf30e3" category="list-text">Specificare gli script da eseguire prima dell'operazione di clonazione.  Ancora più importante, il parametro dell'istanza del database può essere modificato o definito qui.</block>
  <block id="9729b447443ac4901c6b4c619101c7f5" category="paragraph"><block ref="9729b447443ac4901c6b4c619101c7f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09d7240367714707474d63a3a574222b" category="list-text">Specificare il punto di ripristino in base alla data e all'ora oppure tramite SCN.  Finché Annulla ripristina il database fino ai registri di archivio disponibili.  Specificare la posizione del registro di archivio esterno dall'host di destinazione in cui è montato il volume del registro di archivio.  Se il proprietario Oracle del server di destinazione è diverso dal server di produzione locale, verificare che la directory del registro di archivio sia leggibile dal proprietario Oracle del server di destinazione.</block>
  <block id="9b40de27108f139fdd216f6f03be1bdf" category="paragraph"><block ref="9b40de27108f139fdd216f6f03be1bdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49f5cdb9736a65ec1db2db78e1032432" category="paragraph"><block ref="49f5cdb9736a65ec1db2db78e1032432" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2767b20dbecd16663b0249b06eb5466" category="paragraph"><block ref="c2767b20dbecd16663b0249b06eb5466" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0421be6f676ac1ddace9e39eeeb54f0f" category="list-text">Riepilogo del clone.</block>
  <block id="bf68904799d4967d70ff4a5fac96de1e" category="paragraph"><block ref="bf68904799d4967d70ff4a5fac96de1e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69d929881b22cd699e243e2343bd707d" category="list-text">Dopo la clonazione è necessario convalidare per assicurarsi che il database clonato sia operativo.  Alcune attività aggiuntive, come l'avvio del listener o la disattivazione della modalità di archiviazione del log del DB, possono essere eseguite sul database di sviluppo/test.</block>
  <block id="9d46db4ac971cc1db20463ba195f6f03" category="paragraph"><block ref="9d46db4ac971cc1db20463ba195f6f03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58732c8d9b1293bb6666ef2284840fd3" category="section-title">Clona un database SQL per sviluppo/test da un backup Snapshot replicato</block>
  <block id="605f2bb9d099f78e26260848db117df7" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database per SQL Server.  Passare alla scheda Risorse, che mostra i database utente di SQL Server protetti da SnapCenter e un'istanza SQL di standby di destinazione nel cloud pubblico.</block>
  <block id="ca1a103b35e781a7d36dc2b62b075911" category="paragraph"><block ref="ca1a103b35e781a7d36dc2b62b075911" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39c34a717e197c67b1fc8d678db5815b" category="list-text">Fare clic sul nome del database utente SQL Server locale desiderato per la topologia dei backup e la visualizzazione dettagliata.  Se è abilitata una posizione replicata secondaria, vengono mostrati i backup mirror collegati.</block>
  <block id="7f41d1786e9c73edfe4c83777b423f56" category="paragraph"><block ref="7f41d1786e9c73edfe4c83777b423f56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a5910fa5df5b6482c00b15ae683eef0f" category="list-text">Passare alla visualizzazione Backup speculari facendo clic su Backup speculari.  Vengono quindi visualizzati i backup mirror secondari.  Poiché SnapCenter esegue il backup del registro delle transazioni di SQL Server su un'unità dedicata per il ripristino, qui vengono visualizzati solo i backup completi del database.</block>
  <block id="a8d8c5ea6b104184633cb3921639dd25" category="paragraph"><block ref="a8d8c5ea6b104184633cb3921639dd25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="368014bae8201ab49d2207a53c907069" category="list-text">Scegli una copia di backup, quindi fai clic sul pulsante Clona per avviare il flusso di lavoro Clona da backup.</block>
  <block id="eba08e4bbd6b78f38043bce820db3835" category="paragraph"><block ref="eba08e4bbd6b78f38043bce820db3835" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78599f9e73230a8212f30880551b813a" category="paragraph"><block ref="78599f9e73230a8212f30880551b813a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44258030a87117191bde6d62511ddb9a" category="list-text">Selezionare un server cloud come server clone di destinazione, il nome dell'istanza clone e il nome del database clone.  Scegliere un punto di montaggio assegnato automaticamente o un percorso di punto di montaggio definito dall'utente.</block>
  <block id="04b71eaff796b865b737d8c15e38163c" category="paragraph"><block ref="04b71eaff796b865b737d8c15e38163c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18145dc97ae06034ae9aafa8b98cb36e" category="list-text">Determinare un punto di ripristino in base all'ora di backup del registro o in base a una data e un'ora specifiche.</block>
  <block id="fdb1ecfef863749f0f9eb1780e7d739e" category="paragraph"><block ref="fdb1ecfef863749f0f9eb1780e7d739e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b9becceddf802cada91d9e2aa84ac5a" category="list-text">Specificare gli script facoltativi da eseguire prima e dopo l'operazione di clonazione.</block>
  <block id="40913b1d5fee1909218aaf7c15d94e06" category="paragraph"><block ref="40913b1d5fee1909218aaf7c15d94e06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e41b01ffd717fd3d0b5788e608e50b52" category="list-text">Configurare un server SMTP se si desidera la notifica via e-mail.</block>
  <block id="201595ba1d4e645cf16fce237931edd7" category="paragraph"><block ref="201595ba1d4e645cf16fce237931edd7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc89ae2ec0203249b8e60785a63ca258" category="list-text">Riepilogo del clone.</block>
  <block id="2eb32fb20393f4cbe6233b791918752e" category="paragraph"><block ref="2eb32fb20393f4cbe6233b791918752e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28725828580a55d904e8b2a39f377eb9" category="list-text">Monitorare lo stato del processo e verificare che il database utente previsto sia stato collegato a un'istanza SQL di destinazione nel server clone cloud.</block>
  <block id="2e6fba4820c2921c6ea0468bb8b0d709" category="paragraph"><block ref="2e6fba4820c2921c6ea0468bb8b0d709" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d512bf68b17268adfe539f9722d869b4" category="section-title">Configurazione post-clone</block>
  <block id="50d9180ea26c89fbe6506d71d81d3fb1" category="list-text">Un database di produzione Oracle in locale viene solitamente eseguito in modalità di archiviazione dei log.  Questa modalità non è necessaria per un database di sviluppo o di test.  Per disattivare la modalità di archiviazione dei log, accedere al database Oracle come sysdba, eseguire un comando di modifica della modalità di log e avviare il database per l'accesso.</block>
  <block id="b205237d51ff9525496f4b2252942213" category="list-text">Configurare un listener Oracle oppure registrare il DB appena clonato con un listener esistente per l'accesso utente.</block>
  <block id="800699a04cdaa75b2219988799b0a048" category="list-text">Per SQL Server, modificare la modalità di registrazione da Completa a Semplice in modo che il file di registro di sviluppo/test di SQL Server possa essere facilmente ridotto quando riempie il volume di registro.</block>
  <block id="89e018d207fd292a4926870904035c18" category="section-title">Aggiorna il database clone</block>
  <block id="d84550ba9a340ebf4fa6698dff5ba344" category="list-text">Eliminare i database clonati e ripulire l'ambiente del server DB cloud.  Quindi seguire le procedure precedenti per clonare un nuovo DB con dati aggiornati.  Per clonare un nuovo database bastano pochi minuti.</block>
  <block id="1170d6f09309cb8dc382034a34680937" category="inline-link-macro">Aggiorna un clone</block>
  <block id="fef062eeb7771b01e620bb2460b1bf9a" category="list-text">Arrestare il database clone, eseguire un comando di aggiornamento clone tramite la CLI.  Per maggiori dettagli, consultare la seguente documentazione SnapCenter :<block ref="1e4035dee07650c706f8f0714c384872" category="inline-link-macro-rx"></block> .</block>
  <block id="2d6962c20ba37b34437afc30e6838e0d" category="inline-link-macro">Canale Slack di supporto della community NetApp Solution Automation</block>
  <block id="7b88d7d11804db6b079e226a6f043ea7" category="paragraph">Se hai bisogno di aiuto con questa soluzione e casi d'uso, unisciti a<block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> e cerca il canale solution-automation per pubblicare le tue domande o richieste.</block>
  <block id="ff9d8653752bd48bb6b73cf97f207af1" category="summary">soluzioni di database cloud ibrido con flusso di lavoro SnapCenter DR</block>
  <block id="ac2e8778240cb518ee14b1defbf55765" category="doc">Flusso di lavoro di ripristino di emergenza</block>
  <block id="8e84608bd62584b2f262d60fd734714f" category="paragraph">Le aziende hanno adottato il cloud pubblico come risorsa e destinazione valida per il disaster recovery.  SnapCenter rende questo processo il più fluido possibile.  Questo flusso di lavoro di disaster recovery è molto simile al flusso di lavoro di clonazione, ma il ripristino del database viene eseguito tramite l'ultimo registro disponibile che è stato replicato sul cloud per recuperare tutte le transazioni aziendali possibili.  Tuttavia, per il disaster recovery sono previsti ulteriori passaggi di pre-configurazione e post-configurazione.</block>
  <block id="e230d95c57c5534b3e90b93fddbcb1c9" category="section-title">Clona un database di produzione Oracle locale sul cloud per il DR</block>
  <block id="db9517755259859dbae095126c803544" category="list-text">Per verificare che il ripristino del clone venga eseguito tramite l'ultimo registro disponibile, abbiamo creato una piccola tabella di prova e inserito una riga.  I dati di prova verrebbero recuperati dopo un ripristino completo dell'ultimo registro disponibile.</block>
  <block id="bf9b379030bc827f7fde47d402deb0c3" category="paragraph"><block ref="bf9b379030bc827f7fde47d402deb0c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fd1337293be82f7472d90bc35f51e90" category="list-text">Accedi a SnapCenter come ID utente di gestione del database per Oracle.  Passare alla scheda Risorse, che mostra i database Oracle protetti da SnapCenter.</block>
  <block id="c045754a6f6804ffaa3e8a3349bb61ea" category="paragraph"><block ref="c045754a6f6804ffaa3e8a3349bb61ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e795ef17ab8e08159909afe558c32a1c" category="list-text">Selezionare il gruppo di risorse del registro Oracle e fare clic su Esegui backup ora per eseguire manualmente un backup del registro Oracle per scaricare l'ultima transazione nella destinazione nel cloud.  In uno scenario DR reale, l'ultima transazione recuperabile dipende dalla frequenza di replicazione del volume del registro del database sul cloud, che a sua volta dipende dalla politica RTO o RPO dell'azienda.</block>
  <block id="a2b3eebd207287850edd1177521be8c8" category="paragraph"><block ref="a2b3eebd207287850edd1177521be8c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c64c9ffbfbb15dacd22606acf72da44" category="paragraph"><block ref="4c64c9ffbfbb15dacd22606acf72da44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d77575716b9cd49ab1453e367c405abe" category="admonition">SnapMirror asincrono perde i dati che non sono arrivati alla destinazione cloud nell'intervallo di backup del registro del database in uno scenario di ripristino di emergenza.  Per ridurre al minimo la perdita di dati, è possibile pianificare backup del registro più frequenti.  Tuttavia, esiste un limite alla frequenza di backup del registro tecnicamente realizzabile.</block>
  <block id="c684c2587fa959f3df40953faab1c1a1" category="list-text">Selezionare l'ultimo backup del log sul/sui backup mirror secondario/i e montare il backup del log.</block>
  <block id="6286aa5686611cc853dc091a6465aa7b" category="paragraph"><block ref="6286aa5686611cc853dc091a6465aa7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8a8f78b581031f58f587c2c400e2d7e0" category="paragraph"><block ref="8a8f78b581031f58f587c2c400e2d7e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fbfa0a2a63c1090863dedb14664d443c" category="list-text">Selezionare l'ultimo backup completo del database e fare clic su Clona per avviare il flusso di lavoro di clonazione.</block>
  <block id="a15e54a17fb69aa641ceea5f9aaecabc" category="paragraph"><block ref="a15e54a17fb69aa641ceea5f9aaecabc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3aa765536eeb5bd55823afbb43c9efdc" category="list-text">Selezionare un ID DB clone univoco sull'host.</block>
  <block id="2f61defc08c838dd1776e8384de4d5e7" category="paragraph"><block ref="2f61defc08c838dd1776e8384de4d5e7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d57d235b31b66e982ae6d433fa33948e" category="list-text">Fornire un volume di registro e montarlo sul server DR di destinazione per l'area di ripristino flash Oracle e i registri online.</block>
  <block id="9d13517407750da9676d0eacd64d2f61" category="paragraph"><block ref="9d13517407750da9676d0eacd64d2f61" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37e13ec4617949d1839682f248c29345" category="paragraph"><block ref="37e13ec4617949d1839682f248c29345" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6142419cbd2b279a240db52011ea3cab" category="admonition">La procedura di clonazione di Oracle non crea un volume di registro, che deve essere predisposto sul server DR prima della clonazione.</block>
  <block id="b20da77a777ef0a84d95f447b254387c" category="list-text">Selezionare l'host clone di destinazione e la posizione in cui posizionare i file di dati, i file di controllo e i redo log.</block>
  <block id="39ecc7e730fd5492ff22572380147383" category="paragraph"><block ref="39ecc7e730fd5492ff22572380147383" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b126b14adfdc04f12e6a00531155f4a" category="list-text">Selezionare le credenziali per il clone.  Compilare i dettagli della configurazione Oracle home sul server di destinazione.</block>
  <block id="2f0654b2d4002cc86dd65a1dd1fdd620" category="paragraph"><block ref="2f0654b2d4002cc86dd65a1dd1fdd620" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c76f59dc52686a71eb5917bbcabfa212" category="list-text">Specificare gli script da eseguire prima della clonazione.  Se necessario, è possibile modificare i parametri del database.</block>
  <block id="ebfae66d0d19783737f56910903b2f4f" category="paragraph"><block ref="ebfae66d0d19783737f56910903b2f4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7018f70f78c5e3154b2620e31167c12e" category="list-text">Selezionare Fino all'annullamento come opzione di ripristino in modo che il ripristino venga eseguito attraverso tutti i registri di archivio disponibili per recuperare l'ultima transazione replicata nella posizione cloud secondaria.</block>
  <block id="cb6a3f006f851cb8fe602416d51249de" category="paragraph"><block ref="cb6a3f006f851cb8fe602416d51249de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6233d74c8f9820a1029624d60ab66049" category="list-text">Se necessario, configurare il server SMTP per la notifica via e-mail.</block>
  <block id="d1bed69a0f1e8e74876c7069be501886" category="paragraph"><block ref="d1bed69a0f1e8e74876c7069be501886" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99a0cd00abfa258b121d480ce7d27e63" category="list-text">Riepilogo del clone DR.</block>
  <block id="da46ac31ccf219acaed3d495297a58c7" category="paragraph"><block ref="da46ac31ccf219acaed3d495297a58c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4ff014e6bff5ee06349d607c14fcf9e" category="list-text">I DB clonati vengono registrati con SnapCenter subito dopo il completamento della clonazione e sono quindi disponibili per la protezione tramite backup.</block>
  <block id="1a7649ea290421532d145807093a7772" category="paragraph"><block ref="1a7649ea290421532d145807093a7772" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22d74aee547ad10d104f875521cfa6d7" category="section-title">Convalida e configurazione del clone post-DR per Oracle</block>
  <block id="9d58cce71d4c85948ccecfea105367ed" category="list-text">Convalida l'ultima transazione di prova che è stata svuotata, replicata e ripristinata nella posizione DR nel cloud.</block>
  <block id="254ca89c210a529d8172395ad07820f4" category="paragraph"><block ref="254ca89c210a529d8172395ad07820f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="61b3573abc722a493f53ed27503f7eff" category="list-text">Configurare l'area di ripristino flash.</block>
  <block id="660e02806b058564a27ae968882bb9d2" category="paragraph"><block ref="660e02806b058564a27ae968882bb9d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4005d553f013abc53c6a1a65aed1d65f" category="list-text">Configurare l'ascoltatore Oracle per l'accesso utente.</block>
  <block id="0c79c2a9e4fd1ea908a63d58f1f44917" category="list-text">Dividere il volume clonato dal volume sorgente replicato.</block>
  <block id="42e82bb35283d9f2e2b444419f518667" category="list-text">Replica inversa dal cloud all'ambiente locale e ricostruzione del server di database locale non funzionante.</block>
  <block id="4ce2420dd00dd0b543e2e51bf7c1c135" category="admonition">La suddivisione dei cloni può comportare un utilizzo temporaneo dello spazio di archiviazione molto più elevato rispetto al normale funzionamento.  Tuttavia, dopo aver ricostruito il server DB locale, è possibile liberare spazio extra.</block>
  <block id="0e70133bb418f4025b82a6a35301e209" category="section-title">Clona un database di produzione SQL locale sul cloud per il ripristino di emergenza</block>
  <block id="32bfa00a92b9f85d791a43f6d70a35cd" category="list-text">Allo stesso modo, per convalidare che il ripristino del clone SQL fosse stato eseguito tramite l'ultimo log disponibile, abbiamo creato una piccola tabella di prova e inserito una riga.  I dati di prova verrebbero recuperati dopo un ripristino completo dell'ultimo registro disponibile.</block>
  <block id="97f3ffe7d5b98c3e08fbbbe98ebefec3" category="paragraph"><block ref="97f3ffe7d5b98c3e08fbbbe98ebefec3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3b7f1fcf93afdd055ec19e230b54347" category="list-text">Accedi a SnapCenter con un ID utente di gestione del database per SQL Server.  Passare alla scheda Risorse, che mostra il gruppo di risorse di protezione di SQL Server.</block>
  <block id="7b8dfadb61967ada09a2574700fb3679" category="paragraph"><block ref="7b8dfadb61967ada09a2574700fb3679" category="inline-image-macro-rx" type="image"></block></block>
  <block id="608bfa3334f97023b71f6b7a04742bd6" category="list-text">Eseguire manualmente un backup del registro per eliminare l'ultima transazione da replicare nell'archivio secondario nel cloud pubblico.</block>
  <block id="3731796124724265e7056364fe97de49" category="paragraph"><block ref="3731796124724265e7056364fe97de49" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9b9ced1d8d8e91eb2606cb7d0932fa4" category="list-text">Selezionare l'ultimo backup completo di SQL Server per il clone.</block>
  <block id="4f9447b8f96dd4e69d5420903d0ff31e" category="paragraph"><block ref="4f9447b8f96dd4e69d5420903d0ff31e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="82efcc579f2220a65dbe5cdd64f47253" category="list-text">Imposta le impostazioni di clonazione, come il server di clonazione, l'istanza di clonazione, il nome di clonazione e l'opzione di montaggio.  La posizione di archiviazione secondaria in cui viene eseguita la clonazione viene popolata automaticamente.</block>
  <block id="660b4652e7cc7126e9a114258a40d467" category="paragraph"><block ref="660b4652e7cc7126e9a114258a40d467" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9d84ecf0ed314694d6e3ad9b2a96a198" category="list-text">Seleziona tutti i backup del registro da applicare.</block>
  <block id="e91ab26b6566811aeea0708c6e5c268b" category="paragraph"><block ref="e91ab26b6566811aeea0708c6e5c268b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f68fbd76be71ebe267aa207f7bef25f" category="list-text">Specificare eventuali script facoltativi da eseguire prima o dopo la clonazione.</block>
  <block id="5b889c873c8e5957d9b60e72df5c2dc7" category="paragraph"><block ref="5b889c873c8e5957d9b60e72df5c2dc7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ac43ede08a0b7154673a619b979f17d" category="list-text">Specificare un server SMTP se si desidera la notifica via e-mail.</block>
  <block id="0cf1d9b1b5d8d0430cc2f17eb75e61ee" category="paragraph"><block ref="0cf1d9b1b5d8d0430cc2f17eb75e61ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7338d3af995c4a281de85493129cc18" category="list-text">Riepilogo del clone DR.  I database clonati vengono immediatamente registrati con SnapCenter e disponibili per la protezione tramite backup.</block>
  <block id="24ea5f6304d78943cb64b7203c62375b" category="paragraph"><block ref="24ea5f6304d78943cb64b7203c62375b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15f7959b68f914a689bc1bd410c1587a" category="paragraph"><block ref="15f7959b68f914a689bc1bd410c1587a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f01a56e31a650c5bb83408b5238270e" category="section-title">Convalida e configurazione del clone post-DR per SQL</block>
  <block id="029640b7bf09578f05703e407e99b8d7" category="list-text">Monitorare lo stato del processo di clonazione.</block>
  <block id="9b2bc9accae58c4c3564ab1782a3460e" category="paragraph"><block ref="9b2bc9accae58c4c3564ab1782a3460e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68236fcee9bee8dbdc1c54b7b2d84b34" category="list-text">Convalidare che l'ultima transazione sia stata replicata e recuperata con tutti i cloni dei file di registro e il recupero.</block>
  <block id="84796a21de5593c952d0ae1c4869387f" category="paragraph"><block ref="84796a21de5593c952d0ae1c4869387f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50159c53d6f87eb33c314abd9f0bd28f" category="list-text">Configurare una nuova directory di log di SnapCenter sul server DR per il backup del log di SQL Server.</block>
  <block id="50f8c30e062c542679b96127a844db6a" category="paragraph">Se hai bisogno di aiuto con questa soluzione e casi d'uso, unisciti a<block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> e cerca il canale solution-automation per pubblicare le tue domande o richieste.</block>
  <block id="d89002d36151bd13d2bba69f3533ee5f" category="summary">Questa soluzione fornisce ai clienti e al personale NetApp istruzioni e linee guida per la configurazione, il funzionamento e la migrazione dei database in un ambiente cloud ibrido utilizzando lo strumento basato sull'interfaccia utente grafica NetApp SnapCenter e il servizio di storage NetApp CVO nei cloud pubblici.</block>
  <block id="8269707c3930f3cbcd49193be33bc125" category="doc">TR-4908: Panoramica delle soluzioni di database cloud ibrido con SnapCenter</block>
  <block id="7c4d94e1b484fb577b0aeafbec788ea1" category="paragraph">Alan Cao, Felix Melligan, NetApp</block>
  <block id="268a30b4d0cad062acd42967ce0fab50" category="paragraph">Questa soluzione fornisce al personale e ai clienti NetApp istruzioni e linee guida per la configurazione, il funzionamento e la migrazione dei database in un ambiente cloud ibrido utilizzando lo strumento basato sull'interfaccia utente grafica NetApp SnapCenter e il servizio di storage NetApp CVO nei cloud pubblici per i seguenti casi d'uso:</block>
  <block id="e88a2467c8ad8bf481854b1a745a875b" category="list-text">Operazioni di sviluppo/test del database nel cloud ibrido</block>
  <block id="3c9552536897a076f75b078a5e2a3703" category="list-text">Ripristino di emergenza del database nel cloud ibrido</block>
  <block id="a1ac690c228caf22f3228d3a4d8b5cab" category="paragraph">Oggigiorno, molti database aziendali risiedono ancora in data center aziendali privati per motivi di prestazioni, sicurezza e/o altri motivi.  Questa soluzione di database cloud ibrido consente alle aziende di gestire i propri database primari in loco, utilizzando al contempo un cloud pubblico per le operazioni di sviluppo/test del database e per il disaster recovery, riducendo così i costi operativi e di licenza.</block>
  <block id="d900d125b3be40bcb79452d624c38561" category="paragraph">Molti database aziendali, come Oracle, SQL Server, SAP HANA e così via, comportano costi di licenza e operativi elevati.  Molti clienti pagano una quota di licenza una tantum e costi di supporto annuali in base al numero di core di elaborazione presenti nel loro ambiente di database, indipendentemente dal fatto che i core vengano utilizzati per sviluppo, test, produzione o ripristino di emergenza.  Molti di questi ambienti potrebbero non essere sfruttati appieno durante l'intero ciclo di vita dell'applicazione.</block>
  <block id="1f49cc83c5c3735827e3353f320f5f7f" category="paragraph">Le soluzioni offrono ai clienti la possibilità di ridurre potenzialmente il numero di core concessi in licenza spostando sul cloud i propri ambienti di database dedicati allo sviluppo, ai test o al ripristino di emergenza.  Utilizzando la scalabilità del cloud pubblico, la ridondanza, l'elevata disponibilità e un modello di fatturazione basato sul consumo, il risparmio sui costi di licenza e operatività può essere sostanziale, senza sacrificare l'usabilità o la disponibilità dell'applicazione.</block>
  <block id="1a197dd926608052c7d43edfd09556fa" category="paragraph">Oltre al potenziale risparmio sui costi delle licenze del database, il modello di licenza CVO basato sulla capacità di NetApp consente ai clienti di risparmiare sui costi di storage per GB, offrendo loro al contempo un elevato livello di gestibilità del database non disponibile nei servizi di storage concorrenti.  Il grafico seguente mostra un confronto dei costi di archiviazione dei servizi di archiviazione più diffusi disponibili nel cloud pubblico.</block>
  <block id="67fdaeebde7240c6e8407fc841b36c97" category="paragraph"><block ref="67fdaeebde7240c6e8407fc841b36c97" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e222eb27a0002f2960d1cf1e14bbf7d" category="paragraph">Questa soluzione dimostra che, utilizzando lo strumento software basato su GUI SnapCenter e la tecnologia NetApp SnapMirror , le operazioni di database cloud ibrido possono essere facilmente configurate, implementate e gestite.</block>
  <block id="26cc8c416b5c9fd6bec3dc68e6f2f0c8" category="paragraph">I seguenti video mostrano SnapCenter in azione:</block>
  <block id="edc6673fe24c4867029921bbe72f25cb" category="inline-link">Backup di un database Oracle su un cloud ibrido utilizzando SnapCenter</block>
  <block id="07f8a38c412c09341d1deed9b406043b" category="list-text"><block ref="7b45d70be3a7543eb942cb9a903fbe9c" category="inline-link-rx"></block></block>
  <block id="68d9033a95c0ed286c9b7e0e7454cd86" category="inline-link">SnapCenter- Clona DEV/TEST su AWS Cloud per un database Oracle</block>
  <block id="74334272f82b4ca436609109dc29dd1f" category="list-text"><block ref="74334272f82b4ca436609109dc29dd1f" category="inline-link-rx"></block></block>
  <block id="3b04263461ad5a7b57aa872e093ec9fa" category="paragraph">In particolare, sebbene le illustrazioni presenti in questo documento mostrino CVO come istanza di storage di destinazione nel cloud pubblico, la soluzione è completamente convalidata anche per la nuova versione del motore di storage FSx ONTAP per AWS.</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Note legali</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">Le note legali forniscono accesso a dichiarazioni di copyright, marchi commerciali, brevetti e altro ancora.</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Copyright</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marchi</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP, il logo NETAPP e i marchi elencati nella pagina Marchi NetApp sono marchi di NetApp, Inc. Altri nomi di aziende e prodotti possono essere marchi dei rispettivi proprietari.</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Brevetti</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Un elenco aggiornato dei brevetti di proprietà di NetApp è disponibile all'indirizzo:</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Politica sulla riservatezza</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="9ebab86841aaf8d1142cbc9de846ef74" category="summary">Questo esempio di caso d'uso reale illustra le sfide, le soluzioni e i risultati della migrazione dei carichi di lavoro del server SQL da locale ad Amazon FSx ONTAP per ridurre i costi.</block>
  <block id="2bb6aceca76309fe8dc1a391905a7797" category="doc">Un'azienda di prodotti medicali migra il carico di lavoro SQL locale su Amazon FSx ONTAP per ridurre i costi</block>
  <block id="2899245ece0617ff86d6db5902b5cab9" category="section-title">La sfida</block>
  <block id="ddeb1059d99575170dd0449c38543c71" category="list-text">Il cliente eseguiva carichi di lavoro del server SQL in un data center privato ospitato da una terza parte.  L'aumento dei costi di hosting era diventato un problema.</block>
  <block id="8af70440008c2e1ffe209a0fdf859d92" category="list-text">Mancava una conoscenza approfondita dell'architettura applicativa e dell'infrastruttura esistente a causa dell'outsourcing e dell'abbandono dei dipendenti.</block>
  <block id="67c4c601210dd1946cf613171fc89e20" category="list-text">Aveva poca o nessuna esperienza nella gestione NetApp ONTAP.</block>
  <block id="e95bdcab85ffd6873d2f0650e693f95e" category="list-text">Si sta procedendo con una tabella di marcia serrata prima di decidere il rinnovo delle infrastrutture esistenti.</block>
  <block id="a53f8ff0145160d09034dc91d7044cd4" category="list-text">L'ambiente SQL Server è ampio (100 TB) e complesso, con HA tra due data center tramite SQL Always On.  Tre ambienti transitori creati da una copia di dati secondaria utilizzando AppSync e dati aggiornati quotidianamente/settimanalmente.  Modifiche dedicate ai flag dei dati richieste tramite script SQL dopo ogni aggiornamento dei dati di produzione.</block>
  <block id="215ffdc2154202bc8e4ac019a43864a7" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato della configurazione dell'ambiente del cliente prima della migrazione.</block>
  <block id="83cc4b36f66d6b47819e8171dd075a36" category="paragraph"><block ref="83cc4b36f66d6b47819e8171dd075a36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34e74b1c7f4aad91715567cf698912f6" category="section-title">La soluzione</block>
  <block id="4215ca268463517d967ef74b6bede3eb" category="list-text">Migrazione dall'ambiente Dell Unity SAN e AppSync ospitato in sede ad AWS Amazon FSx ONTAP con NetApp SnapCenter.</block>
  <block id="e9c661df21b993c0b7b63dce6feec2e3" category="list-text">La funzionalità thin clone Amazon FSx ONTAP aiuta a ridurre i costi di archiviazione, mentre la gestione completamente automatizzata del ciclo di vita dei cloni SnapCenter soddisfa tutti gli altri requisiti degli ambienti transitori.</block>
  <block id="d5410f927ed71956aafce5a6dc3305ac" category="list-text">Database SQL Server primario distribuito su AWS EBS e copia secondaria replicata su Amazon FSx ONTAP Single-AZ.</block>
  <block id="c2aa7a0b885e6095c021fd891708f12b" category="list-text">PoC ha dimostrato che SnapCenter era un sostituto adatto per AppSync.</block>
  <block id="36ee31347df2745629bdc9ab076623bd" category="list-text">Partner fidati ed esperti per l'installazione, la migrazione e il supporto continuo.  Le guide dettagliate per l'implementazione delle soluzioni hanno aiutato gli utenti alle prime armi e quelli inesperti Amazon FSx ONTAP e SnapCenter .</block>
  <block id="e6167a9415ddc0e437b76be36ead0fd9" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato della configurazione dell'ambiente del cliente dopo la migrazione.</block>
  <block id="144ee0753661798d189f7b8edfba5d5d" category="paragraph"><block ref="144ee0753661798d189f7b8edfba5d5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="037a407f2bcb6f735326c14ce45a0e3c" category="section-title">Il risultato</block>
  <block id="4894e924def080453ae046c515553627" category="list-text">Riduzione dei costi del 40% rispetto all'hosting continuato su data center privati.</block>
  <block id="afb5ca9be54e0c53d05b5291ae88d538" category="list-text">Servizio Amazon FSx ONTAP completamente gestito con SnapCenter per supportare 300 clienti.</block>
  <block id="411edfad09596c7d8c36ef9644cd895e" category="list-text">Mantenimento della capacità di automatizzare cloni thin provisioning quasi istantanei per ambienti PreProd, UAT e QA.</block>
  <block id="77ddcbafb32e39924dc0ae5d8e6d9283" category="list-text">Migrazione puntuale, riduzione dei costi di rinnovo, passaggio da un rapporto insoddisfacente con il fornitore a un'esperienza gratificante nel cloud pubblico.</block>
  <block id="9c65aa139183fc57fbe68058471ba5f8" category="list-text">SQL Server su Amazon FSx ha ottenuto un ulteriore livello di ridondanza dei dati mantenendo inalterate le prestazioni.</block>
  <block id="4715903fd66fd676a1eadc1e2fc3c4c9" category="list-text">Possibilità di abilitare facilmente il DR interregionale in futuro.</block>
  <block id="e890f04973d00c3664a44f4cc586bb5d" category="inline-link-macro">Soluzioni per database aziendali NetApp</block>
  <block id="23680652f2c974bcceb7b9aa43410d20" category="paragraph">Per saperne di più sulle soluzioni di database aziendali NetApp , consultare il seguente sito Web<block ref="8402f2c56712389a2706366603f539c4" category="inline-link-macro-rx"></block></block>
  <block id="3282bd4b5c29b5e9be65469e592bba18" category="doc">Modernizzazione dell'ambiente Microsoft SQL Server</block>
  <block id="69015d285622bbd074d7bccf4ea12670" category="paragraph">Ottimizza le operazioni e libera la potenza dei tuoi dati, in sede o nel cloud.</block>
  <block id="b5b095487ccabae138c7872353cadbe6" category="paragraph"><block ref="b5b095487ccabae138c7872353cadbe6" category="inline-link-macro-rx"></block></block>
  <block id="9ff5e34d13d41849b6450e8addb8d6b9" category="doc">TR-4923: SQL Server su AWS EC2 utilizzando Amazon FSx ONTAP</block>
  <block id="5ce204e25db367dee2cd85f469afe6fe" category="paragraph">Questa soluzione riguarda la distribuzione di SQL Server su AWS EC2 utilizzando Amazon FSx ONTAP.</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">Introduzione</block>
  <block id="402f75f2702f054c16c5ca8fdd8e3d55" category="paragraph">Molte aziende che desiderano migrare le applicazioni da un ambiente locale al cloud scoprono che tale sforzo è ostacolato dalle differenze nelle capacità offerte dai sistemi di archiviazione locali e dai servizi di archiviazione cloud.  Questa lacuna ha reso molto più problematica la migrazione di applicazioni aziendali come Microsoft SQL Server.  In particolare, le lacune nei servizi necessari per eseguire un'applicazione aziendale, come snapshot affidabili, capacità di efficienza di archiviazione, elevata disponibilità, affidabilità e prestazioni costanti, hanno costretto i clienti a scendere a compromessi nella progettazione o a rinunciare alla migrazione delle applicazioni.  Con FSx ONTAP, i clienti non devono più scendere a compromessi.  FSx ONTAP è un servizio AWS nativo (di prima parte) venduto, supportato, fatturato e completamente gestito da AWS.  Sfrutta la potenza di NetApp ONTAP per fornire le stesse funzionalità di storage e gestione dei dati di livello aziendale che NetApp fornisce in sede da tre decenni su AWS come servizio gestito.</block>
  <block id="f3eec26de1c09022af7c97255f0dfee6" category="inline-link">AWS FSx ONTAP</block>
  <block id="a2f7f68476a76b6aa359589e4d201707" category="paragraph">Con SQL Server su istanze EC2, gli amministratori di database possono accedere e personalizzare il proprio ambiente di database e il sistema operativo sottostante.  Un'istanza di SQL Server su EC2 in combinazione con<block ref="3f737fd84a60fb425fdcdb5cf9a593da" category="inline-link-rx"></block> per archiviare i file del database, consente elevate prestazioni, gestione dei dati e un percorso di migrazione semplice e agevole mediante replica a livello di blocco.  Pertanto, puoi eseguire il tuo database complesso su AWS VPC con un semplice approccio lift-and-shift, con meno clic e senza conversioni di schema.</block>
  <block id="7650c209896ebc8342f9cb76784be613" category="section-title">Vantaggi dell'utilizzo di Amazon FSx ONTAP con SQL Server</block>
  <block id="1543833f78776c49001619f3d53821e7" category="paragraph">Amazon FSx ONTAP è lo storage di file ideale per le distribuzioni di SQL Server in AWS.  I vantaggi includono quanto segue:</block>
  <block id="7b699f0e1a60e419ed7d9173339aa3f5" category="list-text">Prestazioni elevate e produttività costanti con bassa latenza</block>
  <block id="8a34b0f2109dd0aad0c0c9976717cdd3" category="list-text">Caching intelligente con cache NVMe per migliorare le prestazioni</block>
  <block id="b10e27f9d68e001b8aa9369c8d308a8c" category="list-text">Dimensionamento flessibile per aumentare o ridurre capacità, produttività e IOPS al volo</block>
  <block id="169fee7c17564fc51aa8d2e77bcc1ce0" category="list-text">Replica efficiente dei blocchi on-premise su AWS</block>
  <block id="fd140f04c5bc5f51aff3ea5e1619abaf" category="list-text">L'uso di iSCSI, un protocollo ben noto per l'ambiente di database</block>
  <block id="e2c00a563e0219fd93fa6f24606dee33" category="list-text">Funzionalità di efficienza di archiviazione come il provisioning sottile e i cloni a zero footprint</block>
  <block id="4ac0316f1ba409d5cd9684222f9f8ada" category="list-text">Riduzione del tempo di backup da ore a minuti, riducendo così l'RTO</block>
  <block id="e3168d8a4383357a37460afad2f8878d" category="list-text">Backup e ripristino granulari dei database SQL con l'intuitiva interfaccia utente NetApp SnapCenter</block>
  <block id="935da11069e36e124602b7e23a73ee06" category="list-text">La possibilità di eseguire più migrazioni di prova prima della migrazione effettiva</block>
  <block id="15173984ed0ff615a3f0d55c8cd12291" category="list-text">Tempi di inattività più brevi durante la migrazione e superamento delle sfide della migrazione con copia a livello di file o di I/O</block>
  <block id="0de5f8d5cf18757efac074c02f16a0bb" category="list-text">Riduzione del MTTR individuando la causa principale dopo una versione importante o un aggiornamento di patch</block>
  <block id="b2f6cb9b486b8f5aad81044ec7e08d84" category="paragraph">L'implementazione di database SQL Server su FSx ONTAP con il protocollo iSCSI, comunemente utilizzato in locale, fornisce un ambiente di archiviazione del database ideale con prestazioni superiori, efficienza di archiviazione e funzionalità di gestione dei dati.  Utilizzando più sessioni iSCSI, ipotizzando una dimensione del working set pari al 5%, l'adattamento di una Flash Cache fornisce oltre 100.000 IOP con il servizio FSx ONTAP .  Questa configurazione garantisce il controllo completo sulle prestazioni per le applicazioni più esigenti.  SQL Server in esecuzione su istanze EC2 più piccole connesse a FSx ONTAP può eseguire le stesse operazioni di SQL Server in esecuzione su un'istanza EC2 molto più grande, perché a FSx ONTAP vengono applicati solo limiti di larghezza di banda di rete.  Riducendo le dimensioni delle istanze si riducono anche i costi di elaborazione, garantendo così una distribuzione ottimizzata in termini di TCO.  La combinazione di SQL tramite iSCSI, SMB3.0 con condivisioni multicanale a disponibilità continua su FSx ONTAP offre grandi vantaggi per i carichi di lavoro SQL.</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="section-title">Prima di iniziare</block>
  <block id="cefa59f4c31e5a6c2632d4b8f0c20311" category="paragraph">La combinazione di Amazon FSx ONTAP e SQL Server su istanza EC2 consente la creazione di progetti di archiviazione di database di livello aziendale in grado di soddisfare i requisiti applicativi più esigenti di oggi.  Per ottimizzare entrambe le tecnologie, è fondamentale comprendere i modelli e le caratteristiche di I/O di SQL Server.  Un layout di archiviazione ben progettato per un database SQL Server supporta le prestazioni di SQL Server e la gestione dell'infrastruttura di SQL Server.  Una buona disposizione dello storage consente inoltre un'implementazione iniziale efficace e una crescita graduale dell'ambiente nel tempo, parallelamente alla crescita dell'azienda.</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">Prerequisiti</block>
  <block id="800d285a5a8ca10451f7ace50ac40de5" category="paragraph">Prima di completare i passaggi descritti in questo documento, è necessario soddisfare i seguenti prerequisiti:</block>
  <block id="69a7abd5a400936f0e1a89910dfa0ba1" category="list-text">Un account AWS</block>
  <block id="0ccec72ee076a52a2a36cc16443822a6" category="list-text">Ruoli IAM appropriati per il provisioning di EC2 e FSx ONTAP</block>
  <block id="a76b04166db341ceee35b584673698e9" category="list-text">Un dominio Windows Active Directory su EC2</block>
  <block id="3084927119ae63d45676d527dfb4a882" category="list-text">Tutti i nodi di SQL Server devono essere in grado di comunicare tra loro</block>
  <block id="b1ada0ca0559fff335d482de393b4c70" category="list-text">Assicurarsi che la risoluzione DNS funzioni e che i nomi host possano essere risolti.  In caso contrario, utilizzare la voce del file host.</block>
  <block id="8413178222467ef68eb68a0644f11c42" category="list-text">Conoscenza generale dell'installazione di SQL Server</block>
  <block id="9c69c1668eca3541f0576cdc7fc730f0" category="paragraph">Per garantire la migliore configurazione di archiviazione, fare riferimento anche alle best practice NetApp per gli ambienti SQL Server.</block>
  <block id="49c805233b94175c188c58ebf681a2b9" category="example-title">Configurazioni delle best practice per gli ambienti SQL Server su EC2</block>
  <block id="d1d9da06ca1cde6106fef737b522df6e" category="paragraph">Con FSx ONTAP, l'acquisizione di spazio di archiviazione è un'operazione semplicissima che può essere eseguita aggiornando il file system.  Questo semplice processo consente l'ottimizzazione dinamica dei costi e delle prestazioni in base alle esigenze, aiuta a bilanciare il carico di lavoro SQL ed è anche un ottimo strumento per il thin provisioning.  Il thin provisioning di FSx ONTAP è progettato per offrire alle istanze EC2 che eseguono SQL Server uno spazio di archiviazione più logico rispetto a quello fornito nel file system.  Invece di allocare spazio in anticipo, lo spazio di archiviazione viene allocato dinamicamente a ciascun volume o LUN man mano che i dati vengono scritti.  Nella maggior parte delle configurazioni, lo spazio libero viene liberato anche quando i dati nel volume o nel LUN vengono eliminati (e non è contenuto in alcuna copia Snapshot).  La tabella seguente fornisce le impostazioni di configurazione per l'allocazione dinamica dello spazio di archiviazione.</block>
  <block id="51ac4bf63a0c6a9cefa7ba69b4154ef1" category="cell">Collocamento</block>
  <block id="254f642527b45bc260048e30704edb39" category="cell">Configurazione</block>
  <block id="f65fd63b63c9e9f25bf6bc141e83de34" category="cell">Garanzia di volume</block>
  <block id="db1bfba30dab4f1ed4a13cc586837f1b" category="cell">Nessuno (impostato di default)</block>
  <block id="f6445fd89b0b2c67f0304765c4c9a760" category="cell">Prenotazione LUN</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">Abilitato</block>
  <block id="f1e0735081bab920eff76b08a4600c76" category="cell">riserva frazionaria</block>
  <block id="856ee920f3261cadbc1c3fc52171d071" category="cell">0% (impostato di default)</block>
  <block id="99c0f62171e34b4ab6a79265f038e3af" category="cell">snap_reserve</block>
  <block id="9f1ef07877f9d85a82bd500f408b4814" category="cell">0%</block>
  <block id="a85c04491cb5bbcb534dc50b65b97530" category="cell">Eliminazione automatica</block>
  <block id="4ec86a7059e3d1002a06c51cbec9ad47" category="cell">volume / più vecchio_primo</block>
  <block id="7c68df7d17c446f99304ee1dc1498bfc" category="cell">Autodimensionamento</block>
  <block id="521c36a31c2762741cf0f8890cbe05e3" category="cell">SU</block>
  <block id="902c737cbaa1a86889c41fec210c805f" category="cell">prova_prima</block>
  <block id="f4c25546f220bb5d07f94244c9303967" category="cell">Crescita automatica</block>
  <block id="43c4c1dbc452be91829f25ee32c2a956" category="cell">Politica di suddivisione in livelli del volume</block>
  <block id="6d576caa9862f6db0177dfaff7abb095" category="cell">Solo istantanea</block>
  <block id="4c0abf2d4c54820b8d33061abaf30759" category="cell">Politica di snapshot</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="cell">Nessuno</block>
  <block id="e08a486f204620eff1a08fc926316c68" category="paragraph">Con questa configurazione, la dimensione totale dei volumi può essere maggiore dello spazio di archiviazione effettivamente disponibile nel file system.  Se le LUN o le copie Snapshot richiedono più spazio di quello disponibile nel volume, i volumi aumentano automaticamente, occupando più spazio dal file system che li contiene.  L'aumento automatico consente a FSx ONTAP di aumentare automaticamente le dimensioni del volume fino a una dimensione massima predeterminata.  Per supportare la crescita automatica del volume, deve esserci spazio disponibile nel file system contenitore.  Pertanto, con l'aumento automatico abilitato, è necessario monitorare lo spazio libero nel file system contenitore e aggiornare il file system quando necessario.</block>
  <block id="82373a2016779f9c20fdc0d8b48101a7" category="inline-link">allocazione dello spazio</block>
  <block id="0c1ee68ee35860bdd8687bc1c127f836" category="paragraph">Insieme a questo, imposta il<block ref="9d6ca3a9a42127525354c85d54adc465" category="inline-link-rx"></block> opzione su LUN da abilitare in modo che FSx ONTAP notifichi all'host EC2 quando il volume ha esaurito lo spazio e la LUN nel volume non può accettare scritture.  Inoltre, questa opzione consente a FSx ONTAP di recuperare spazio automaticamente quando SQL Server sull'host EC2 elimina i dati.  Per impostazione predefinita, l'opzione di allocazione dello spazio è disabilitata.</block>
  <block id="afa7be61df3527a5c4b5b7369729dfbc" category="admonition">Se una LUN con spazio riservato viene creata in un volume non garantito, la LUN si comporta come una LUN senza spazio riservato.  Ciò avviene perché un volume non garantito non ha spazio da allocare alla LUN; il volume stesso può allocare spazio solo quando viene scritto, a causa della sua assenza di garanzia.</block>
  <block id="cf18df2432b44bda18f67ef6fc93e36f" category="paragraph">Con questa configurazione, gli amministratori di FSx ONTAP possono generalmente dimensionare il volume in modo da dover gestire e monitorare lo spazio utilizzato nella LUN sul lato host e nel file system.</block>
  <block id="3e5fc395bc0727ee4a5d50bf7852e11e" category="admonition">NetApp consiglia di utilizzare un file system separato per i carichi di lavoro del server SQL.  Se il file system viene utilizzato per più applicazioni, monitorare l'utilizzo dello spazio sia del file system che dei volumi al suo interno per assicurarsi che i volumi non siano in competizione per lo spazio disponibile.</block>
  <block id="9bc03cfd47c7deb1375b7e700fba9c1a" category="admonition">Le copie snapshot utilizzate per creare volumi FlexClone non vengono eliminate dall'opzione di eliminazione automatica.</block>
  <block id="20292bb9591bce95b16e6ee1415023d3" category="admonition">L'eccessivo impegno di storage deve essere attentamente valutato e gestito per un'applicazione mission-critical come SQL Server, per la quale non è tollerabile nemmeno un'interruzione minima.  In tal caso, è meglio monitorare le tendenze del consumo di spazio di archiviazione per determinare quanto, se presente, l'eccesso di impegno sia accettabile.</block>
  <block id="304d5a3dcf64bf05141ead00f7ec768a" category="paragraph">*Migliori pratiche*</block>
  <block id="fbaad71632f1f86a6aec0eb25bf981d7" category="list-text">Per prestazioni di archiviazione ottimali, predisporre una capacità del file system pari a 1,35 volte la dimensione totale utilizzata dal database.</block>
  <block id="e2ec94309dce197f199c6e60cd3070eb" category="list-text">Quando si utilizza il thin provisioning, per evitare tempi di inattività delle applicazioni è necessario un monitoraggio adeguato accompagnato da un piano d'azione efficace.</block>
  <block id="d7fbab8fe0fe681c9e815507bcdf85c8" category="list-text">Assicurati di impostare gli avvisi di Cloudwatch e di altri strumenti di monitoraggio in modo che le persone vengano contattate con sufficiente anticipo per reagire quando lo spazio di archiviazione si riempie.</block>
  <block id="626a89ea253e84625436538e7249e94d" category="section-title">Configurare l'archiviazione per SQL Server e distribuire Snapcenter per le operazioni di backup, ripristino e clonazione</block>
  <block id="0a1c2236044192334a3fb3bbc0ab0dcd" category="paragraph">Per eseguire operazioni del server SQL con SnapCenter, è necessario prima creare volumi e LUN per il server SQL.</block>
  <block id="0cf06bf086c162ff9027bab7f6f36c93" category="example-title">Creare volumi e LUN per SQL Server</block>
  <block id="ff6ef44023084895f5f22aaf568ee0e3" category="paragraph">Per creare volumi e LUN per SQL Server, completare i seguenti passaggi:</block>
  <block id="0165fcfd32879eacf541aadf086338d2" category="list-text">Aprire la console Amazon FSx all'indirizzo<block ref="977f5adc4374191d0e48b9c0a8830158" category="inline-link-rx"></block></block>
  <block id="1e33ad7579c798ce6033c144ac99b840" category="list-text">Creare un Amazon FSx per il file system NetApp ONTAP utilizzando l'opzione Creazione standard in Metodo di creazione.  Ciò consente di definire le credenziali FSxadmin e vsadmin.</block>
  <block id="51f380869c70c40eff15cdbd4d4a6e9b" category="paragraph"><block ref="51f380869c70c40eff15cdbd4d4a6e9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="269452df07db5e5d5fb10125ef2dfc42" category="list-text">Specificare la password per fsxadmin.</block>
  <block id="3cebde7747bac9b46baf88a6b962cfc9" category="paragraph"><block ref="3cebde7747bac9b46baf88a6b962cfc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dea5db34596930d023317e03284777e1" category="list-text">Specificare la password per le SVM.</block>
  <block id="7b7fc47e17cbec35480a32f2da2a9642" category="paragraph"><block ref="7b7fc47e17cbec35480a32f2da2a9642" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bc6640e4dfc5de2fb0076fe009c8d72" category="inline-link">Creazione di un volume su FSx ONTAP</block>
  <block id="bcfe525f1945594d4e3a18903ce33cc2" category="list-text">Creare volumi seguendo i passaggi elencati in<block ref="a30412ed9707add26aa026ab621cb532" category="inline-link-rx"></block> .</block>
  <block id="1c472a7f2f4380895c82bc2ed43d727b" category="paragraph">*Migliori pratiche*</block>
  <block id="17288ccd1a2a55fccc24e084bec74a89" category="list-text">Disattivare le pianificazioni delle copie snapshot e i criteri di conservazione.  Utilizzare invece NetApp SnapCenter per coordinare le copie Snapshot dei volumi di dati e log di SQL Server.</block>
  <block id="c5023b4b04bc0ddc3d77e81fee7d99bb" category="list-text">Configurare i database su LUN individuali su volumi separati per sfruttare funzionalità di ripristino rapide e granulari.</block>
  <block id="6cb174042332f6d15cedab79c1f88bac" category="list-text">Posizionare i file di dati utente (.mdf) su volumi separati perché sono carichi di lavoro di lettura/scrittura casuali.  Di solito, i backup del registro delle transazioni vengono creati più frequentemente dei backup del database.  Per questo motivo, posizionare i file di registro delle transazioni (.ldf) su un volume separato dai file di dati, in modo che sia possibile creare pianificazioni di backup indipendenti per ciascuno.  Questa separazione isola anche l'I/O di scrittura sequenziale dei file di registro dall'I/O di lettura/scrittura casuale dei file di dati e migliora significativamente le prestazioni di SQL Server.</block>
  <block id="0588cef8958d83f61aed452f853f5852" category="list-text">Tempdb è un database di sistema utilizzato da Microsoft SQL Server come spazio di lavoro temporaneo, in particolare per operazioni DBCC CHECKDB ad alto utilizzo di I/O.  Pertanto, posizionare questo database su un volume dedicato.  Negli ambienti di grandi dimensioni in cui il conteggio dei volumi è una sfida, è possibile consolidare tempdb in meno volumi e archiviarlo nello stesso volume degli altri database di sistema dopo un'attenta pianificazione.  La protezione dei dati per tempdb non è una priorità elevata perché questo database viene ricreato ogni volta che Microsoft SQL Server viene riavviato.</block>
  <block id="0f33b537ada1b2dcb95880741120d7b6" category="list-text">Utilizzare il seguente comando SSH per creare volumi:</block>
  <block id="4272c7e0323a62da36a59d8db2457c11" category="list-text">Avviare il servizio iSCSI con PowerShell utilizzando privilegi elevati nei server Windows.</block>
  <block id="91d0d079f1c5a2183c1012cd2c2e59ab" category="list-text">Installare Multipath-IO con PowerShell utilizzando privilegi elevati nei server Windows.</block>
  <block id="4dee8d84e86540a5c4c302b3d75c32bc" category="list-text">Trovare il nome dell'iniziatore di Windows con PowerShell utilizzando privilegi elevati nei server Windows.</block>
  <block id="31135a9096c7ec17c4591166bc97e819" category="paragraph"><block ref="31135a9096c7ec17c4591166bc97e819" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1fcce0650c7bce1532fc57b6af299dba" category="list-text">Connettersi alle macchine virtuali di archiviazione (SVM) tramite putty e creare un iGroup.</block>
  <block id="a260444f9f7265e7da0cffa861246e93" category="list-text">Utilizzare il seguente comando SSH per creare LUN:</block>
  <block id="3d05062c53d156d602296b7fd5690b44" category="paragraph"><block ref="3d05062c53d156d602296b7fd5690b44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f5ef787d84b4ec1b5183cffdef5b56" category="list-text">Per ottenere l'allineamento I/O con lo schema di partizionamento del sistema operativo, utilizzare windows_2008 come tipo di LUN consigliato.  Fare riferimento<block ref="ff5fd3b71f5cd8b1a4e2fe23ad6d92ae" category="inline-link-rx"></block> per ulteriori informazioni.</block>
  <block id="4f10474fd5677d7f5caee5944cfd1a79" category="list-text">Utilizzare il seguente comando SSH per mappare igroup sui LUN appena creati.</block>
  <block id="48c4925b376ee796138447edf8c6c10b" category="paragraph"><block ref="48c4925b376ee796138447edf8c6c10b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0108f548c7bfba3ca19e227db2ad81d9" category="list-text">Per un disco condiviso che utilizza il cluster di failover di Windows, eseguire un comando SSH per mappare lo stesso LUN all'igroup che appartiene a tutti i server che partecipano al cluster di failover di Windows.</block>
  <block id="88c4f29ad54bd37fb1b7a1491b7af990" category="list-text">Collegare Windows Server a una SVM con una destinazione iSCSI.  Trova l'indirizzo IP di destinazione dal portale AWS.</block>
  <block id="40848a1a6d2b9ff082a8631d6e227af9" category="paragraph"><block ref="40848a1a6d2b9ff082a8631d6e227af9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df9eaa73034109b21c143e8c209823c2" category="list-text">Da Server Manager e dal menu Strumenti, selezionare iSCSI Initiator.  Selezionare la scheda Discovery e quindi selezionare Discover Portal.  Fornire l'indirizzo IP iSCSI del passaggio precedente e selezionare Avanzate.  Da Scheda locale, selezionare Iniziatore iSCSI Microsoft.  Da Initiator IP, seleziona l'IP del server.  Quindi seleziona OK per chiudere tutte le finestre.</block>
  <block id="9c801f3ce3d3624ee2295fdb5f8b4e01" category="paragraph"><block ref="9c801f3ce3d3624ee2295fdb5f8b4e01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bd432f2fc3bb1fab0023bf42f7b4108" category="list-text">Ripetere il passaggio 12 per il secondo IP iSCSI dall'SVM.</block>
  <block id="5648333e8838336553b385e488639863" category="list-text">Selezionare la scheda *Destinazioni*, selezionare *Connetti* e selezionare *Abilita multi-percorso*.</block>
  <block id="ed19e435fddf6da1d807ce924c621811" category="paragraph"><block ref="ed19e435fddf6da1d807ce924c621811" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f94de8933712f5d52ca62caf7fef6eb5" category="list-text">Per ottenere prestazioni ottimali, aggiungere più sessioni; NetApp consiglia di creare cinque sessioni iSCSI.  Selezionare *Proprietà* &gt; *Aggiungi sessione* &gt; *Avanzate* e ripetere il passaggio 12.</block>
  <block id="32ad539c2431f91a35344daadfa34149" category="paragraph"><block ref="32ad539c2431f91a35344daadfa34149" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c762aaec425b12667f2a575012e48905" category="list-text">Per prestazioni ottimali, configurare cinque sessioni iSCSI per interfaccia di destinazione.</block>
  <block id="72a53f90bcbaa031cad1c79575c53094" category="list-text">Configurare una politica round-robin per ottenere le migliori prestazioni iSCSI complessive.</block>
  <block id="168b03d713c83578e3c90be8e0a76a8e" category="list-text">Assicurarsi che la dimensione dell'unità di allocazione sia impostata su 64K per le partizioni durante la formattazione dei LUN</block>
  <block id="a196b0bfd5261a81ff3d40a2043f792c" category="list-text">Eseguire il seguente comando PowerShell per assicurarsi che la sessione iSCSI sia mantenuta.</block>
  <block id="b4f9dfe5978f567a9f00e7a1ccc10f88" category="paragraph"><block ref="b4f9dfe5978f567a9f00e7a1ccc10f88" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22ae84abced8e9e1236160d982616772" category="list-text">Inizializzare i dischi con il seguente comando PowerShell.</block>
  <block id="24f0357ad0ccea6c22a1fe2518f4d211" category="paragraph"><block ref="24f0357ad0ccea6c22a1fe2518f4d211" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1e9edc2d6e907049df14a10a6fcc404" category="list-text">Eseguire i comandi Crea partizione e Formatta disco con PowerShell.</block>
  <block id="79484e9f2e5f0589c78f273edd80759f" category="paragraph">È possibile automatizzare la creazione di volumi e LUN utilizzando lo script PowerShell dall'Appendice B. I LUN possono essere creati anche utilizzando SnapCenter.</block>
  <block id="d05ae24753b4098046ae8369c5618b97" category="paragraph">Una volta definiti i volumi e i LUN, è necessario configurare SnapCenter per poter eseguire le operazioni del database.</block>
  <block id="6309043436d4e7e5bad9a81c89ff15e4" category="example-title">Panoramica SnapCenter</block>
  <block id="419a08c6fdce80a29b8f8aeb7524f0e2" category="paragraph">NetApp SnapCenter è un software di protezione dati di nuova generazione per applicazioni aziendali di primo livello.  SnapCenter, con la sua interfaccia di gestione a pannello unico, automatizza e semplifica i processi manuali, complessi e dispendiosi in termini di tempo associati al backup, al ripristino e alla clonazione di più database e altri carichi di lavoro applicativi.  SnapCenter sfrutta le tecnologie NetApp , tra cui NetApp Snapshots, NetApp SnapMirror, SnapRestore e NetApp FlexClone.  Questa integrazione consente alle organizzazioni IT di scalare la propria infrastruttura di storage, soddisfare impegni SLA sempre più rigorosi e migliorare la produttività degli amministratori in tutta l'azienda.</block>
  <block id="aa7c84b8a1ac7c27cbd3e14740e96214" category="example-title">Requisiti del server SnapCenter</block>
  <block id="4ee08603c9fd8ece4f670310954cdde6" category="paragraph">Nella tabella seguente sono elencati i requisiti minimi per l'installazione di SnapCenter Server e del plug-in su Microsoft Windows Server.</block>
  <block id="05bbb43b3d923283e0b6ffafd088f41f" category="cell">Componenti</block>
  <block id="9b97b7bd5e0a87be7bf218224ada83cf" category="cell">Requisito</block>
  <block id="44e5a606cb3fbfaed79ce8eb853ed886" category="paragraph">Numero minimo di CPU</block>
  <block id="ea54f01387bc5362f6e287ba66d656a8" category="paragraph">Quattro core/vCPU</block>
  <block id="4789f23283b3a61f858b641a1bef19a3" category="paragraph">Memoria</block>
  <block id="99880291d6a6b72b928a1847a6135c88" category="paragraph">Minimo: 8 GB Consigliato: 32 GB</block>
  <block id="96e1506a8b72a455b990ffe403eea2cf" category="paragraph">Spazio di archiviazione</block>
  <block id="39b4c2fc16a74430850f1b767f816bdd" category="paragraph">Spazio minimo per l'installazione: 10 GB Spazio minimo per il repository: 10 GB</block>
  <block id="2e71b3fb71d89f18906d4807a6011e20" category="cell">Sistema operativo supportato</block>
  <block id="00aae0645113cb861020a7a42ded48c2" category="list-text">Windows Server 2012</block>
  <block id="96bc7f42979153694e05a6a2b867772e" category="list-text">Windows Server 2012 R2</block>
  <block id="ed590cb2453f0683b64cb528f78610a2" category="list-text">Windows Server 2016</block>
  <block id="31f8757839909e87266f2b53482c86ef" category="list-text">Windows Server 2019</block>
  <block id="7c01fa88a74580e7e4f62ca6bfe7ee83" category="cell">Pacchetti software</block>
  <block id="aab81d3c2e898a19cf0f270cdb285a21" category="list-text">.NET 4.5.2 o successivo</block>
  <block id="43de0ba571a51d1adc60e6d05ecf8d70" category="list-text">Windows Management Framework (WMF) 4.0 o successivo</block>
  <block id="fd6133b32592ca288e63c1b1257f656d" category="list-text">PowerShell 4.0 o versione successiva</block>
  <block id="627b3c41fe5df988246e05db6908af86" category="inline-link-macro">requisiti di spazio e dimensionamento</block>
  <block id="182f4f46a2b148fe3842ce5e12def358" category="paragraph">Per informazioni dettagliate, fare riferimento a<block ref="bab1d0c00645b2d02bb11c94e55012b0" category="inline-link-macro-rx"></block> .</block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="inline-link">Strumento matrice di interoperabilità NetApp</block>
  <block id="a19fb58a9ea7e8409b13e971960fdbf8" category="paragraph">Per la compatibilità della versione, vedere<block ref="b7322bec4509d45107de6de43ca1f517" category="inline-link-rx"></block> .</block>
  <block id="00324c8ea6b2abc68414748e587e15ec" category="example-title">Layout di archiviazione del database</block>
  <block id="a02dce187534c84aa16d8849406a60eb" category="paragraph">Nella figura seguente vengono illustrate alcune considerazioni per la creazione del layout di archiviazione del database Microsoft SQL Server durante il backup con SnapCenter.</block>
  <block id="fdc770458695fd7759d6b148f5ebca57" category="paragraph"><block ref="fdc770458695fd7759d6b148f5ebca57" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ebfae4b9e090c4988616a73ffc71415e" category="list-text">Posizionare i database con query ad alta intensità di I/O o con dimensioni del database elevate (ad esempio 500 GB o più) su un volume separato per un ripristino più rapido.  Anche questo volume dovrebbe essere sottoposto a backup tramite processi separati.</block>
  <block id="4916b57b0128fd5a0a4300f0a8763292" category="list-text">Consolidare database di piccole e medie dimensioni, meno critici o con minori requisiti di I/O, in un unico volume.  Il backup di un numero elevato di database residenti nello stesso volume comporta un minor numero di copie Snapshot da gestire.  È inoltre consigliabile consolidare le istanze di Microsoft SQL Server per utilizzare gli stessi volumi per controllare il numero di copie snapshot di backup eseguite.</block>
  <block id="8db6b23eddd61aa572ca93a39703d4a8" category="list-text">Creare LUN separati per archiviare file completi di testo e file correlati allo streaming di file.</block>
  <block id="cb11fd215e0c541cb65535e582b9b273" category="list-text">Assegnare LUN separati per ogni host per archiviare i backup del log di Microsoft SQL Server.</block>
  <block id="48b8325fd70d83c2d4e99987e23b07ef" category="list-text">I database di sistema che memorizzano la configurazione dei metadati del server di database e i dettagli dei processi non vengono aggiornati frequentemente.  Posizionare i database di sistema/tempdb in unità o LUN separate.  Non posizionare i database di sistema nello stesso volume dei database utente.  I database utente hanno una politica di backup diversa e la frequenza del backup dei database utente non è la stessa dei database di sistema.</block>
  <block id="1be01a12dc77b3099b16d258c12db3f9" category="list-text">Per la configurazione del gruppo di disponibilità di Microsoft SQL Server, posizionare i file di dati e di registro per le repliche in una struttura di cartelle identica su tutti i nodi.</block>
  <block id="a586cfc38b79b6539a9723b4d2f5af66" category="paragraph">Oltre al vantaggio in termini di prestazioni derivante dalla suddivisione del layout del database utente in volumi diversi, il database influisce notevolmente anche sul tempo necessario per il backup e il ripristino.  Disporre di volumi separati per i file di dati e di registro migliora significativamente i tempi di ripristino rispetto a un volume che ospita più file di dati utente.  Allo stesso modo, i database utente con applicazioni ad alta intensità di I/O sono soggetti ad un aumento del tempo di backup.  Una spiegazione più dettagliata sulle procedure di backup e ripristino è fornita più avanti in questo documento.</block>
  <block id="ded063089a7be685811c0ae13b02874f" category="admonition">A partire da SQL Server 2012 (11.x), i database di sistema (Master, Model, MSDB e TempDB) e i database utente del motore di database possono essere installati con un file server SMB come opzione di archiviazione.  Ciò vale sia per le installazioni autonome di SQL Server sia per quelle di cluster di failover di SQL Server.  Ciò consente di utilizzare FSx ONTAP con tutte le sue funzionalità di gestione dei dati e delle prestazioni, tra cui capacità del volume, scalabilità delle prestazioni e funzionalità di protezione dei dati, di cui SQL Server può trarre vantaggio.  Le condivisioni utilizzate dai server applicativi devono essere configurate con la proprietà di disponibilità continua impostata e il volume deve essere creato con lo stile di sicurezza NTFS.  NetApp Snapcenter non può essere utilizzato con database posizionati su condivisioni SMB da FSx ONTAP.</block>
  <block id="9e45010900186b3cbbe04f954a6f3562" category="admonition">Per i database di SQL Server che non utilizzano SnapCenter per eseguire i backup, Microsoft consiglia di posizionare i file di dati e di registro su unità separate.  Per le applicazioni che aggiornano e richiedono dati contemporaneamente, il file di registro richiede molta scrittura, mentre il file di dati (a seconda dell'applicazione) richiede molta lettura/scrittura.  Per il recupero dei dati non è necessario il file di registro.  Pertanto, le richieste di dati possono essere soddisfatte dal file di dati memorizzato sulla propria unità.</block>
  <block id="41a264a984b034248073a80093913e60" category="admonition">Quando si crea un nuovo database, Microsoft consiglia di specificare unità separate per i dati e i registri.  Per spostare i file dopo la creazione del database, è necessario disattivare il database.  Per ulteriori consigli di Microsoft, vedere Posizionare i file di dati e di registro su unità separate.</block>
  <block id="f4ea2029dd0e694cde33838315883930" category="example-title">Installazione e configurazione per SnapCenter</block>
  <block id="1155d165aa176b6275b67036497cd8e6" category="inline-link">Installazione del plug-in SnapCenter per Microsoft SQL Server</block>
  <block id="067f687182a68fccec4a3840e67fc889" category="paragraph">Segui il<block ref="4144149cc24a91f915be2d3b14f23c22" category="inline-link-rx"></block> E<block ref="7e24f6ba39e2c63512c07f20cb1a71c0" category="inline-link-rx"></block> per installare e configurare SnapCenter.</block>
  <block id="3ab2ad2898088a813669db2948590562" category="paragraph">Dopo aver installato SnapCenter, completare i seguenti passaggi per configurarlo.</block>
  <block id="dd0c654d5a8ede80984b9526335bddc9" category="list-text">Per impostare le credenziali, seleziona *Impostazioni* &gt; *Nuovo* e inserisci le informazioni sulle credenziali.</block>
  <block id="72fbc6e5252af995615620a70fc2f714" category="paragraph"><block ref="72fbc6e5252af995615620a70fc2f714" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f68e2f9e3be05e4ced40099aec5493d4" category="list-text">Aggiungere il sistema di archiviazione selezionando Sistemi di archiviazione &gt; Nuovo e fornire le informazioni di archiviazione FSx ONTAP appropriate.</block>
  <block id="8c20ebf197669dd9077f7b860fca81da" category="paragraph"><block ref="8c20ebf197669dd9077f7b860fca81da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c0e0b904d3c7826b806c48118543142c" category="list-text">Aggiungere gli host selezionando *Host* &gt; *Aggiungi*, quindi fornire le informazioni sull'host.  SnapCenter installa automaticamente il plug-in per Windows e SQL Server. Questo processo potrebbe richiedere del tempo.</block>
  <block id="d3094f6fccd0bceb835738c86127b158" category="paragraph"><block ref="d3094f6fccd0bceb835738c86127b158" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23dd2805cf2d7b26334d0678ab4e99b4" category="paragraph">Dopo aver installato tutti i plug-in, è necessario configurare la directory di registro.  Questa è la posizione in cui risiede il backup del registro delle transazioni.  È possibile configurare la directory dei registri selezionando l'host e quindi selezionando "Configura directory dei registri".</block>
  <block id="5c5fb88ff793d01c8b1a283f1ee88749" category="admonition">SnapCenter utilizza una directory di registro host per archiviare i dati di backup del registro delle transazioni.  Ciò avviene a livello di host e di istanza.  Ogni host SQL Server utilizzato da SnapCenter deve disporre di una directory di log host configurata per eseguire backup di log.  SnapCenter dispone di un repository di database, pertanto i metadati relativi alle operazioni di backup, ripristino o clonazione vengono archiviati in un repository di database centrale.</block>
  <block id="0fc057cb39ba1a444dbc365c0161d31f" category="paragraph">La dimensione della directory del registro host viene calcolata come segue:</block>
  <block id="e067558831f8381f0970051292e0a02a" category="paragraph">Dimensione della directory del registro host = ((dimensione del database di sistema + (dimensione massima del DB LDF × frequenza di modifica del registro giornaliero %)) × (conservazione della copia snapshot) ÷ (1 – spazio di overhead LUN %)</block>
  <block id="1b5bc043867e6da78577571c1070e56a" category="paragraph">La formula per il dimensionamento della directory del registro host presuppone quanto segue:</block>
  <block id="fa7afec3a90f55ad9aea3b76f336302f" category="list-text">Un backup del database di sistema che non include il database tempdb</block>
  <block id="f550013c290c4a21af7974f7440d758a" category="list-text">Uno spazio di overhead LUN del 10%. Posizionare la directory del registro host su un volume o LUN dedicato.  La quantità di dati nella directory del registro host dipende dalla dimensione dei backup e dal numero di giorni per cui i backup vengono conservati.</block>
  <block id="4a49b3d7ae0cb7741886ac9a4bb593cc" category="paragraph"><block ref="4a49b3d7ae0cb7741886ac9a4bb593cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd9dfb7fc6f502e70f86a8c1f2d66aa1" category="paragraph">Se i LUN sono già stati predisposti, è possibile selezionare il punto di montaggio che rappresenti la directory del registro host.</block>
  <block id="9ce41ca9b58cd2f37beee344ca0d8d3d" category="paragraph"><block ref="9ce41ca9b58cd2f37beee344ca0d8d3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9a708f2af7ec6f7c7ae489cca832c811" category="paragraph">Ora sei pronto per eseguire operazioni di backup, ripristino e clonazione per SQL Server.</block>
  <block id="7bfeafaf85908b711b618c069c66e99c" category="example-title">Backup del database con SnapCenter</block>
  <block id="fc197cb26aec21d091eb6791c0d7cbff" category="paragraph">Dopo aver posizionato il database e i file di registro sui LUN FSx ONTAP , è possibile utilizzare SnapCenter per eseguire il backup dei database.  Per creare un backup completo vengono utilizzati i seguenti processi.</block>
  <block id="f52f437d3282493fd1855bba366c482a" category="list-text">In termini di SnapCenter , RPO può essere identificato come la frequenza di backup, ad esempio la frequenza con cui si desidera pianificare il backup in modo da ridurre la perdita di dati fino a pochi minuti.  SnapCenter consente di pianificare i backup con una frequenza massima di cinque minuti.  Tuttavia, potrebbero verificarsi alcuni casi in cui un backup potrebbe non essere completato entro cinque minuti durante i periodi di picco delle transazioni o quando la velocità di modifica dei dati è maggiore nel tempo specificato.  Una buona pratica è quella di pianificare backup frequenti del registro delle transazioni anziché backup completi.</block>
  <block id="7b99ea666dfc26516833c088400741e6" category="list-text">Esistono numerosi approcci per gestire RPO e RTO.  Un'alternativa a questo approccio di backup è quella di avere policy di backup separate per dati e registri con intervalli diversi.  Ad esempio, da SnapCenter, pianifica i backup dei log a intervalli di 15 minuti e i backup dei dati a intervalli di 6 ore.</block>
  <block id="14b0febccc904523871b9498c72ab705" category="list-text">Utilizzare un gruppo di risorse per una configurazione di backup per l'ottimizzazione degli snapshot e il numero di processi da gestire.</block>
  <block id="45be64dc5372d4c03684e301633c794c" category="list-text">Selezionare *Risorse*, quindi selezionare *Microsoft SQL Server* nel menu a discesa in alto a sinistra.  Seleziona *Aggiorna risorse*.</block>
  <block id="3759f5820f94130af2af9c26b6206ccd" category="paragraph"><block ref="3759f5820f94130af2af9c26b6206ccd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="92a02c3e922aecfbb22227bc7a4f73e8" category="list-text">Selezionare il database di cui eseguire il backup, quindi selezionare *Avanti* e (**) per aggiungere il criterio se non ne è stato creato uno.  Seguire la *Nuova politica di backup di SQL Server* per creare una nuova politica.</block>
  <block id="e83a19b8756179126d10e0db8cccf50f" category="paragraph"><block ref="e83a19b8756179126d10e0db8cccf50f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89f2e11b6c9317605c01622834d4853d" category="list-text">Se necessario, selezionare il server di verifica.  Questo server è il server su cui SnapCenter esegue DBCC CHECKDB dopo la creazione di un backup completo.  Fare clic su *Avanti* per la notifica, quindi selezionare *Riepilogo* per rivedere.  Dopo aver verificato, fare clic su *Fine*.</block>
  <block id="8a6ec4fc9aaca6d859fcc918fbf4666c" category="paragraph"><block ref="8a6ec4fc9aaca6d859fcc918fbf4666c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="919295932fd1084fb39c4a1be23b37ed" category="list-text">Fare clic su *Esegui backup ora* per testare il backup.  Nella finestra pop-up, seleziona *Backup*.</block>
  <block id="4fdbd7cb3dda43c8f112fe494ea07e02" category="paragraph"><block ref="4fdbd7cb3dda43c8f112fe494ea07e02" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c738a74e68034a98f4a38a1b41ef2d4" category="list-text">Selezionare *Monitoraggio* per verificare che il backup sia stato completato.</block>
  <block id="b6ed04e6bbbfb4b7b238fe5b3761150d" category="paragraph"><block ref="b6ed04e6bbbfb4b7b238fe5b3761150d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67459542a38abe56e00d4512bb475f05" category="list-text">Eseguire il backup del registro delle transazioni da SnapCenter in modo che durante il processo di ripristino, SnapCenter possa leggere tutti i file di backup e ripristinarli automaticamente in sequenza.</block>
  <block id="54d8d459dfb725a307f3bb54495de3e3" category="list-text">Se per il backup vengono utilizzati prodotti di terze parti, selezionare Copia backup in SnapCenter per evitare problemi di sequenza di log e testare la funzionalità di ripristino prima di passare alla produzione.</block>
  <block id="83b7215bcd7cc73d11f34b95b4026718" category="example-title">Ripristina il database con SnapCenter</block>
  <block id="7172cc34c1510c3891870c7c009c94e1" category="paragraph">Uno dei principali vantaggi dell'utilizzo di FSx ONTAP con SQL Server su EC2 è la possibilità di eseguire ripristini rapidi e granulari a ogni livello del database.</block>
  <block id="5afcacb3783eeead2b5317d1c455b3bc" category="paragraph">Completare i seguenti passaggi per ripristinare un singolo database a un punto specifico nel tempo o fino al minuto con SnapCenter.</block>
  <block id="a028f8b44f91b1338df98ed3237d093a" category="list-text">Selezionare Risorse e quindi selezionare il database che si desidera ripristinare.</block>
  <block id="2aaf91b17a6f6726032133885004282f" category="paragraph"><block ref="2aaf91b17a6f6726032133885004282f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb395b310e199ca7ef6b36360302bc50" category="list-text">Selezionare il nome del backup da cui ripristinare il database, quindi selezionare Ripristina.</block>
  <block id="e99d25ac3998e8701f51a1990c8d8785" category="list-text">Seguire le finestre pop-up *Ripristina* per ripristinare il database.</block>
  <block id="8bdb6d6fe719d2506b9b5f86bda88b43" category="list-text">Selezionare *Monitoraggio* per verificare che il processo di ripristino sia riuscito.</block>
  <block id="ab1acae42a89132d0dc0e18db99db938" category="paragraph"><block ref="ab1acae42a89132d0dc0e18db99db938" category="inline-image-macro-rx" type="image"></block></block>
  <block id="459c0a4ca065bbbedc6304d4c6903cc5" category="example-title">Considerazioni per un'istanza con un gran numero di database di piccole e grandi dimensioni</block>
  <block id="0be8a2d7e2996a1641824fa4250d2fd3" category="paragraph">SnapCenter può eseguire il backup di un gran numero di database di dimensioni considerevoli in un'istanza o in un gruppo di istanze all'interno di un gruppo di risorse.  La dimensione di un database non è il fattore principale che determina il tempo di backup.  La durata di un backup può variare a seconda del numero di LUN per volume, del carico su Microsoft SQL Server, del numero totale di database per istanza e, in particolare, della larghezza di banda e dell'utilizzo di I/O.  Durante la configurazione della policy per il backup dei database da un'istanza o da un gruppo di risorse, NetApp consiglia di limitare il numero massimo di database sottoposti a backup per copia Snapshot a 100 per host.  Assicurarsi che il numero totale di copie Snapshot non superi il limite di 1.023 copie.</block>
  <block id="33f3c567c61942e461392756abce64dc" category="paragraph">NetApp consiglia inoltre di limitare i processi di backup eseguiti in parallelo raggruppando il numero di database anziché creare più processi per ciascun database o istanza.  Per prestazioni ottimali della durata del backup, ridurre il numero di processi di backup a un numero che consenta di eseguire il backup di circa 100 database o meno alla volta.</block>
  <block id="ea2e6af969539b040884e9a2ec1fcb49" category="paragraph">Come accennato in precedenza, l'utilizzo dell'I/O è un fattore importante nel processo di backup.  Il processo di backup deve attendere la sospensione finché tutte le operazioni di I/O su un database non siano state completate.  I database con operazioni di I/O molto intensive dovrebbero essere rinviati a un altro momento di backup o isolati da altri processi di backup per evitare di influire su altre risorse all'interno dello stesso gruppo di risorse di cui si desidera eseguire il backup.</block>
  <block id="e5ad8f936997e1328b1b169bf5c6cc8b" category="paragraph">Per un ambiente con sei host Microsoft SQL Server che ospitano 200 database per istanza, presupponendo quattro LUN per host e un LUN per volume creato, impostare la policy di backup completo con il numero massimo di database sottoposti a backup per copia Snapshot su 100.  Duecento database su ogni istanza sono disposti come 200 file di dati distribuiti equamente su due LUN e 200 file di registro sono distribuiti equamente su due LUN, ovvero 100 file per LUN per volume.</block>
  <block id="7804dbf4b7a37ec699db9a31f21bbea7" category="paragraph">Pianificare tre processi di backup creando tre gruppi di risorse, ciascuno dei quali raggruppa due istanze che includono un totale di 400 database.</block>
  <block id="e2ba702320599667af2b18f0fad307e0" category="paragraph">L'esecuzione di tutti e tre i processi di backup in parallelo consente di eseguire il backup di 1.200 database contemporaneamente.  A seconda del carico sul server e dell'utilizzo di I/O, l'ora di inizio e di fine di ogni istanza può variare.  In questo caso vengono create in totale 24 copie Snapshot.</block>
  <block id="2d0d5c636161f9ca31c8ffbfa5ee5d7c" category="paragraph">Oltre al backup completo, NetApp consiglia di configurare un backup del registro delle transazioni per i database critici.  Assicurarsi che la proprietà del database sia impostata sul modello di recupero completo.</block>
  <block id="aac1148375449745ddbbe1709a2375f5" category="list-text">Non includere il database tempdb in un backup perché i dati in esso contenuti sono temporanei.  Posizionare tempdb su una LUN o una condivisione SMB che si trova in un volume del sistema di archiviazione in cui non verranno create copie Snapshot.</block>
  <block id="16c5de1581b82a1f8657a3a98ac8fd34" category="list-text">Un'istanza di Microsoft SQL Server con un'applicazione ad alto utilizzo di I/O dovrebbe essere isolata in un processo di backup diverso per ridurre il tempo di backup complessivo per altre risorse.</block>
  <block id="a9a558ac49f24a2b078812205f07179c" category="list-text">Limitare il set di database da sottoporre a backup simultaneo a circa 100 e scaglionare il set rimanente di backup dei database per evitare un processo simultaneo.</block>
  <block id="68086c26b8c1644dfe6ea7d6fb859641" category="list-text">Utilizzare il nome dell'istanza di Microsoft SQL Server nel gruppo di risorse anziché più database, perché ogni volta che vengono creati nuovi database nell'istanza di Microsoft SQL Server, SnapCenter prende automaticamente in considerazione un nuovo database per il backup.</block>
  <block id="5e5d80c17369e70061349fffb43b0aa8" category="list-text">Se si modifica la configurazione del database, ad esempio modificando il modello di ripristino del database in un modello di ripristino completo, eseguire immediatamente un backup per consentire operazioni di ripristino aggiornate al minuto.</block>
  <block id="3dce7613a0d76dcf6fcb8e1daf396bbb" category="list-text">SnapCenter non può ripristinare i backup del registro delle transazioni creati al di fuori di SnapCenter.</block>
  <block id="0007de7aba408b88984eb8eb18044303" category="list-text">Quando si clonano volumi FlexVol , assicurarsi di avere spazio sufficiente per i metadati del clone.</block>
  <block id="9416a94214ef699335d78087cd9f12c6" category="list-text">Quando si ripristinano i database, assicurarsi che sul volume sia disponibile spazio sufficiente.</block>
  <block id="86e3f69ee9647210c14858984e2649ef" category="list-text">Creare una policy separata per gestire ed eseguire il backup dei database di sistema almeno una volta alla settimana.</block>
  <block id="330337562cd623f5deb5908d4e8af736" category="example-title">Clonazione di database con SnapCenter</block>
  <block id="0a6bfc2082e52dc96430a6b7c0dfc7e7" category="paragraph">Per ripristinare un database in un'altra posizione in un ambiente di sviluppo o di test o per crearne una copia a scopo di analisi aziendale, la best practice NetApp consiste nello sfruttare la metodologia di clonazione per creare una copia del database nella stessa istanza o in un'istanza alternativa.</block>
  <block id="1784d101568269c7068d4bd6769d7c47" category="paragraph">La clonazione di database da 500 GB su un disco iSCSI ospitato in un ambiente FSx ONTAP richiede in genere meno di cinque minuti.  Una volta completata la clonazione, l'utente può eseguire tutte le operazioni di lettura/scrittura richieste sul database clonato.  La maggior parte del tempo viene impiegata per la scansione del disco (diskpart).  La procedura di clonazione NetApp richiede in genere meno di 2 minuti, indipendentemente dalle dimensioni dei database.</block>
  <block id="886ef20e3049a00bc0d9a1c734bb90da" category="paragraph">La clonazione di un database può essere eseguita con un duplice metodo: è possibile creare un clone dall'ultimo backup oppure utilizzare la gestione del ciclo di vita del clone, tramite la quale l'ultima copia può essere resa disponibile sull'istanza secondaria.</block>
  <block id="870999fc556eadefd7740857b96209c3" category="paragraph">SnapCenter consente di montare la copia clone sul disco richiesto per mantenere il formato della struttura delle cartelle sull'istanza secondaria e continuare a pianificare i processi di backup.</block>
  <block id="b2face8e1d4561b0ed5b594bfc4c0063" category="example-title">Clona i database con il nuovo nome del database nella stessa istanza</block>
  <block id="4a3135e25926365f40a59fd88af69a44" category="paragraph">Per clonare i database con il nuovo nome di database nella stessa istanza di SQL Server in esecuzione su EC2, è possibile utilizzare i seguenti passaggi:</block>
  <block id="4655b3c9fecfc4d22a59068929be2bec" category="list-text">Selezionare Risorse e quindi il database che si desidera clonare.</block>
  <block id="944b75c61851b0ebc427a8aedc83d6f3" category="list-text">Seleziona il nome del backup che desideri clonare e seleziona Clona.</block>
  <block id="83d2194c2b06657769054af057f16b0a" category="list-text">Per completare il processo di clonazione, seguire le istruzioni visualizzate nella finestra di backup.</block>
  <block id="8fb624c33e03c9d016909a11c669125d" category="list-text">Selezionare Monitor per assicurarsi che la clonazione sia stata completata.</block>
  <block id="0b075fd84c4c4a47346b99d43f9260be" category="example-title">Clonare i database nella nuova istanza di SQL Server in esecuzione su EC2</block>
  <block id="9451e65c3b1fc3fc6cf89a3fc9cf3cfd" category="paragraph">Per clonare i database nella nuova istanza del server SQL in esecuzione su EC2, si utilizzano i seguenti passaggi:</block>
  <block id="479cb4cd4ee76801e360aa03ddc20a3a" category="list-text">Creare un nuovo SQL Server su EC2 nella stessa VPC.</block>
  <block id="e656412cc3adcbff91ebfaefcd504de2" category="list-text">Abilitare il protocollo iSCSI e MPIO, quindi configurare la connessione iSCSI a FSx ONTAP seguendo i passaggi 3 e 4 nella sezione "Creare volumi e LUN per SQL Server".</block>
  <block id="bebd076915c723b002ac43d0bb52ea26" category="list-text">Aggiungere un nuovo SQL Server su EC2 in SnapCenter seguendo il passaggio 3 nella sezione "Installazione e configurazione per SnapCenter".</block>
  <block id="e7130318e065eddd45ec86565b727731" category="list-text">Selezionare Risorsa &gt; Visualizza istanza, quindi selezionare Aggiorna risorsa.</block>
  <block id="8be42b1e845c00bcb04c11269072f895" category="list-text">Selezionare Risorse, quindi il database che si desidera clonare.</block>
  <block id="459801927d3c0bd5ddec9c1513f213ec" category="list-text">Seleziona il nome del backup che desideri clonare, quindi seleziona Clona.</block>
  <block id="367de8f899b43a5b1ef7107f71a5737a" category="paragraph"><block ref="367de8f899b43a5b1ef7107f71a5737a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45d50db35e68c1259b414779e24fdbf5" category="list-text">Seguire le istruzioni per la clonazione dal backup specificando la nuova istanza di SQL Server su EC2 e il nome dell'istanza per completare il processo di clonazione.</block>
  <block id="2474ed795f10bd4a218b466a66f830c8" category="paragraph"><block ref="2474ed795f10bd4a218b466a66f830c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="785e5e204bcb101e73976a8c3ad22887" category="paragraph">Per saperne di più su questo processo, guarda il seguente video:</block>
  <block id="20606e28a0d567be1dabd5cf50a2dc3b" category="section-title">Appendici</block>
  <block id="16dfbb688028526582ec31ab802b9589" category="example-title">Appendice A: file YAML da utilizzare nel modello di formazione delle nuvole</block>
  <block id="4c76ae47de51751cc57a4033d14f2f2a" category="paragraph">Il seguente file .yaml può essere utilizzato con il modello Cloud Formation nella console AWS.</block>
  <block id="af5a37a09e4cee2968d7fd03f421a0a2" category="inline-link"><block ref="af5a37a09e4cee2968d7fd03f421a0a2" category="inline-link-rx"></block></block>
  <block id="681814eb62cc26ee1c660bd58a9ce6eb" category="list-text"><block ref="681814eb62cc26ee1c660bd58a9ce6eb" category="inline-link-rx"></block></block>
  <block id="f6d8279768d195862ae69a3df8dd51ab" category="inline-link">questo collegamento GitHub</block>
  <block id="275e63e9a49f296c063604ee4db5723e" category="paragraph">Per automatizzare la creazione di ISCSI LUN e l'installazione NetApp SnapCenter con PowerShell, clonare il repository da<block ref="a4dae7a3e0d905f7a66835dd216b7b06" category="inline-link-rx"></block> .</block>
  <block id="00867e5f5ae22280c11a2626b65e657b" category="example-title">Appendice B: script di Powershell per il provisioning di volumi e LUN</block>
  <block id="0826ee2b94a579e02e80bfcdf26c5648" category="paragraph">Lo script seguente viene utilizzato per effettuare il provisioning di volumi e LUN e anche per configurare iSCSI in base alle istruzioni fornite sopra.  Sono disponibili due script PowerShell:</block>
  <block id="81e24f41fbaff249c9819985065173e3" category="list-text"><block ref="2a9a99327bbfb47d37ee76307e959506" prefix="" category="inline-code"></block></block>
  <block id="2ca8201f2a50e4aec0e5ba21f6afed4d" category="list-text"><block ref="d78c8f4fe63dbe3ffd666bbbaf054cd7" prefix="" category="inline-code"></block></block>
  <block id="6385631c0b330c166b540183cec5af78" category="paragraph">Esegui il file<block ref="d2dd03515102971189549a37cb42eb14" prefix=" " category="inline-code"></block> il primo e il secondo script vengono eseguiti automaticamente dopo il riavvio del server.  Questi script di PowerShell possono essere rimossi dopo essere stati eseguiti grazie all'accesso tramite credenziali all'SVM.</block>
  <block id="d82c21a48349085e4fd93fb6712e3789" category="inline-link"><block ref="d82c21a48349085e4fd93fb6712e3789" category="inline-link-rx"></block></block>
  <block id="c745303ee8000be162517c239783af70" category="paragraph"><block ref="c745303ee8000be162517c239783af70" category="inline-link-rx"></block></block>
  <block id="b264bfe9bfd0fedb20c7a271df2d9bfc" category="list-text">Introduzione a FSx ONTAP</block>
  <block id="90572737558e59a2ecdd4618af07d6f3" category="inline-link"><block ref="90572737558e59a2ecdd4618af07d6f3" category="inline-link-rx"></block></block>
  <block id="7545caf3d97477d3c569d56c512074fa" category="paragraph"><block ref="7545caf3d97477d3c569d56c512074fa" category="inline-link-rx"></block></block>
  <block id="ad65cae8cf2bbd15ac77769974a440ce" category="list-text">Panoramica dell'interfaccia SnapCenter</block>
  <block id="e91a1947a841fb6512ed2745315694b6" category="inline-link"><block ref="b69fb4215650a2dac7f11a4db50be2c2" category="inline-link-rx"></block></block>
  <block id="037a7b92d0da86c6bb48d74248e1660b" category="paragraph"><block ref="8ec527ff297932423d30e5ba4a0355fe" category="inline-link-rx"></block></block>
  <block id="1bdf7559e69b81c007496a063e71bca0" category="list-text">Tour delle opzioni del riquadro di navigazione SnapCenter</block>
  <block id="6d5097a2c320359a8d212d07ea067dac" category="inline-link"><block ref="6d5097a2c320359a8d212d07ea067dac" category="inline-link-rx"></block></block>
  <block id="e0ae39eeb7c7d78d56a1292229d1277a" category="paragraph"><block ref="e0ae39eeb7c7d78d56a1292229d1277a" category="inline-link-rx"></block></block>
  <block id="d29a9430434c2654cce06036a4a478b2" category="list-text">Installazione del plug-in SnapCenter 4.0 per SQL Server</block>
  <block id="76831c1dfcb22a34eed484834f815799" category="inline-link"><block ref="76831c1dfcb22a34eed484834f815799" category="inline-link-rx"></block></block>
  <block id="1ee41cbe7eae46381d37cbc6c3e00c53" category="paragraph"><block ref="1ee41cbe7eae46381d37cbc6c3e00c53" category="inline-link-rx"></block></block>
  <block id="f781a682aea107fb2cdda3a0c1fd3ac5" category="list-text">Come eseguire il backup e il ripristino dei database utilizzando SnapCenter con il plug-in SQL Server</block>
  <block id="35e821b0f036927360188d6b482813cd" category="inline-link"><block ref="35e821b0f036927360188d6b482813cd" category="inline-link-rx"></block></block>
  <block id="1555fac9dc4b20a7c4e81b2c2600f9e9" category="paragraph"><block ref="1555fac9dc4b20a7c4e81b2c2600f9e9" category="inline-link-rx"></block></block>
  <block id="c8e300ff66d94fe7668ff8d5d5e7f1c3" category="list-text">Come clonare un database utilizzando SnapCenter con il plug-in SQL Server</block>
  <block id="13ef7741337f79e69a4de98c210bf657" category="inline-link"><block ref="13ef7741337f79e69a4de98c210bf657" category="inline-link-rx"></block></block>
  <block id="6b91e7df9b7d266ccbf54c97ce1a1a47" category="paragraph"><block ref="6b91e7df9b7d266ccbf54c97ce1a1a47" category="inline-link-rx"></block></block>
  <block id="4db58285a0e634acd6843c40f7a6f4e0" category="paragraph">Per saperne di più sulle informazioni descritte nel presente documento, fare riferimento ai seguenti link del sito web:</block>
  <block id="d53a72004974ee8431ee292856c0bba3" category="list-text">Architetture di soluzioni che utilizzano Azure NetApp Files</block>
  <block id="653ba0610595f0695c3ceb2c59afed59" category="inline-link"><block ref="653ba0610595f0695c3ceb2c59afed59" category="inline-link-rx"></block></block>
  <block id="d5ec9321fb49816034de6b296ef6baa2" category="paragraph"><block ref="d5ec9321fb49816034de6b296ef6baa2" category="inline-link-rx"></block></block>
  <block id="ba110408cece764b57b56f1129b3ba2e" category="list-text">Vantaggi dell'utilizzo di Azure NetApp Files per la distribuzione di SQL Server</block>
  <block id="62b5dbc436fc2540c46476bd8e484c11" category="inline-link"><block ref="62b5dbc436fc2540c46476bd8e484c11" category="inline-link-rx"></block></block>
  <block id="44594562b4f528fe8d864bd3f48ddff6" category="paragraph"><block ref="44594562b4f528fe8d864bd3f48ddff6" category="inline-link-rx"></block></block>
  <block id="75b7d47e2aa19968e092ab7ddb108a3f" category="summary">Che si punti a un cloud all-cloud o ibrido con database estesi, Azure NetApp Files offre eccellenti opzioni per distribuire e gestire i carichi di lavoro del database, riducendo al contempo il costo totale di proprietà (TCO) rendendo i requisiti dei dati uniformi al livello applicativo.</block>
  <block id="6f8b794f3246b0c1e1780bb4d4d5dc53" category="doc">Conclusione</block>
  <block id="d8d2e6021f496c4e4a31a3d5d51c0a97" category="paragraph">Questo documento contiene raccomandazioni per la pianificazione, la progettazione, l'ottimizzazione e il ridimensionamento delle distribuzioni di Microsoft SQL Server con Azure NetApp Files, che possono variare notevolmente tra le implementazioni.  La soluzione giusta dipende sia dai dettagli tecnici dell'implementazione sia dai requisiti aziendali che guidano il progetto.</block>
  <block id="56925354251a536c23de1174d3001595" category="section-title">Da asporto</block>
  <block id="033e6e43f2148e187e072dc7e6585802" category="paragraph">I punti chiave di questo documento includono:</block>
  <block id="b2b363e230905b04f6e9c7263aa93f42" category="list-text">Ora è possibile utilizzare Azure NetApp Files per ospitare il database e il witness di condivisione file per il cluster SQL Server.</block>
  <block id="4d6ec76303888bc681d543d1f4593c55" category="list-text">È possibile aumentare i tempi di risposta delle applicazioni e garantire una disponibilità del 99,9999% per consentire l'accesso ai dati di SQL Server quando e dove necessario.</block>
  <block id="408e4b7fbec4ba85e097b9393d2b27a7" category="list-text">È possibile semplificare la complessità complessiva della distribuzione di SQL Server e la gestione continua, ad esempio lo striping RAID, con un ridimensionamento semplice e immediato.</block>
  <block id="41642b38214243168d907d92759dde36" category="list-text">Puoi contare su funzionalità operative intelligenti che ti aiutano a distribuire database SQL Server in pochi minuti e ad accelerare i cicli di sviluppo.</block>
  <block id="61a32d891a5f7bca599a014bc56eec61" category="list-text">Se la destinazione è Azure Cloud, Azure NetApp Files è la soluzione di archiviazione ideale per una distribuzione ottimizzata.</block>
  <block id="64899c745691f41e5b1dc01d3a4487d2" category="summary">In questa sezione vengono descritti i diversi aspetti da considerare quando Azure NetApp Files con SQL Server nel cloud.</block>
  <block id="bb4695a70b92668f0a7927d04580db60" category="doc">Fattori da considerare</block>
  <block id="4dd91c7652639dacea041fe6033e2627" category="section-title">Prestazioni della VM</block>
  <block id="e6ac657ee6eac68b739c5cc437863922" category="inline-link">memoria ottimizzata</block>
  <block id="68e5d4a238cdfe033afa141123484499" category="paragraph">Per ottenere prestazioni ottimali da un database relazionale in un cloud pubblico è importante selezionare la dimensione corretta della VM.  Microsoft consiglia di continuare a utilizzare le stesse opzioni di ottimizzazione delle prestazioni del database applicabili a SQL Server negli ambienti server locali.  Utilizzo<block ref="187f54af8632f4f6696d6052e8b74aec" category="inline-link-rx"></block> Dimensioni delle VM per ottenere le migliori prestazioni dai carichi di lavoro di SQL Server.  Raccogliere i dati sulle prestazioni delle distribuzioni esistenti per identificare l'utilizzo di RAM e CPU durante la scelta delle istanze giuste.  La maggior parte delle distribuzioni sceglie tra le serie D, E o M.</block>
  <block id="fcbd19b726fdd6160dfe2ab43f285a55" category="paragraph">*Note:*</block>
  <block id="8b2db846b8ed65b2919d93a68b819a43" category="list-text">Per ottenere le migliori prestazioni dai carichi di lavoro di SQL Server, utilizzare dimensioni di VM ottimizzate per la memoria.</block>
  <block id="32a3b4d7b7e6cf1ecde48636119e0288" category="list-text">NetApp e Microsoft consigliano di identificare i requisiti di prestazioni di storage prima di scegliere il tipo di istanza con il rapporto memoria-vCore appropriato.  Ciò aiuta anche a selezionare un tipo di istanza inferiore con la larghezza di banda di rete corretta per superare i limiti di throughput di archiviazione della VM.</block>
  <block id="0abdff1d9e33eca61c14ccafe8012cd5" category="section-title">Ridondanza della VM</block>
  <block id="9fecd525b2d9ad39ac38bbfc4d05ee17" category="inline-link">set di disponibilità</block>
  <block id="26075dbb6cfad683e0d9bd0d29c570b8" category="inline-link">zone di disponibilità</block>
  <block id="e936e004eab3eccfc1e7f46a3187dfd1" category="paragraph">Per aumentare la ridondanza e l'elevata disponibilità, le VM di SQL Server dovrebbero trovarsi nella stessa<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> o diverso<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block> .  Quando si creano VM di Azure, è necessario scegliere tra la configurazione di set di disponibilità e quella di zone di disponibilità; una VM di Azure non può partecipare a entrambe.</block>
  <block id="05807e454c19f244770adae059b3c330" category="section-title">Alta disponibilità</block>
  <block id="94eeeae1e60f97a446e8c4f69d6d6f43" category="paragraph">Per un'elevata disponibilità, la soluzione migliore è configurare SQL Server AOAG o Always On Failover Cluster Instance (FCI).  Per AOAG, ciò comporta più istanze di SQL Server su macchine virtuali di Azure in una rete virtuale.  Se è richiesta un'elevata disponibilità a livello di database, valutare la configurazione dei gruppi di disponibilità di SQL Server.</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="section-title">Configurazione di archiviazione</block>
  <block id="fa32aac4116ce1980c311f004157a133" category="paragraph">Microsoft SQL Server può essere distribuito con una condivisione file SMB come opzione di archiviazione.  A partire da SQL Server 2012, i database di sistema (master, model, msdb o tempdb) e i database utente possono essere installati con il file server Server Message Block (SMB) come opzione di archiviazione.  Ciò vale sia per SQL Server standalone sia per SQL Server FCI.</block>
  <block id="250548ef00796e6a203215b1d550bb0d" category="admonition">L'archiviazione di condivisione file per i database SQL Server deve supportare proprietà disponibili in modo continuo.  Ciò garantisce un accesso ininterrotto ai dati di condivisione dei file.</block>
  <block id="45a6af9c92529e3da9ccdbeae9d692ac" category="paragraph">Azure NetApp Files offre un archivio file ad alte prestazioni per soddisfare qualsiasi carico di lavoro impegnativo e riduce il TCO di SQL Server rispetto alle soluzioni di archiviazione a blocchi.  Con l'archiviazione a blocchi, le VM hanno imposto limiti su I/O e larghezza di banda per le operazioni su disco; ad Azure NetApp Files vengono applicati solo limiti di larghezza di banda di rete.  In altre parole, non vengono applicati limiti di I/O a livello di VM ad Azure NetApp Files.  Senza questi limiti di I/O, SQL Server in esecuzione su macchine virtuali più piccole connesse ad Azure NetApp Files può funzionare bene quanto SQL Server in esecuzione su macchine virtuali molto più grandi.  Azure NetApp Files riduce i costi di distribuzione di SQL Server riducendo i costi di elaborazione e di licenza software.  Per un'analisi dettagliata dei costi e dei vantaggi in termini di prestazioni derivanti dall'utilizzo di Azure NetApp Files per la distribuzione di SQL Server, vedere<block ref="458fda910151e8d66385b2aabb6cd60e" category="inline-link-rx"></block> .</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">Benefici</block>
  <block id="9d2b7eb8bc76e60b0d9cd237d67a34fb" category="paragraph">I vantaggi dell'utilizzo di Azure NetApp Files per SQL Server includono quanto segue:</block>
  <block id="8ee22743237d82e9adc18a596977a138" category="list-text">Utilizzando Azure NetApp Files è possibile utilizzare istanze più piccole, riducendo così i costi di elaborazione.</block>
  <block id="3de639403ea86ae87a5883d359deb4ab" category="list-text">Azure NetApp Files riduce inoltre i costi delle licenze software, con conseguente riduzione del TCO complessivo.</block>
  <block id="46790c8fe72176f6262b4b5531482ee5" category="list-text">La riorganizzazione del volume e la capacità di livello di servizio dinamico ottimizzano i costi dimensionandoli per carichi di lavoro stabili ed evitando l'eccesso di risorse.</block>
  <block id="860d93b2ef30525111fa6440bf4d5bd7" category="list-text">Per aumentare la ridondanza e l'elevata disponibilità, le VM di SQL Server dovrebbero trovarsi nella stessa<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> o in modo diverso<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block> .  Se sono richiesti file di dati definiti dall'utente, considerare i requisiti del percorso dei file; in tal caso, selezionare SQL FCI anziché SQL AOAG.</block>
  <block id="c6fbfcd868e29e37e88eaeff82a7f430" category="inline-link">\\ANFSMB-b4ca.anf.test\SQLDB e \\ANFSMB-b4ca.anf.test\SQLDB\</block>
  <block id="e2bed4e218692d056237b3ae3d24293c" category="list-text">È supportato il seguente percorso UNC:<block ref="cb8cdd6ee3ebeed12086142f1a66cc3e" category="inline-link-rx"></block> .</block>
  <block id="0b4d3828f5dae91cd27e48bffa786d91" category="list-text">Il percorso UNC loopback non è supportato.</block>
  <block id="db3d2f4f54b992af225801eb51ea7387" category="list-text">Per il dimensionamento, utilizzare i dati storici dell'ambiente locale.  Per i carichi di lavoro OLTP, abbinare gli IOPS target ai requisiti di prestazioni utilizzando i carichi di lavoro in orari medi e di picco insieme ai contatori delle prestazioni di letture/sec e scritture/sec su disco.  Per i carichi di lavoro di data warehouse e reporting, abbinare la velocità effettiva target utilizzando i carichi di lavoro in orari medi e di picco e i byte di lettura/sec del disco e i byte di scrittura/sec del disco.  I valori medi possono essere utilizzati insieme alle capacità di rimodellamento del volume.</block>
  <block id="da3259c6aa3dafdc8ca15c687022a5cd" category="section-title">Crea azioni sempre disponibili</block>
  <block id="f7ee3eee4fa679986e37911272d13a29" category="inline-link">Creazione di una condivisione sempre disponibile</block>
  <block id="de7d92d6f4ac1f140ac05886ec017f09" category="paragraph">Crea condivisioni sempre disponibili con il portale di Azure o con l'interfaccia della riga di comando di Azure.  Nel portale, seleziona l'opzione della proprietà Abilita disponibilità continua. Per l'interfaccia della riga di comando di Azure, specifica la condivisione come condivisione disponibile in modo continuo utilizzando<block ref="0be8c8a92e4fe4621be30aa11942bc4d" prefix=" " category="inline-code"></block> opzione impostata su<block ref="91da4c74e2fced40755d4d3997af3488" prefix=" " category="inline-code"></block> .  Per saperne di più sulla creazione di un nuovo volume abilitato alla disponibilità continua, vedere<block ref="86e4b436e8054cc83fccec640f98e218" category="inline-link-rx"></block> .</block>
  <block id="9a3932b7bdfdbb892087fd595ec7acb9" category="list-text">Abilitare la disponibilità continua per il volume SMB come mostrato nell'immagine seguente.</block>
  <block id="c012fe8c05a3d9875a4f87cee09d1ca9" category="list-text">Se si utilizza un account di dominio non amministratore, assicurarsi che all'account siano assegnati i privilegi di sicurezza richiesti.</block>
  <block id="762783478495f0889d01a59db256f92c" category="list-text">Impostare le autorizzazioni appropriate a livello di condivisione e le autorizzazioni appropriate a livello di file.</block>
  <block id="bfb74db6a55528f52e8ecb83a507a043" category="inline-link-macro">Convertire i volumi SMB esistenti per utilizzare la disponibilità continua</block>
  <block id="029622eacde8310c84abca3cb32d076a" category="list-text">Non è possibile abilitare una proprietà disponibile in modo continuo sui volumi SMB esistenti.  Per convertire un volume esistente in modo che utilizzi una condivisione sempre disponibile, utilizzare la tecnologia NetApp Snapshot. Per ulteriori informazioni, consultare <block ref="a5010901471af228b32b1b902b9cf4f4" category="inline-link-macro-rx"></block> .</block>
  <block id="56470e1c0b9a7128c62ccefc9b2414e8" category="paragraph"><block ref="56470e1c0b9a7128c62ccefc9b2414e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9446a98ad14416153cc4d45ab8b531bf" category="section-title">Prestazione</block>
  <block id="ee38206503545cf54ad072dee7f8ab1a" category="paragraph">Azure NetApp Files supporta tre livelli di servizio: Standard (16 MBps per terabyte), Premium (64 MBps per terabyte) e Ultra (128 MBps per terabyte).  Per ottenere prestazioni ottimali del carico di lavoro del database è importante predisporre il volume della giusta dimensione.  Con Azure NetApp Files, le prestazioni del volume e il limite di velocità effettiva si basano su una combinazione dei seguenti fattori:</block>
  <block id="b87f5218989e854f2889f939a4e2ec06" category="list-text">Il livello di servizio del pool di capacità a cui appartiene il volume</block>
  <block id="9320cce40e9ab4d677bfcc78eddc64d5" category="list-text">La quota assegnata al volume</block>
  <block id="2d98af90367bed299b95066a85be0a17" category="list-text">Il tipo di qualità del servizio (QoS) (automatico o manuale) del pool di capacità</block>
  <block id="a6f08c2897faaf4d449d71d87f473ff1" category="inline-link">Livelli di servizio per Azure NetApp Files</block>
  <block id="ac56170d8576092b90989d467f2d383e" category="paragraph">Per ulteriori informazioni, vedere <block ref="1e8ed0f384e427209ce2e9dfbaed249d" category="inline-link-rx"></block> .</block>
  <block id="2e9717782618d5c2fea11b2f29028556" category="paragraph"><block ref="2e9717782618d5c2fea11b2f29028556" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1eb24bd760e508043a3cfdfe91ba9489" category="section-title">Validazione delle prestazioni</block>
  <block id="78fe494293decb4e2c7ba5ac2883bb83" category="paragraph">Come per qualsiasi distribuzione, testare la macchina virtuale e lo storage è fondamentale.  Per la convalida dell'archiviazione, è opportuno utilizzare strumenti quali HammerDB, Apploader o qualsiasi script personalizzato o FIO con la combinazione di lettura/scrittura appropriata.  Tuttavia, tieni presente che la maggior parte dei carichi di lavoro di SQL Server, anche i carichi di lavoro OLTP più impegnativi, sono più vicini all'80%-90% in lettura e al 10%-20% in scrittura.</block>
  <block id="10fde396dd4a669ec17689dd7cf8b599" category="paragraph">Per dimostrare le prestazioni, è stato eseguito un test rapido su un volume utilizzando livelli di servizio premium.  In questo test, la dimensione del volume è stata aumentata da 100 GB a 2 TB al volo, senza alcuna interruzione dell'accesso alle applicazioni e senza alcuna migrazione dei dati.</block>
  <block id="cdb1bfc9dffd846c49ed67e724856699" category="paragraph"><block ref="cdb1bfc9dffd846c49ed67e724856699" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eedfe317eed7692e9d95ba36177a80e9" category="paragraph">Ecco un altro esempio di test delle prestazioni in tempo reale con HammerDB eseguito per la distribuzione trattata in questo documento.  Per questo test abbiamo utilizzato una piccola istanza con otto vCPU, un SSD Premium da 500 GB e un volume Azure NetApp Files SMB da 500 GB.  HammerDB è stato configurato con 80 magazzini e otto utenti.</block>
  <block id="c365893719ad3de45f14fa9c19408eca" category="paragraph">Il grafico seguente mostra che Azure NetApp Files è stato in grado di fornire un numero di transazioni al minuto 2,6 volte superiore con una latenza 4 volte inferiore utilizzando un volume di dimensioni comparabili (500 GB).</block>
  <block id="d50d666921da97fdc14e35f752474e41" category="paragraph">È stato eseguito un test aggiuntivo ridimensionando l'istanza a un'istanza più grande con 32 vCPU e un volume Azure NetApp Files da 16 TB.  Si è registrato un aumento significativo delle transazioni al minuto con una latenza costante di 1 ms.  Per questo test, HammerDB è stato configurato con 80 magazzini e 64 utenti.</block>
  <block id="70cfc78bfe7683e1feb2c3339a190028" category="paragraph"><block ref="70cfc78bfe7683e1feb2c3339a190028" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a39ae09f8be4327fc176cfeb76a0e366" category="section-title">Ottimizzazione dei costi</block>
  <block id="892725223bbd64ebec595545eeaf8c28" category="paragraph">Azure NetApp Files consente il ridimensionamento trasparente e senza interruzioni dei volumi e la possibilità di modificare i livelli di servizio senza tempi di inattività e senza alcun effetto sulle applicazioni.  Si tratta di una funzionalità unica che consente una gestione dinamica dei costi, evitando la necessità di eseguire il dimensionamento del database con metriche di picco.  In alternativa, è possibile utilizzare carichi di lavoro in stato stazionario, evitando così costi iniziali.  La riorganizzazione del volume e la modifica dinamica del livello di servizio consentono di adattare la larghezza di banda e il livello di servizio dei volumi di Azure NetApp Files su richiesta quasi istantaneamente, senza interrompere l'I/O e mantenendo al contempo l'accesso ai dati.</block>
  <block id="44aaafbc17f2a4fcbd6d52e1c8ee0cae" category="paragraph">Le offerte Azure PaaS come LogicApp o Functions possono essere utilizzate per ridimensionare facilmente il volume in base a un webhook specifico o a un trigger di regola di avviso per soddisfare le esigenze del carico di lavoro, gestendo al contempo in modo dinamico i costi.</block>
  <block id="d613d5e1ef7a7f52eed191ef1066a08a" category="paragraph">Ad esempio, consideriamo un database che necessita di 250 MBps per un funzionamento in stato stazionario; tuttavia, richiede anche una velocità di picco di 400 MBps.  In questo caso, la distribuzione deve essere eseguita con un volume da 4 TB all'interno del livello di servizio Premium per soddisfare i requisiti di prestazioni stabili.  Per gestire il carico di lavoro di picco, aumentare le dimensioni del volume utilizzando le funzioni di Azure fino a 7 TB per quel periodo specifico, quindi ridurre le dimensioni del volume per rendere la distribuzione conveniente.  Questa configurazione evita l'eccessivo approvvigionamento dello storage.</block>
  <block id="a2810b66f557bf43f1c602ecfe7f52b1" category="summary">Questo documento illustra la distribuzione in tempo reale del gruppo di disponibilità Always On (AOAG) di SQL Server su Azure NetApp Files sfruttando le macchine virtuali di Azure.</block>
  <block id="0ecccb1d48727b6da357728efe7b6375" category="doc">TR-4897: SQL Server su Azure NetApp Files - Visualizzazione distribuzione reale</block>
  <block id="4eae423bbc6520b4a8fa4d0d4de28b8a" category="paragraph">Niyaz Mohamed, NetApp</block>
  <block id="8ae2b9aab28b6c00df7581f99f9211ef" category="paragraph">Le organizzazioni IT sono soggette a continui cambiamenti.  Gartner segnala che entro il 2022 circa il 75% di tutti i database richiederà un archivio basato su cloud.  In qualità di sistema di gestione di database relazionali (RDBMS) leader nel settore, Microsoft SQL Server è la scelta ideale per le applicazioni progettate per la piattaforma Windows e per le organizzazioni che si affidano a SQL Server per ogni attività, dalla pianificazione delle risorse aziendali (ERP) all'analisi, fino alla gestione dei contenuti.  SQL Server ha contribuito a rivoluzionare il modo in cui le aziende gestiscono enormi set di dati e potenziano le loro applicazioni per soddisfare le esigenze di prestazioni di schema e query.</block>
  <block id="eae371fd2d593d80849fab02c4e8b90b" category="paragraph">La maggior parte delle organizzazioni IT segue un approccio cloud-first.  I clienti in una fase di trasformazione valutano il loro attuale panorama IT e poi migrano i carichi di lavoro del database sul cloud sulla base di un esercizio di valutazione e individuazione.  Tra i fattori che spingono i clienti verso la migrazione al cloud rientrano l'elasticità/burst, l'uscita dal data center, il consolidamento del data center, gli scenari di fine vita, le fusioni, le acquisizioni e così via.  Il motivo della migrazione può variare in base a ciascuna organizzazione e alle rispettive priorità aziendali.  Quando si passa al cloud, è molto importante scegliere il giusto storage cloud per sfruttare al meglio la potenza dell'implementazione cloud del database SQL Server.</block>
  <block id="f9468c81b3d59ac0030570c4f58e95f1" category="section-title">Caso d'uso</block>
  <block id="9f56e1bc4128b7f39fae7796e07859f9" category="paragraph">Lo spostamento dell'infrastruttura SQL Server su Azure e l'integrazione di SQL Server con la vasta gamma di funzionalità PaaS (Platform-as-a-Service) di Azure, come Azure Data Factory, Azure IoT Hub e Azure Machine Learning, creano un enorme valore aziendale a supporto della trasformazione digitale.  L'adozione del cloud consente inoltre alla rispettiva unità aziendale di concentrarsi sulla produttività e di fornire nuove funzionalità e miglioramenti più rapidamente (caso d'uso DevTest) rispetto al modello CAPEX o ai tradizionali modelli di cloud privato.  Questo documento illustra la distribuzione in tempo reale del gruppo di disponibilità Always On (AOAG) di SQL Server su Azure NetApp Files sfruttando le macchine virtuali di Azure.</block>
  <block id="239a02aaaf9289a3093f682835f65f88" category="paragraph">Azure NetApp Files offre uno storage di livello aziendale con condivisioni file sempre disponibili.  Le condivisioni costantemente disponibili sono richieste dai database di produzione di SQL Server sulla condivisione file SMB per garantire che il nodo abbia sempre accesso all'archiviazione del database, anche durante scenari di interruzione quali aggiornamenti o guasti del controller.  Le condivisioni di file sempre disponibili eliminano la necessità di replicare i dati tra i nodi di archiviazione.  Azure NetApp Files utilizza la scalabilità orizzontale SMB 3.0, gli handle persistenti e il failover trasparente per supportare operazioni non dirompenti (NDO) per eventi di inattività pianificati e non pianificati, tra cui numerose attività amministrative.</block>
  <block id="f47a858d79de9725a0d6881541748e9b" category="paragraph">Quando si pianificano migrazioni nel cloud, è sempre opportuno valutare l'approccio migliore da utilizzare.  L'approccio più comune e semplice per la migrazione delle applicazioni è il rehosting (noto anche come lift and shift).  Lo scenario di esempio fornito in questo documento utilizza il metodo di rehosting.  SQL Server su macchine virtuali di Azure con Azure NetApp Files consente di utilizzare versioni complete di SQL Server nel cloud senza dover gestire hardware locale.  Le macchine virtuali (VM) di SQL Server semplificano inoltre i costi di licenza grazie al pagamento in base all'utilizzo e offrono elasticità e capacità di bursting per scenari di sviluppo, test e aggiornamento del patrimonio.</block>
  <block id="9b64a6dfae1f3fa326b750c2790c79fe" category="summary">Questa sezione illustra la distribuzione in tempo reale di un database SQL in una configurazione AOAG utilizzando un volume SMB Azure NetApp Files .</block>
  <block id="5ca1071c67ab704b04ed27747f213551" category="doc">Progettazione di riferimento di alto livello in tempo reale</block>
  <block id="bb0357d1c0b3b8ebd31a43c9b30f3745" category="list-text">Numero di nodi: 4</block>
  <block id="7f4f30d96e1d0a820a6962ad6ac994ee" category="list-text">Numero di database: 21</block>
  <block id="f28735e3e5e57049aa575b3f0ec83c61" category="list-text">Numero di gruppi di disponibilità: 4</block>
  <block id="96fb94ba9fad0b4452c212b21df61eab" category="list-text">Conservazione del backup: 7 giorni</block>
  <block id="a8d1485807d36562316fb8b2254bca57" category="list-text">Archivio di backup: 365 giorni</block>
  <block id="4afa49afd4ebc3638f3e000d65825370" category="admonition">L'implementazione di FCI con SQL Server su macchine virtuali di Azure con una condivisione di Azure NetApp Files fornisce un modello conveniente con una singola copia dei dati.  Questa soluzione può prevenire problemi durante l'operazione di aggiunta file se il percorso del file è diverso dalla replica secondaria.</block>
  <block id="57ae06a25f863456d800e1732607d89e" category="paragraph"><block ref="57ae06a25f863456d800e1732607d89e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4822d9597460a9166778308da312709c" category="paragraph">L'immagine seguente mostra i database all'interno di AOAG distribuiti tra i nodi.</block>
  <block id="21b7a4e91464da32af3d983fb61fd5a3" category="paragraph"><block ref="21b7a4e91464da32af3d983fb61fd5a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d22a890163762fcf7a4cb7605c29b7e6" category="section-title">Layout dei dati</block>
  <block id="35c33dd0c5565dbdba04dc2b313d7a2e" category="paragraph">I file del database utente (.mdf) e i file di registro delle transazioni del database utente (.ldf), insieme a tempDB, sono archiviati sullo stesso volume.  Il livello di servizio è Ultra.</block>
  <block id="9b7d6479a15395afefc6d7f9e38a4f17" category="paragraph">La configurazione è composta da quattro nodi e quattro AG.  Tutti i 21 database (parte di Dynamic AX, SharePoint, broker di connessione RDS e servizi di indicizzazione) sono archiviati nei volumi Azure NetApp Files .  I database sono bilanciati tra i nodi AOAG per utilizzare in modo efficace le risorse sui nodi.  Vengono aggiunte quattro istanze D32 v3 nel WSFC, che partecipa alla configurazione AOAG.  Questi quattro nodi vengono forniti nella rete virtuale di Azure e non vengono migrati da locale.</block>
  <block id="09a10f0ab048cde1d7b704392ba05d9a" category="list-text">Se i log richiedono maggiori prestazioni e throughput a seconda della natura dell'applicazione e delle query eseguite, i file del database possono essere posizionati sul livello di servizio Premium e i log possono essere archiviati sul livello di servizio Ultra.</block>
  <block id="51368a236b969e288242f0b0b615cf74" category="list-text">Se i file tempdb sono stati posizionati su Azure NetApp Files, il volume Azure NetApp Files deve essere separato dai file del database utente.  Ecco un esempio di distribuzione dei file del database in AOAG.</block>
  <block id="2e66f3d288799e6f4235b883bb2f693c" category="list-text">Per mantenere i vantaggi della protezione dei dati basata sulla copia Snapshot, NetApp consiglia di non combinare dati e dati di registro nello stesso volume.</block>
  <block id="1452bcdb4aeb229a2c2e503f9bbba753" category="list-text">Un'operazione di aggiunta file eseguita sulla replica primaria potrebbe non riuscire sui database secondari se il percorso del file di un database secondario è diverso dal percorso del database primario corrispondente.  Ciò può accadere se il percorso di condivisione è diverso sui nodi primario e secondario (a causa di account computer diversi).  Questo errore potrebbe causare la sospensione dei database secondari.  Se non è possibile prevedere il modello di crescita o di prestazioni e si prevede di aggiungere file in un secondo momento, un cluster di failover di SQL Server con Azure NetApp Files è una soluzione accettabile.  Per la maggior parte delle distribuzioni, Azure NetApp Files soddisfa i requisiti di prestazioni.</block>
  <block id="19f59b74448f6a27519db281a44e4b12" category="section-title">Migrazione</block>
  <block id="cd6b4503e07d15cebc0842bb8da7b765" category="paragraph">Esistono diversi modi per migrare un database utente SQL Server locale a SQL Server in una macchina virtuale di Azure.  La migrazione può avvenire sia online che offline.  Le opzioni scelte dipendono dalla versione di SQL Server, dai requisiti aziendali e dagli SLA definiti all'interno dell'organizzazione.  Per ridurre al minimo i tempi di inattività durante il processo di migrazione del database, NetApp consiglia di utilizzare l'opzione AlwaysOn o l'opzione di replica transazionale.  Se non è possibile utilizzare questi metodi, è possibile migrare il database manualmente.</block>
  <block id="2d4221f1ee93c102ca047daac1fba4a7" category="paragraph">L'approccio più semplice e ampiamente testato per spostare i database tra macchine è il backup e il ripristino.  In genere, è possibile iniziare con un backup del database seguito da una copia del backup del database in Azure.  È quindi possibile ripristinare il database.  Per ottenere le migliori prestazioni di trasferimento dati, migrare i file del database nella macchina virtuale di Azure utilizzando un file di backup compresso.  La progettazione di alto livello a cui si fa riferimento in questo documento utilizza l'approccio di backup per l'archiviazione dei file di Azure con sincronizzazione dei file di Azure e quindi ripristina i file di Azure NetApp .</block>
  <block id="623f8382f97ee8df2d7af54439833812" category="admonition">Azure Migrate può essere utilizzato per individuare, valutare ed eseguire la migrazione dei carichi di lavoro di SQL Server.</block>
  <block id="fbc25f1c70f1a9c133715cac6d66b21b" category="paragraph">Per eseguire una migrazione, completare i seguenti passaggi generali:</block>
  <block id="d807caa187d2fea33bab50ed1e1c79bb" category="list-text">In base alle tue esigenze, configura la connettività.</block>
  <block id="59f59f1aebe4fc18ab054480b3a1098a" category="list-text">Eseguire un backup completo del database in una posizione di condivisione file locale.</block>
  <block id="4891d727582d5df766ee6737fe7fb761" category="list-text">Copiare i file di backup in una condivisione file di Azure con la sincronizzazione file di Azure.</block>
  <block id="135899cc34886eb6ce9baf7211d4adb5" category="list-text">Fornire alla VM la versione desiderata di SQL Server.</block>
  <block id="fbef0b11b7ee9e0d709d3d1c6efbd4d4" category="list-text">Copiare i file di backup nella VM utilizzando<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> comando da un prompt dei comandi.</block>
  <block id="b9786aca69df61c5165147929b4ced89" category="list-text">Ripristinare i database completi su SQL Server su macchine virtuali di Azure.</block>
  <block id="e937691d64dcb1188cbbcbcd83d87d2f" category="admonition">Per ripristinare 21 database ci sono volute circa nove ore.  Questo approccio è specifico per questo scenario.  Tuttavia, è possibile utilizzare altre tecniche di migrazione elencate di seguito, in base alla situazione e alle esigenze specifiche.</block>
  <block id="2b9d85faa379ef985ae3851810db1403" category="paragraph">Altre opzioni di migrazione per spostare i dati da un SQL Server locale ad Azure NetApp Files includono quanto segue:</block>
  <block id="90248308f9c24bd3bf817ee129838603" category="list-text">Scollegare i file di dati e di registro, copiarli nell'archivio BLOB di Azure e quindi collegarli a SQL Server nella macchina virtuale di Azure con una condivisione file ANF montata dall'URL.</block>
  <block id="82ce70205698ed956d1fce48af1360c0" category="inline-link">Aggiungi procedura guidata replica di Azure</block>
  <block id="e5e07f1ff84f0082089e4fec71ed43a4" category="list-text">Se si utilizza la distribuzione del gruppo di disponibilità Always On in locale, utilizzare<block ref="aea558e3371e9956f5e03828309464a0" category="inline-link-rx"></block> per creare una replica in Azure e quindi eseguire il failover.</block>
  <block id="eedc53c13a9992999dba36bda1b62255" category="inline-link">replica transazionale</block>
  <block id="47a43d904457c52da2918f290a0ae5cb" category="list-text">Utilizzare SQL Server<block ref="21bf5f41b40b598aae9dd55aa9dcb960" category="inline-link-rx"></block> per configurare l'istanza di Azure SQL Server come sottoscrittore, disabilitare la replica e indirizzare gli utenti all'istanza del database di Azure.</block>
  <block id="bf4614882fd1000329cfcb76f98f6c17" category="list-text">Spedire il disco rigido utilizzando il servizio Importa/Esportazione di Windows.</block>
  <block id="be062cdcabbb3055334e8f19b4bdf378" category="section-title">Backup e ripristino</block>
  <block id="b855582b6472c4fbe2a5f606191e66d6" category="paragraph">Il backup e il ripristino sono aspetti importanti di qualsiasi distribuzione di SQL Server.  È fondamentale disporre di una rete di sicurezza adeguata per ripristinare rapidamente i dati in caso di vari scenari di guasto e perdita, in combinazione con soluzioni ad alta disponibilità come AOAG.  È possibile utilizzare lo strumento di quiesce del database di SQL Server, Azure Backup (streaming) o qualsiasi strumento di backup di terze parti come Commvault per eseguire un backup coerente con l'applicazione dei database,</block>
  <block id="3896e1102f68b0bc974f324bb134f6e6" category="inline-link">Strumento SCSQLAPI</block>
  <block id="e372173044ccba12657b2e3dbff1879b" category="paragraph">La tecnologia Azure NetApp Files Snapshot consente di creare facilmente una copia point-in-time (PiT) dei database utente senza influire sulle prestazioni o sull'utilizzo della rete.  Questa tecnologia consente inoltre di ripristinare una copia Snapshot su un nuovo volume o di riportare rapidamente il volume interessato allo stato in cui si trovava al momento della creazione della copia Snapshot utilizzando la funzione di ripristino del volume.  Il processo di snapshot Azure NetApp Files è molto rapido ed efficiente e consente di effettuare più backup giornalieri, a differenza del backup in streaming offerto da Azure Backup.  Grazie alla possibilità di eseguire più copie Snapshot in un dato giorno, i tempi RPO e RTO possono essere notevolmente ridotti.  Per aggiungere coerenza all'applicazione in modo che i dati siano intatti e correttamente scaricati sul disco prima che venga eseguita la copia Snapshot, utilizzare lo strumento di quiesce del database SQL Server<block ref="b800e9e09a17fc5b41967404ec8e47ac" category="inline-link-rx"></block> ; l'accesso a questo collegamento richiede le credenziali di accesso NetApp SSO).  Questo strumento può essere eseguito da PowerShell, che mette in stato di quiescenza il database di SQL Server e a sua volta può acquisire una copia snapshot di archiviazione coerente con l'applicazione per i backup.</block>
  <block id="04666a337d02195d17089298f5773f4c" category="paragraph">*Note: *</block>
  <block id="a4d5ac6087b7ce119cfe6b7ad4d77ee5" category="list-text">Lo strumento SCSQLAPI supporta solo le versioni 2016 e 2017 di SQL Server.</block>
  <block id="fdcb10d4c2db07cf930247a4f9898ec5" category="list-text">Lo strumento SCSQLAPI funziona solo con un database alla volta.</block>
  <block id="2f65ae42dc3aa8b735406a2d56ceb6fb" category="list-text">Isolare i file da ciascun database posizionandoli su un volume Azure NetApp Files separato.</block>
  <block id="879351e17b2cd6d740ac0974e9ff8a5a" category="inline-link">Backup di Azure</block>
  <block id="42624b4153bfacce50a468208ab49349" category="paragraph">A causa delle enormi limitazioni dell'API SCSQL,<block ref="10a72c6743c3c6714e03b5537ec15603" category="inline-link-rx"></block> è stato utilizzato per la protezione dei dati al fine di soddisfare i requisiti SLA.  Offre un backup basato su flusso di SQL Server in esecuzione in Azure Virtual Machines e Azure NetApp Files.  Azure Backup consente un RPO di 15 minuti con backup frequenti del log e ripristino PiT fino a un secondo.</block>
  <block id="423e555c5ec3885f2bb5d9d2d6627f63" category="section-title">Monitoraggio</block>
  <block id="fe58430a0bb00057a08eed382c5d82b2" category="paragraph">Azure NetApp Files è integrato con Azure Monitor per i dati delle serie temporali e fornisce metriche sullo spazio di archiviazione allocato, sull'utilizzo effettivo dello spazio di archiviazione, sugli IOPS del volume, sulla velocità effettiva, sui byte di lettura/sec del disco, sui byte di scrittura/sec del disco, sulle letture/sec del disco e sulle scritture/sec del disco e sulla latenza associata.  Questi dati possono essere utilizzati per identificare i colli di bottiglia negli avvisi e per eseguire controlli di integrità per verificare che la distribuzione di SQL Server sia in esecuzione in una configurazione ottimale.</block>
  <block id="48419e90c914ae5fa935283404de8a2a" category="paragraph">In questo HLD, ScienceLogic viene utilizzato per monitorare Azure NetApp Files esponendo le metriche tramite l'entità servizio appropriata.  L'immagine seguente è un esempio dell'opzione metrica Azure NetApp Files .</block>
  <block id="6d7cc59a6cbd8c3a31c58dcc9e31e2f6" category="paragraph"><block ref="6d7cc59a6cbd8c3a31c58dcc9e31e2f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6fe292df6373534e554d5a7938bc3c3b" category="section-title">DevTest utilizzando cloni spessi</block>
  <block id="652f67778e6d02c7b5bfe46a3e579f7f" category="paragraph">Con Azure NetApp Files è possibile creare copie istantanee dei database per testare le funzionalità che devono essere implementate utilizzando la struttura e il contenuto del database corrente durante i cicli di sviluppo dell'applicazione, per utilizzare gli strumenti di estrazione e manipolazione dei dati durante il popolamento dei data warehouse o persino per recuperare dati eliminati o modificati per errore.  Questo processo non prevede la copia dei dati dai contenitori BLOB di Azure, il che lo rende molto efficiente.  Una volta ripristinato, il volume può essere utilizzato per operazioni di lettura/scrittura, riducendo significativamente la convalida e il time-to-market.  Deve essere utilizzato insieme a SCSQLAPI per garantire la coerenza dell'applicazione.  Questo approccio fornisce un'ulteriore tecnica di ottimizzazione continua dei costi insieme ad Azure NetApp Files sfruttando l'opzione Ripristina in nuovo volume.</block>
  <block id="e4665dd99280634e4b44ff82666fbb9f" category="list-text">Il volume creato dalla copia Snapshot utilizzando l'opzione Ripristina nuovo volume consuma capacità dal pool di capacità.</block>
  <block id="0031911d8ba66a79d06b9819afd4f082" category="list-text">È possibile eliminare i volumi clonati utilizzando REST o Azure CLI per evitare costi aggiuntivi (nel caso in cui sia necessario aumentare il pool di capacità).</block>
  <block id="cb4d46fdcb0881652013c495d90ae732" category="section-title">Opzioni di archiviazione ibride</block>
  <block id="e6a1767911a937e11cc1750fcc4256c3" category="paragraph">Sebbene NetApp consigli di utilizzare lo stesso storage per tutti i nodi nei gruppi di disponibilità di SQL Server, esistono scenari in cui è possibile utilizzare più opzioni di storage.  Questo scenario è possibile per Azure NetApp Files in cui un nodo in AOAG è connesso a una condivisione file SMB Azure NetApp Files e il secondo nodo è connesso a un disco Azure Premium.  In questi casi, assicurarsi che la condivisione SMB Azure NetApp Files contenga la copia primaria dei database utente e che il disco Premium venga utilizzato come copia secondaria.</block>
  <block id="009d3d51226fdccd09052934b65100db" category="list-text">In tali distribuzioni, per evitare problemi di failover, assicurarsi che la disponibilità continua sia abilitata sul volume SMB.  In assenza di attributi costantemente disponibili, il database può non funzionare se è presente una manutenzione in background a livello di archiviazione.</block>
  <block id="918e9d895272e6a326c6585e05ae4c08" category="list-text">Conservare la copia primaria del database nella condivisione file SMB Azure NetApp Files .</block>
  <block id="1a5c3601eda1cd38072323e418968743" category="section-title">Continuità aziendale</block>
  <block id="064ea84d2e6072b28bfd7a8b36aed3db" category="paragraph">In genere, il ripristino in caso di disastro è un aspetto da considerare in un secondo momento in qualsiasi implementazione.  Tuttavia, il disaster recovery deve essere affrontato durante la fase iniziale di progettazione e implementazione per evitare qualsiasi impatto sulla tua attività.  Con Azure NetApp Files, la funzionalità di replica tra regioni (CRR) può essere utilizzata per replicare i dati del volume a livello di blocco nella regione abbinata per gestire eventuali interruzioni regionali impreviste.  Il volume di destinazione abilitato per CRR può essere utilizzato per operazioni di lettura, il che lo rende un candidato ideale per le simulazioni di disaster recovery.  Inoltre, alla destinazione CRR può essere assegnato il livello di servizio più basso (ad esempio, Standard) per ridurre il TCO complessivo.  In caso di failover, la replicazione può essere interrotta, rendendo il rispettivo volume idoneo alla lettura/scrittura.  Inoltre, il livello di servizio del volume può essere modificato utilizzando la funzionalità di livello di servizio dinamico per ridurre significativamente i costi di ripristino di emergenza.  Questa è un'altra caratteristica esclusiva di Azure NetApp Files con replica a blocchi all'interno di Azure.</block>
  <block id="86258094262f66b30d10068d1d9c29d4" category="section-title">Archivio di copie Snapshot a lungo termine</block>
  <block id="65bd92a3b5fcfea7efeb973a0a2483d8" category="inline-link">AzCopy</block>
  <block id="e6bf440e9e7e787ce92e6f8661daf9e9" category="paragraph">Molte organizzazioni devono conservare a lungo termine i dati snapshot dei file di database come requisito di conformità obbligatorio.  Sebbene questo processo non sia utilizzato in questo HLD, può essere facilmente realizzato utilizzando un semplice script batch utilizzando<block ref="f326c7b047cd071718d141dba06c550f" category="inline-link-rx"></block> per copiare la directory degli snapshot nel contenitore BLOB di Azure.  Lo script batch può essere attivato in base a una pianificazione specifica utilizzando attività pianificate.  Il processo è semplice e comprende i seguenti passaggi:</block>
  <block id="dfdc6514d824f948d82ee2ac6515603f" category="list-text">Scarica il file eseguibile AzCopy V10.  Non c'è niente da installare perché è un<block ref="98e83379d45538379c2ac4e47c3be81d" prefix=" " category="inline-code"></block> file.</block>
  <block id="5434519f37049a19d388fb3edabd08f7" category="list-text">Autorizzare AzCopy utilizzando un token SAS a livello di contenitore con le autorizzazioni appropriate.</block>
  <block id="73facdc1e77927e1c0d4c2f66c6fedf9" category="list-text">Dopo l'autorizzazione di AzCopy, inizia il trasferimento dei dati.</block>
  <block id="a2c31034ac77c6ad0ce6dae2a7882d73" category="list-text">Nei file batch, assicurarsi di eseguire l'escape dei caratteri % che compaiono nei token SAS.  Ciò può essere fatto aggiungendo un ulteriore carattere % accanto ai caratteri % esistenti nella stringa del token SAS.</block>
  <block id="0eed577952fd376af1fa48aa241e3df7" category="inline-link">Trasferimento sicuro richiesto</block>
  <block id="b2f731ca364e7df30cd69650bdc19d46" category="list-text">IL<block ref="7e9be5c7f255e20f7f3a81046108dcad" category="inline-link-rx"></block> l'impostazione di un account di archiviazione determina se la connessione a un account di archiviazione è protetta con Transport Layer Security (TLS).  Questa impostazione è abilitata per impostazione predefinita.  Il seguente esempio di script batch copia ricorsivamente i dati dalla directory di copia Snapshot a un contenitore Blob designato:</block>
  <block id="f2c225fb316953652d9040f71e76717c" category="paragraph">Il seguente cmd di esempio viene eseguito in PowerShell:</block>
  <block id="e7cc24e4ddff469c6304653aea869597" category="list-text">Una funzionalità di backup simile per la conservazione a lungo termine sarà presto disponibile in Azure NetApp Files.</block>
  <block id="03930ecbc2c505278298d571631e23bb" category="list-text">Lo script batch può essere utilizzato in qualsiasi scenario che richieda la copia di dati nel contenitore BLOB di qualsiasi regione.</block>
  <block id="07ecdeff0f5a70968e882eb4ace6f576" category="paragraph">Grazie alla riorganizzazione del volume e alla modifica dinamica del livello di servizio, completamente trasparente per il database, Azure NetApp Files consente continue ottimizzazioni dei costi in Azure.  Questa funzionalità viene ampiamente utilizzata in questo HLD per evitare un eccesso di storage aggiuntivo per gestire i picchi di carico di lavoro.</block>
  <block id="bf511e8b678dd2ecee162930e6c8c9e6" category="paragraph">Il ridimensionamento del volume può essere eseguito facilmente creando una funzione di Azure insieme ai log degli avvisi di Azure.</block>
  <block id="10c7c6ec856268da9f1d2ab6ec5b0984" category="doc">TR-4951: Backup e ripristino per Microsoft SQL Server su AWS FSx ONTAP</block>
  <block id="9475e5d5cafea2648e51c312bfc7f923" category="paragraph">Questo documento illustra i passaggi necessari per eseguire il backup e il ripristino per Microsoft SQL Server su AWS FSx ONTAP con SnapCenter.  Ciò include le seguenti informazioni:</block>
  <block id="5bf8a1308ebd487796bd4db12222cf4a" category="list-text">Configurazione di NetApp SnapCenter</block>
  <block id="ecc57313124902e4c42227ae61bb9bf1" category="list-text">Operazioni di backup SnapCenter</block>
  <block id="d939d79ed61dbf23169c4f7badcc1788" category="list-text">Operazione di backup per un database FCI</block>
  <block id="cb9f91cd2f1ab77ae604d05be34c3d59" category="list-text">Operazione di backup per più database</block>
  <block id="6be8f3086a30e59e908d53eb620b51dd" category="list-text">Ripristino e recupero</block>
  <block id="9fa83b367c23a5d2579b5aebdddebe77" category="section-title">Configurazione SnapCenter</block>
  <block id="f979bf3f98ebe58fd55555efea856e3f" category="paragraph">Per la configurazione SnapCenter e la protezione delle risorse di Microsoft SQL Server è necessario eseguire i seguenti passaggi.  Ciascuno dei passaggi seguenti è descritto in dettaglio nelle sezioni seguenti.</block>
  <block id="7c1e7491c7e3588e56a0b05940cc2840" category="list-text">Configurare le credenziali di amministratore di sistema per l'utente addetto al backup e al ripristino di SQL Server.</block>
  <block id="d1347363827a6b0b3093b67bbcdb32a9" category="list-text">Configurare le impostazioni di archiviazione.  Fornire le credenziali di gestione di Amazon Web Services (AWS) per accedere alle macchine virtuali di archiviazione (SVM) Amazon FSx ONTAP da SnapCenter.</block>
  <block id="bf1e7185f6bb09e0f2b1527acbbb47df" category="list-text">Aggiungere un host SQL Server a SnapCenter.  Distribuire e installare i plug-in SnapCenter richiesti.</block>
  <block id="1e5b163165e28d2c04a5c2cc25406fa0" category="list-text">Configurare le policy.  Definire il tipo di operazione di backup, la conservazione e la replica facoltativa del backup Snapshot.</block>
  <block id="7839511c8247bb78354925ce2771284a" category="list-text">Configurare e proteggere il database Microsoft SQL Server.</block>
  <block id="1719e3b1afdebd05d1f71b0881a7083c" category="section-title">Interfaccia utente SnapCenter appena installata</block>
  <block id="97504cb249856d98431bd413caeb43ce" category="paragraph">Configurare le credenziali per il backup di SQL Server e ripristinare l'utente con diritti di amministratore di sistema.</block>
  <block id="263157e38dd7adcf4beb5c0dee14e013" category="paragraph"><block ref="263157e38dd7adcf4beb5c0dee14e013" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a8b4eaab7153d620e4be3372cee492d" category="paragraph">NetApp consiglia di utilizzare il controllo degli accessi basato sui ruoli (RBAC) per delegare le funzionalità di protezione e gestione dei dati ai singoli utenti negli host SnapCenter e Windows.  L'utente deve avere accesso al server SQL che ospita il database.  Per più host, il nome utente e la password devono essere gli stessi per tutti gli host.  Inoltre, per consentire a SnapCenter di distribuire il plug-in richiesto sugli host di SQL Server, è necessario registrare le informazioni di dominio affinché SnapCenter convalidi le credenziali e gli host.</block>
  <block id="2f5eb1bcad8467d8b1a3a761e7a52e7c" category="paragraph">Espandi le sezioni seguenti per visualizzare le istruzioni dettagliate su come completare ogni passaggio.</block>
  <block id="36bc52aaebad43ec3e49ed9a0efacd43" category="example-title">Aggiungi le credenziali</block>
  <block id="994e670ad871a1a1a8968ef47fce1bd2" category="paragraph">Vai su *Impostazioni*, seleziona *Credenziali* e clicca su (+*).</block>
  <block id="bb598d076da46530ceab0455eb9e5aeb" category="paragraph"><block ref="bb598d076da46530ceab0455eb9e5aeb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ef34a5260859bfffb6bf580955ffb1e" category="paragraph">Il nuovo utente deve disporre dei diritti di amministratore sull'host SQL Server.</block>
  <block id="42f53fba169caa3a3b234900730492d9" category="paragraph"><block ref="42f53fba169caa3a3b234900730492d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d25223f4065ca21361aff2e7cdc61203" category="example-title">Configurare l'archiviazione</block>
  <block id="8d4520cc707d4607fe5abe132aecdbf2" category="paragraph">Per configurare l'archiviazione in SnapCenter, completare i seguenti passaggi:</block>
  <block id="17b1ba0b70ebf5f6fcfd2f39e760ac1c" category="list-text">Nell'interfaccia utente SnapCenter , seleziona *Sistemi di archiviazione*.  Esistono due tipi di storage: * ONTAP SVM* e * ONTAP Cluster*.  Per impostazione predefinita, il tipo di archiviazione è * ONTAP SVM*.</block>
  <block id="84bf89b0b19fc811dad7c11f9b65802e" category="list-text">Fare clic su (+*+*) per aggiungere le informazioni sul sistema di archiviazione.</block>
  <block id="01c53e6bfe960953b32c98f2112f4303" category="paragraph"><block ref="01c53e6bfe960953b32c98f2112f4303" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39de8a13e32575a801c8634fd2877ed4" category="list-text">Fornire l'endpoint di gestione *FSx ONTAP *.</block>
  <block id="204b3ab666a5f3f968f405e95b493f8d" category="paragraph"><block ref="204b3ab666a5f3f968f405e95b493f8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c99ac5cbe66f4968da17288cff14037" category="list-text">L'SVM è ora configurato in SnapCenter.</block>
  <block id="8d09c4e9d4c1ccd04e9cec2a690d3659" category="paragraph"><block ref="8d09c4e9d4c1ccd04e9cec2a690d3659" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f4cf5450244ae3361ec7b130b139860" category="example-title">Aggiungere un host SQL Server a SnapCenter</block>
  <block id="865ea603dd93a3a23cc7e80825b29624" category="paragraph">Per aggiungere un host SQL Server, completare i seguenti passaggi:</block>
  <block id="e14bea01dc3a10ca47f216a08f68fa85" category="list-text">Nella scheda Host, fare clic su (*+*) per aggiungere l'host di Microsoft SQL Server.</block>
  <block id="eb34c39c9e120bad581790275c4322c7" category="paragraph"><block ref="eb34c39c9e120bad581790275c4322c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c802780a0f54f5e4f22e25de9fa33be" category="list-text">Fornire il nome di dominio completo (FQDN) o l'indirizzo IP dell'host remoto.</block>
  <block id="fb62a23910339f3168b6b89b4e0f77b7" category="admonition">Le credenziali vengono compilate per impostazione predefinita.</block>
  <block id="65d9345f77faaa3bf7bb8031bb92f814" category="list-text">Selezionare l'opzione per Microsoft Windows e Microsoft SQL Server, quindi inviare.</block>
  <block id="52f7eb9a848ae3c77eafc593b9260933" category="paragraph"><block ref="52f7eb9a848ae3c77eafc593b9260933" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53b2d796e625fe393f84e48a5c6c6e91" category="paragraph">I pacchetti SQL Server sono installati.</block>
  <block id="a106f82ac7656050cac2b5d549ddd343" category="paragraph"><block ref="a106f82ac7656050cac2b5d549ddd343" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fa703bd342022eaf92b76d3d4db62f6a" category="list-text">Una volta completata l'installazione, andare alla scheda *Risorse* per verificare se sono presenti tutti i volumi iSCSI FSx ONTAP .</block>
  <block id="b08c837e26a420a6727340a737a4380f" category="paragraph"><block ref="b08c837e26a420a6727340a737a4380f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b83af25a71030e8f59b11202c70c1a4" category="example-title">Configurare la directory dei registri</block>
  <block id="144931b7282f9d86fce2e97aa69aa046" category="paragraph">Per configurare una directory di registro host, completare i seguenti passaggi:</block>
  <block id="089f0c00b86bab7c6ce3e455e39b4111" category="list-text">Fare clic sulla casella di controllo.  Si apre una nuova scheda.</block>
  <block id="fc6a6d00b6b99448daebdb2df18a2b14" category="paragraph"><block ref="fc6a6d00b6b99448daebdb2df18a2b14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57fab4c72318fea3bba8b3c321098ab3" category="list-text">Fare clic sul collegamento *configura directory registro*.</block>
  <block id="eb1e0c7702c213472e776e0cc7f8fe6c" category="paragraph"><block ref="eb1e0c7702c213472e776e0cc7f8fe6c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b06cca5c441f86e0c4ad342dc4949c5" category="list-text">Selezionare l'unità per la directory del registro host e la directory del registro dell'istanza FCI.  Fare clic su *Salva*.  Ripetere lo stesso procedimento per il secondo nodo del cluster.  Chiudi la finestra.</block>
  <block id="e90ddc4c1a3fa19f8dcadf397bb82c11" category="paragraph"><block ref="e90ddc4c1a3fa19f8dcadf397bb82c11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c36dc3499eaa7955922477da928c37d" category="paragraph">L'host è ora in esecuzione.</block>
  <block id="27374f4db81a1bef38942d3105168251" category="paragraph"><block ref="27374f4db81a1bef38942d3105168251" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21ff17f2a463836d33f1c25b922e2aad" category="list-text">Nella scheda *Risorse* abbiamo tutti i server e i database.</block>
  <block id="5d9cc78a1b0cedb3a2e519e4787e2a06" category="paragraph"><block ref="5d9cc78a1b0cedb3a2e519e4787e2a06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e2457547c492c6001e30b828b6540e" category="section-title">Configurare una politica di backup</block>
  <block id="94cf5b65d5289e46a9a0d12fe6877c2e" category="paragraph">Una policy di backup è un insieme di regole che stabiliscono come gestire, pianificare e conservare i backup.  Aiuta a definire il tipo e la frequenza del backup in base all'SLA della tua azienda.</block>
  <block id="e28ebacaa4299d5022a9ce52d607c076" category="example-title">Configurare l'operazione di backup per un database FCI</block>
  <block id="41cc72961a6c592ec36223498c3bd705" category="paragraph">Per configurare un criterio di backup per un database FCI, completare i seguenti passaggi:</block>
  <block id="55e9263abc7e93fbc1274424af911693" category="list-text">Vai su *Impostazioni* e seleziona *Criteri* in alto a sinistra.  Quindi fare clic su *Nuovo*.</block>
  <block id="5ac78e084848f8cc247d598e005c6aa3" category="paragraph"><block ref="5ac78e084848f8cc247d598e005c6aa3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="00f0ce22eac68a6bd05a1b0f221c4870" category="list-text">Inserisci il nome della policy e una descrizione.  Fare clic su *Avanti*.</block>
  <block id="84bdfd949bee67cde6dc8e250fb3020b" category="paragraph"><block ref="84bdfd949bee67cde6dc8e250fb3020b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="55efa7fad4afc963d783654da41300bf" category="list-text">Selezionare *Backup completo* come tipo di backup.</block>
  <block id="3dd8f9fd3739a14391fbf8713681641c" category="paragraph"><block ref="3dd8f9fd3739a14391fbf8713681641c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8270c99b48ebbc3928233b0365c4aeef" category="list-text">Selezionare la frequenza della pianificazione (in base all'SLA dell'azienda).  Fare clic su *Avanti*.</block>
  <block id="e28272da203be603a1dd273b52ce1c5e" category="paragraph"><block ref="e28272da203be603a1dd273b52ce1c5e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="de3ec07218c2ba18d85a3130b6583520" category="list-text">Configurare le impostazioni di conservazione per il backup.</block>
  <block id="5fd5e3f756e16e4180b5af92cbf86888" category="paragraph"><block ref="5fd5e3f756e16e4180b5af92cbf86888" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e0b22898b3d80ad22f4aec2ecdb63d6" category="list-text">Configurare le opzioni di replica.</block>
  <block id="6a573546d6190e33fbdfe33ab4f7f0b4" category="paragraph"><block ref="6a573546d6190e33fbdfe33ab4f7f0b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44ea4d24c42b8fec22a7b9816f31e892" category="list-text">Specificare uno script di esecuzione da eseguire prima e dopo l'esecuzione di un processo di backup (se presente).</block>
  <block id="73ace21d48efbf10f11c02963b1a74ff" category="paragraph"><block ref="73ace21d48efbf10f11c02963b1a74ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b94cb3e0f4abcd010f6711fe214e35a" category="list-text">Eseguire la verifica in base alla pianificazione del backup.</block>
  <block id="0f2ec527580ab66098ac0b9adb617223" category="paragraph"><block ref="0f2ec527580ab66098ac0b9adb617223" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbfa414efc5d445675fd9077ba0c56b3" category="list-text">La pagina *Riepilogo* fornisce i dettagli della policy di backup.  Eventuali errori possono essere corretti qui.</block>
  <block id="b5c2e63df47024e1834717c54e4ac3de" category="paragraph"><block ref="b5c2e63df47024e1834717c54e4ac3de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8e93df919756b105bc83306d032d098" category="section-title">Configurare e proteggere il database MSSQL Server</block>
  <block id="27db30e5a59f8be2fcb99cf63599a91c" category="list-text">Impostare la data di inizio e la data di scadenza della policy di backup.</block>
  <block id="442ee14e356889b8eaf0873dc785e1c2" category="paragraph"><block ref="442ee14e356889b8eaf0873dc785e1c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3d9d87e495dd4aa1d5bb3efb45285b5" category="list-text">Definire la pianificazione per il backup.  Per farlo, clicca su (*+*) per configurare una pianificazione.  Inserisci la *Data di inizio* e la data di *Scadenza*.  Imposta l'orario in base all'SLA dell'azienda.</block>
  <block id="8b05c4f43dde3e690e016b6f5239120e" category="paragraph"><block ref="8b05c4f43dde3e690e016b6f5239120e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cae5bd999deab910421c886467a77f95" category="list-text">Configurare il server di verifica.  Dal menu a discesa, seleziona il server.</block>
  <block id="12689d035facad15cdb7e7df19bd89bf" category="paragraph"><block ref="12689d035facad15cdb7e7df19bd89bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eafe5ed3ae193bf0df0699f63047967c" category="list-text">Confermare la pianificazione configurata cliccando sul segno più e confermare.</block>
  <block id="acbb9c633debb26a3e087f175b289654" category="list-text">Fornire informazioni per la notifica via e-mail.  Fare clic su *Avanti*.</block>
  <block id="8ad07a45acf6df5688f612da010273b1" category="paragraph"><block ref="8ad07a45acf6df5688f612da010273b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12c3e31e09364bc821b8b38bfe3fa90b" category="paragraph">Il riepilogo dei criteri di backup per il database SQL Server è ora configurato.</block>
  <block id="108006178f32b6a576ff38219992ee68" category="paragraph"><block ref="108006178f32b6a576ff38219992ee68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f93a0490c2398c42ac8bc4c8027da25b" category="paragraph">Per creare backup di SQL Server su richiesta, completare i seguenti passaggi:</block>
  <block id="a27b159fa260ee860202b1a37efb3a24" category="list-text">Dalla vista *Risorse*, seleziona la risorsa e seleziona *Esegui backup ora*.</block>
  <block id="d2a9c6f627387a3566dcb315138dde3a" category="paragraph"><block ref="d2a9c6f627387a3566dcb315138dde3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8ebbd547f5d127b496961a116deba1b" category="list-text">Nella finestra di dialogo *Backup*, fare clic su *Backup*.</block>
  <block id="23a7cca160f90b2f02daf16ec91e7237" category="paragraph"><block ref="23a7cca160f90b2f02daf16ec91e7237" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28a70f29b174bb67f6ba18c34afe8917" category="list-text">Viene visualizzata una schermata di conferma.  Fare clic su *Sì* per confermare.</block>
  <block id="3d920ea8dfaeed2ed58312c989260f7d" category="paragraph"><block ref="3d920ea8dfaeed2ed58312c989260f7d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f8452076484ec284c5858e0a7826acc" category="section-title">Monitora il processo di backup</block>
  <block id="3c171063c0a7e42fe17578dc53e1a362" category="list-text">Dalla scheda *Monitor*, fare clic sul lavoro e selezionare *Dettagli* sulla destra per visualizzare i lavori.</block>
  <block id="099a696fea151fff4c695aa6b071d682" category="paragraph"><block ref="099a696fea151fff4c695aa6b071d682" category="inline-image-macro-rx" type="image"></block></block>
  <block id="511527506a41d2cc7e67f90f10a3495a" category="paragraph"><block ref="511527506a41d2cc7e67f90f10a3495a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="187d97d7f4855a2e10ce27f378db96dd" category="paragraph">Una volta completato il backup, nella vista Topologia viene visualizzata una nuova voce.</block>
  <block id="134678acd20d853075ff197c7c9c3fcb" category="paragraph">Per configurare un criterio di backup per più database SQL Server, creare criteri di gruppo di risorse completando i seguenti passaggi:</block>
  <block id="95fea20057274bffe889a463c6617053" category="list-text">Nella scheda *Risorse* del menu *Visualizza*, passare a un gruppo di risorse utilizzando il menu a discesa.</block>
  <block id="f15062590bac57cd4dded3874b730987" category="paragraph"><block ref="f15062590bac57cd4dded3874b730987" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d30ce7f1b8370331622f388e31ba9fd" category="list-text">Fare clic su (+*+*) per un nuovo gruppo di risorse.</block>
  <block id="83b181472f97e7d6567d03936a4d2ced" category="paragraph"><block ref="83b181472f97e7d6567d03936a4d2ced" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2267ba30d8bc4b2cb24be81ba224b9a0" category="list-text">Fornisci un nome e un tag.  Fare clic su *Avanti*.</block>
  <block id="4bbe72b07989da20083f75b872a28c45" category="paragraph"><block ref="4bbe72b07989da20083f75b872a28c45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71128d86107d5d3be141764b52ec6e0a" category="list-text">Aggiungi risorse al gruppo di risorse:</block>
  <block id="6938eb21ffd3468679899baee35fc02c" category="list-text">*Ospite.*  Selezionare dal menu a discesa il server che ospita il database.</block>
  <block id="d9cab3ec910c4d091f194a6fbe1ce649" category="list-text">*Tipo di risorsa.*  Dal menu a discesa, seleziona *Database*.</block>
  <block id="9d00adb9ff02c740bad1655a08befbc8" category="list-text">*Istanza di SQL Server.*  Seleziona il server.</block>
  <block id="730521facc86f5fabeda23f81b0ab36e" category="paragraph"><block ref="730521facc86f5fabeda23f81b0ab36e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52cbd1487d8eb5aca62ae227f26154cd" category="paragraph">L'opzione *Seleziona automaticamente tutte le risorse dallo stesso volume di archiviazione* è selezionata per impostazione predefinita.  Deseleziona l'opzione e seleziona solo i database che devi aggiungere al gruppo di risorse. Fai clic sulla freccia per aggiungere e fai clic su *Avanti*.</block>
  <block id="84c0abbddafd973fe73dd69e371ab4a3" category="paragraph"><block ref="84c0abbddafd973fe73dd69e371ab4a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4bc914d30c298d5a1be5b17d60f91d32" category="list-text">Nelle policy, clicca su (+*+*).</block>
  <block id="243d78b6ea4fe741a4fa412198d80066" category="paragraph"><block ref="243d78b6ea4fe741a4fa412198d80066" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0503c62843919fd6d77d98333ddc0d46" category="list-text">Immettere il nome del criterio del gruppo di risorse.</block>
  <block id="05b0fe9e56c5bea5ac8ce431cced917e" category="paragraph"><block ref="05b0fe9e56c5bea5ac8ce431cced917e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9260e8aa74e4c11f287ba40caa35f0b0" category="list-text">Seleziona *Backup completo* e la frequenza di pianificazione in base all'SLA della tua azienda.</block>
  <block id="f6c2be1530adb5a66375b1dc7d598e9c" category="paragraph"><block ref="f6c2be1530adb5a66375b1dc7d598e9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3d3f39805e6cab1e0c8e41e3a8045d4" category="list-text">Configurare le impostazioni di conservazione.</block>
  <block id="de6d5dc1aecdbb902a87862a50b9266b" category="paragraph"><block ref="de6d5dc1aecdbb902a87862a50b9266b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78cef2d99db22d070900dbed35c15a2c" category="paragraph"><block ref="78cef2d99db22d070900dbed35c15a2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b438cf4e498dc0e4f65b8cf167949153" category="list-text">Configurare gli script da eseguire prima di eseguire un backup.  Fare clic su *Avanti*.</block>
  <block id="ff1cf37034cd8ef253625b45e35051ca" category="paragraph"><block ref="ff1cf37034cd8ef253625b45e35051ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6504e635a92d1b0a8c52749c309ce7f6" category="list-text">Confermare la verifica per le seguenti pianificazioni di backup.</block>
  <block id="f2eb367ca50e721b000dca52f3b250df" category="paragraph"><block ref="f2eb367ca50e721b000dca52f3b250df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06919ef230a779cfc26a7b40e58c155f" category="list-text">Nella pagina *Riepilogo*, verifica le informazioni e fai clic su *Fine*.</block>
  <block id="c56dfb24cbd84ab2aa638beedfc903df" category="paragraph"><block ref="c56dfb24cbd84ab2aa638beedfc903df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03db038251d30409b163cac10e15fb64" category="section-title">Configurare e proteggere più database SQL Server</block>
  <block id="60d1f006544fc2635c785f35a2bb75fa" category="list-text">Fare clic sul segno (*+*) per configurare la data di inizio e la data di scadenza.</block>
  <block id="8670dcc752ab05514268acf8a4031067" category="paragraph"><block ref="8670dcc752ab05514268acf8a4031067" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1709dfd12096305753ee7705ead06515" category="list-text">Imposta l'ora.</block>
  <block id="098a44366312b953a5d068f9c9829977" category="paragraph"><block ref="098a44366312b953a5d068f9c9829977" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37809c83f3a7be241f15b815b21c4d98" category="paragraph"><block ref="37809c83f3a7be241f15b815b21c4d98" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1dc4c7af7fe0f51e864695931afcc5d" category="list-text">Dalla scheda *Verifica*, seleziona il server, configura la pianificazione e fai clic su *Avanti*.</block>
  <block id="28107504bea3914bf67b28e84c3755c5" category="paragraph"><block ref="28107504bea3914bf67b28e84c3755c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b91c4ea39a59e7c5891197a3b275c62c" category="list-text">Configura le notifiche per inviare un'e-mail.</block>
  <block id="b805dff566d3335d804bb465bcc8b48a" category="paragraph"><block ref="b805dff566d3335d804bb465bcc8b48a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="017b37b38c310ea0d90dccec6f86d049" category="paragraph">Il criterio è ora configurato per il backup di più database SQL Server.</block>
  <block id="65edb050e309b32337d026f505eb050b" category="paragraph"><block ref="65edb050e309b32337d026f505eb050b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="86b13e5f17a2bd60ebf403962a656abb" category="section-title">Attiva il backup su richiesta per più database SQL Server</block>
  <block id="f7dde35cb7209b4eae92eb8ec9dbe3ea" category="list-text">Dalla scheda *Risorsa*, seleziona Visualizza.  Dal menu a discesa, seleziona *Gruppo di risorse*.</block>
  <block id="2c19763796ab45144962d697bf000ff5" category="paragraph"><block ref="2c19763796ab45144962d697bf000ff5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdbf213e9f1bcad7fef14029eb9b537b" category="list-text">Selezionare il nome del gruppo di risorse.</block>
  <block id="1ac4dec59e8f8197fb29b8bfa0237d91" category="list-text">Fare clic su *Esegui backup ora* in alto a destra.</block>
  <block id="1cdf32c91297cf992cc0fd241e17148b" category="paragraph"><block ref="1cdf32c91297cf992cc0fd241e17148b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d29aeb4de3166648265a417a3ebdfa8d" category="list-text">Si apre una nuova finestra.  Fare clic sulla casella di controllo *Verifica dopo il backup* e quindi fare clic su backup.</block>
  <block id="f9f8bdefaa510ecb00dcacadaeebfa4c" category="paragraph"><block ref="f9f8bdefaa510ecb00dcacadaeebfa4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b01a18ba54b03ab361195cda9e11a04" category="list-text">Viene visualizzato un messaggio di conferma.  Fare clic su *Sì*.</block>
  <block id="cf1faae3398a2472542796e6e1a716ee" category="paragraph"><block ref="cf1faae3398a2472542796e6e1a716ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c39edf183648c1d5db4f2c93fb4eb28" category="section-title">Monitorare i processi di backup di più database</block>
  <block id="1010c73c274c132c818aa34d45372dd5" category="paragraph">Dalla barra di navigazione a sinistra, fare clic su *Monitoraggio*, selezionare il processo di backup e fare clic su *Dettagli* per visualizzare l'avanzamento del processo.</block>
  <block id="a192a442137877f8a2c0cc9e7fb10138" category="paragraph"><block ref="a192a442137877f8a2c0cc9e7fb10138" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf2af39d79fe9b75d3b016a40a1cb886" category="paragraph">Fare clic sulla scheda *Risorsa* per visualizzare il tempo necessario al completamento del backup.</block>
  <block id="a598f2d8c25ebb000d9ea8101d48c872" category="paragraph"><block ref="a598f2d8c25ebb000d9ea8101d48c872" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b702b14abe98f98e647cd791bcb90f8d" category="section-title">Backup del registro delle transazioni per il backup di più database</block>
  <block id="26d8c1709e6a02cee73b16f5c2acf6dc" category="paragraph">SnapCenter supporta i modelli di ripristino completo, con registrazione in blocco e semplice.  La modalità di ripristino semplice non supporta il backup del registro transazionale.</block>
  <block id="a60ccf2e4a30da040f5a49732187a6b7" category="paragraph">Per eseguire un backup del registro delle transazioni, completare i seguenti passaggi:</block>
  <block id="be7235e7e6dc252e8daebedf54c3b6c7" category="list-text">Dalla scheda *Risorse*, modificare il menu di visualizzazione da *Database* a *Gruppo di risorse*.</block>
  <block id="2d2769239fb96da78529f7fe58541a20" category="paragraph"><block ref="2d2769239fb96da78529f7fe58541a20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c48d8cc9d4f748c135f5b4812c1d7412" category="list-text">Selezionare il criterio di backup del gruppo di risorse creato.</block>
  <block id="f38bbe0d9131c48ea9ee602675754140" category="list-text">Selezionare *Modifica gruppo di risorse* in alto a destra.</block>
  <block id="43947bdb92a7373ee3b41cd8b6200b6a" category="paragraph"><block ref="43947bdb92a7373ee3b41cd8b6200b6a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d4b5ab9594400df9f8e77cbab0abea7" category="list-text">Per impostazione predefinita, la sezione *Nome* contiene il nome e il tag del criterio di backup.  Fare clic su *Avanti*.</block>
  <block id="9a35ea0c782dad0d67865885d193f274" category="paragraph">La scheda *Risorse* evidenzia le basi in base alle quali deve essere configurata la policy di backup delle transazioni.</block>
  <block id="458defe062e7ea5d2bcf33c4c9ec6c13" category="paragraph"><block ref="458defe062e7ea5d2bcf33c4c9ec6c13" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6daf111fad11fdef17162a8f8bf18b9c" category="list-text">Inserisci il nome della policy.</block>
  <block id="6b3f52aec1766c70a8f4a47e0b14c3ce" category="paragraph"><block ref="6b3f52aec1766c70a8f4a47e0b14c3ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7f993771df9dbe7cf6b38a0f84b409d7" category="list-text">Selezionare le opzioni di backup di SQL Server.</block>
  <block id="ac47af84d5357e6141e59c1659b4ffb1" category="list-text">Selezionare il backup del registro.</block>
  <block id="e7e910bafda9e74cf082f59a9db69bdd" category="list-text">Imposta la frequenza di programmazione in base all'RTO della tua azienda.  Fare clic su *Avanti*.</block>
  <block id="ae3884ff49644b7e616c4015f235dee1" category="paragraph"><block ref="ae3884ff49644b7e616c4015f235dee1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6a1a00356a0947050a129ae89c585c9" category="list-text">Configurare le impostazioni di conservazione del backup del registro.  Fare clic su *Avanti*.</block>
  <block id="ea044ffadb2c0a7f2d8a76ca1855a5c6" category="paragraph"><block ref="ea044ffadb2c0a7f2d8a76ca1855a5c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46caf3d6b884d110f60cf7f4937e7519" category="list-text">(Facoltativo) Configurare le opzioni di replica.</block>
  <block id="48d01452f102ee972f87e53e03583b85" category="paragraph"><block ref="48d01452f102ee972f87e53e03583b85" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1a4bc0234ce8dfcbb64e7eeee67fad6" category="list-text">(Facoltativo) Configurare gli script da eseguire prima di eseguire un processo di backup.</block>
  <block id="7085433ef1c064681b05d5b77244ce17" category="paragraph"><block ref="7085433ef1c064681b05d5b77244ce17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec35f0f916d59604b82ba19007187115" category="list-text">(Facoltativo) Configurare la verifica del backup.</block>
  <block id="5b1bb67e27c24b68f63f19b213aeeae7" category="paragraph"><block ref="5b1bb67e27c24b68f63f19b213aeeae7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4a7ecfa93fa04065caa7a2ead6d3d113" category="list-text">Nella pagina *Riepilogo*, fare clic su *Fine*.</block>
  <block id="49e388563235bc90a78e78dd3ac03e0f" category="paragraph"><block ref="49e388563235bc90a78e78dd3ac03e0f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21c62f698c67203ca218e38cedd9fd4a" category="section-title">Configurare e proteggere più database MSSQL Server</block>
  <block id="851434acbe50444b77cc093290088e54" category="list-text">Fare clic sul criterio di backup del registro delle transazioni appena creato.</block>
  <block id="b1289050b5db1595140e16164088e7d0" category="paragraph"><block ref="b1289050b5db1595140e16164088e7d0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8dc5a42c40277ce2884bea86757d8dda" category="list-text">Imposta la *Data di inizio* e la data di *Scadenza*.</block>
  <block id="2137cef28d44fe16621167c38bd398e5" category="list-text">Immettere la frequenza della policy di backup del registro in base a SLA, RTP e RPO.  Fare clic su OK.</block>
  <block id="c7fcd07f35aaee60860fce43d2577b32" category="paragraph"><block ref="c7fcd07f35aaee60860fce43d2577b32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eef345e42eb1ff7b7177a232bb1d1247" category="list-text">Puoi vedere entrambe le politiche.  Fare clic su *Avanti*.</block>
  <block id="9860ad0e974d4cf04e0372784a0ae60f" category="paragraph"><block ref="9860ad0e974d4cf04e0372784a0ae60f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d3d450b94383f42a06333f58c0ffb5a" category="list-text">Configurare il server di verifica.</block>
  <block id="87da78d8a5c05fc81ea91000728ba3e4" category="paragraph"><block ref="87da78d8a5c05fc81ea91000728ba3e4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b705cea4d9eb8b1497ffce97bfe3609" category="list-text">Configurare la notifica via email.</block>
  <block id="4cb060d4d1683049149f189ab41d1721" category="paragraph"><block ref="4cb060d4d1683049149f189ab41d1721" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc7bc6e892891ffd8e8372d60c79de89" category="paragraph"><block ref="cc7bc6e892891ffd8e8372d60c79de89" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ea4baaafde2e79cfcd31d97b84b1a12" category="section-title">Attivazione di un backup del registro delle transazioni su richiesta per più database SQL Server</block>
  <block id="a75cd7342eb195ccea0a0f5ef399cb13" category="paragraph">Per attivare un backup su richiesta del registro transazionale per più database SQL Server, completare i seguenti passaggi:</block>
  <block id="f790ac7cb18962dff9c720679845e234" category="list-text">Nella pagina dei criteri appena creata, seleziona *Esegui backup ora* in alto a destra della pagina.</block>
  <block id="406cef8d9aef096206de115c8cd4ed4c" category="paragraph"><block ref="406cef8d9aef096206de115c8cd4ed4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1552095f0c2d2521f14458e1899ee71b" category="list-text">Dal pop-up nella scheda *Criterio*, seleziona il menu a discesa, seleziona il criterio di backup e configura il backup del registro delle transazioni.</block>
  <block id="100b9701f6883e83bf6bda43a1ee9f64" category="paragraph"><block ref="100b9701f6883e83bf6bda43a1ee9f64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0df35ef9b242c9f422a4cc2e1784903" category="list-text">Fare clic su *Backup*.  Viene visualizzata una nuova finestra.</block>
  <block id="b16f685ee226b95caaad151608f96a19" category="list-text">Fare clic su *Sì* per confermare la policy di backup.</block>
  <block id="c09c9245d3b407537c8fa8713f23fb75" category="paragraph"><block ref="c09c9245d3b407537c8fa8713f23fb75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0ccd5722bd3156105a495a57a9fcc19" category="paragraph">Passare alla scheda *Monitoraggio* e monitorare l'avanzamento del processo di backup.</block>
  <block id="49d22ab1e258e738c63d0b66999cdf5b" category="paragraph"><block ref="49d22ab1e258e738c63d0b66999cdf5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4a58eef11580db01b6b09289a7975b6" category="paragraph">Vedere i seguenti prerequisiti necessari per il ripristino di un database SQL Server in SnapCenter.</block>
  <block id="7ddc4eb994d251e5502d17ee020d88ad" category="list-text">L'istanza di destinazione deve essere online e in esecuzione prima che un processo di ripristino venga completato.</block>
  <block id="4c5a871f473eb2bc6ade24dc7c9abda4" category="list-text">Le operazioni SnapCenter pianificate per l'esecuzione sul database di SQL Server devono essere disabilitate, compresi tutti i processi pianificati sui server di gestione remota o di verifica remota.</block>
  <block id="542e99a23c6a8ebaa0cc7df2db932223" category="list-text">Se si ripristinano backup personalizzati della directory di registro su un host alternativo, il server SnapCenter e l'host del plugin devono avere installata la stessa versione SnapCenter .</block>
  <block id="81ec57bf05a69240771c922d647a651c" category="list-text">È possibile ripristinare il database di sistema su un host alternativo.</block>
  <block id="ec5b173df4b3313050ca64425e06f516" category="list-text">SnapCenter può ripristinare un database in un cluster Windows senza disconnettere il gruppo di cluster SQL Server.</block>
  <block id="042d132354b0d48ad24ee674bebdb6af" category="section-title">Ripristino di tabelle eliminate su un database SQL Server a un punto nel tempo</block>
  <block id="4b4968094e7a3d8c79f9bc8caa8b22e4" category="paragraph">Per ripristinare un database SQL Server a un punto nel tempo, completare i seguenti passaggi:</block>
  <block id="6df13174e00d0f623a406e9148d1548c" category="list-text">La seguente schermata mostra lo stato iniziale del database SQL Server prima dell'eliminazione delle tabelle.</block>
  <block id="6b7fa02a488d07abda93c214afd631c5" category="paragraph"><block ref="6b7fa02a488d07abda93c214afd631c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d61cd88cd62206db3a9f9cab1565d3ad" category="paragraph">Lo screenshot mostra che sono state eliminate 20 righe dalla tabella.</block>
  <block id="a8e81bc445fb776723fcc2f4aba88df9" category="paragraph"><block ref="a8e81bc445fb776723fcc2f4aba88df9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d3c565402042673af1d4898a8ff52a9" category="list-text">Accedi a SnapCenter Server.  Dalla scheda *Risorse*, seleziona il database.</block>
  <block id="ef2417d50948fd4128465df5a0044eed" category="paragraph"><block ref="ef2417d50948fd4128465df5a0044eed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a69269402d35f0cccddfd918911a97d9" category="list-text">Seleziona il backup più recente.</block>
  <block id="583e868d2c26244722b015fea16af076" category="list-text">Sulla destra, seleziona *Ripristina*.</block>
  <block id="2059575a57677d48bc76e7a27b433de7" category="paragraph"><block ref="2059575a57677d48bc76e7a27b433de7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39435af0deb93996df3394c1b2036fd8" category="list-text">Viene visualizzata una nuova finestra.  Selezionare l'opzione *Ripristina*.</block>
  <block id="d7020dd530a8bef5050168b840079b00" category="list-text">Ripristinare il database sullo stesso host in cui è stato creato il backup.  Fare clic su *Avanti*.</block>
  <block id="9090e2638adbfd492803ec840c508d8c" category="paragraph"><block ref="9090e2638adbfd492803ec840c508d8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="503e2d366ad9c17a4f549670670ad33e" category="list-text">Per *Tipo di ripristino*, selezionare *Tutti i backup del registro*.  Fare clic su *Avanti*.</block>
  <block id="96a8afe63f129a191367451f72405a9b" category="paragraph"><block ref="96a8afe63f129a191367451f72405a9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f62d3af2ed775633744765e13ceea92b" category="paragraph"><block ref="f62d3af2ed775633744765e13ceea92b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e63cae13f4b41b3fe8c7e3fec3319f06" category="paragraph">*Opzioni di pre-ripristino:*</block>
  <block id="de181095a646159b289fbcdbcf419e7b" category="list-text">Selezionare l'opzione *Sovrascrivi il database con lo stesso nome durante il ripristino*.  Fare clic su *Avanti*.</block>
  <block id="2fe5e5a15d38cc3a3de56b09639004ca" category="paragraph"><block ref="2fe5e5a15d38cc3a3de56b09639004ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ed71c6a01179057b2d9bf0077204c6b" category="paragraph">*Opzioni post-ripristino:*</block>
  <block id="9cfc344a514e0de0c6b807382b26c075" category="list-text">Selezionare l'opzione *Operativo, ma non disponibile per il ripristino di registri delle transazioni aggiuntivi*.  Fare clic su *Avanti*.</block>
  <block id="b1fa76d6d5e0efb7d7e2524b46e8110a" category="paragraph"><block ref="b1fa76d6d5e0efb7d7e2524b46e8110a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8420a5fc7b326a91c636b314aa454ec6" category="list-text">Fornire le impostazioni e-mail.  Fare clic su *Avanti*.</block>
  <block id="d218f4b7f9c9719a9243c0b0d76eb083" category="paragraph"><block ref="d218f4b7f9c9719a9243c0b0d76eb083" category="inline-image-macro-rx" type="image"></block></block>
  <block id="189945d7eb38e10b81a89111a89dc07e" category="paragraph"><block ref="189945d7eb38e10b81a89111a89dc07e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4506debb4b8eeba79855725078a52afb" category="section-title">Monitoraggio dell'avanzamento del ripristino</block>
  <block id="9aff1c679025b15fa483f8f730686633" category="list-text">Dalla scheda *Monitoraggio*, fare clic sui dettagli del processo di ripristino per visualizzarne l'avanzamento.</block>
  <block id="ca90adad798b8064f457e3e227f16626" category="paragraph"><block ref="ca90adad798b8064f457e3e227f16626" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2f265e204d2aa866e88f009e207aa68" category="list-text">Ripristina i dettagli del lavoro.</block>
  <block id="ea058dfa3976575a8bba81e32fca356a" category="paragraph"><block ref="ea058dfa3976575a8bba81e32fca356a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c5d988b8258420ba376fd703ae323bd" category="list-text">Torna a SQL Server host &gt; database &gt; tabella sono presenti.</block>
  <block id="990f2c472997ae0e656e936d74d82472" category="paragraph"><block ref="990f2c472997ae0e656e936d74d82472" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d5b957cd473f6eaf5ad335a9c63c4ff" category="paragraph">Per saperne di più sulle informazioni descritte nel presente documento, consultare i seguenti documenti e/o siti web:</block>
  <block id="425103b894468ffe6015f984f2683d74" category="inline-link">TR-4714: Guida alle best practice per Microsoft SQL Server con NetApp SnapCenter</block>
  <block id="9c42feba6d2410200720e2ceda752e13" category="list-text"><block ref="9c42feba6d2410200720e2ceda752e13" category="inline-link-rx"></block></block>
  <block id="ee50ef71e7fa5dbc3292cb856c5f8ee5" category="inline-link"><block ref="ee50ef71e7fa5dbc3292cb856c5f8ee5" category="inline-link-rx"></block></block>
  <block id="822d30d1b5bfcb219aa830739d5b89a0" category="paragraph"><block ref="822d30d1b5bfcb219aa830739d5b89a0" category="inline-link-rx"></block></block>
  <block id="818095849ac39056a1077a0f3a155684" category="inline-link">Requisiti per il ripristino di un database</block>
  <block id="0305a2a48c225d49081b5bccd776b23d" category="list-text"><block ref="0305a2a48c225d49081b5bccd776b23d" category="inline-link-rx"></block></block>
  <block id="9f413d2e154ecad28af03b6125df6837" category="inline-link"><block ref="9f413d2e154ecad28af03b6125df6837" category="inline-link-rx"></block></block>
  <block id="98c7a90e9f834e61987ed9dd4072a0f3" category="paragraph"><block ref="98c7a90e9f834e61987ed9dd4072a0f3" category="inline-link-rx"></block></block>
  <block id="9b256b378583dbf8a4aea7e4d96460ff" category="list-text">Comprensione dei cicli di vita dei database clonati</block>
  <block id="a35c63f82a8b880dd7d77b8868394548" category="inline-link"><block ref="a35c63f82a8b880dd7d77b8868394548" category="inline-link-rx"></block></block>
  <block id="622d6fd30919e1009adf5b3b6a9b61c4" category="paragraph"><block ref="622d6fd30919e1009adf5b3b6a9b61c4" category="inline-link-rx"></block></block>
  <block id="ebcadd0d5b1096e72d18133b1e0e3098" category="doc">TR-4467: SAP con Microsoft SQL Server su Windows - Procedure consigliate con NetApp Clustered Data ONTAP e SnapCenter</block>
  <block id="611a4a6b98272a717f8e1f6bf5ba787b" category="paragraph">Marco Schoen, NetApp</block>
  <block id="dbd408dfbba42c9529974244acc200aa" category="paragraph">TR-4467 fornisce a clienti e partner le best practice per l'implementazione di NetApp Data ONTAP in cluster a supporto delle soluzioni SAP Business Suite in esecuzione in un ambiente Microsoft SQL Server su Windows.</block>
  <block id="d90b6dfa1c90883fc207f3309f98b1bf" category="paragraph"><block ref="d90b6dfa1c90883fc207f3309f98b1bf" category="inline-link-macro-rx"></block></block>
  <block id="0502e6755528910223db364699e71622" category="doc">TR-4590: Guida alle best practice per Microsoft SQL Server con ONTAP</block>
  <block id="7788b16f8e56867380c0e39b9e9a9b73" category="paragraph">Manohar Kulkarni e Pat Sinthusan, NetApp</block>
  <block id="cf2906d4a365d3dbf40f1f495ff7a0eb" category="paragraph">Questo documento descrive le best practice e offre approfondimenti sulle considerazioni di progettazione per l'implementazione di SQL Server su sistemi di storage NetApp che eseguono il software NetApp ONTAP , con l'obiettivo di ottenere un'implementazione dello storage efficace ed efficiente e una pianificazione end-to-end della protezione e della conservazione dei dati.</block>
  <block id="ddfcd18933c13e026412b8c36996dbaf" category="inline-link-macro">TR-4590: Guida alle best practice per Microsoft SQL Server con ONTAP</block>
  <block id="49814a6b08319963f5bef4f7ea99cfb5" category="paragraph"><block ref="49814a6b08319963f5bef4f7ea99cfb5" category="inline-link-macro-rx"></block></block>
  <block id="046c9e52934c311f81497ca664d86a24" category="doc">TR-4764: Best practice per Microsoft SQL Server con NetApp EF-Series</block>
  <block id="d9cd8ac988f5ea26e28a2da5f3485ff9" category="paragraph">Mitch Blackburn, Pat Sinthusan, NetApp</block>
  <block id="9db08b91ae68a77b71af230b40b31325" category="paragraph">Questa guida alle best practice è pensata per aiutare gli amministratori di storage e gli amministratori di database a distribuire correttamente Microsoft SQL Server sullo storage NetApp EF-Series.</block>
  <block id="730874cec0e792d7ebad5a796a90b3be" category="paragraph"><block ref="730874cec0e792d7ebad5a796a90b3be" category="inline-link-macro-rx"></block></block>
  <block id="d79b12332bd4254f1e9cd6c23201a104" category="doc">TR-4722: Best practice per il database MySQL su NetApp ONTAP</block>
  <block id="ecb384a7266ef6f8f011aa654a810c39" category="paragraph">Anup Bharti, Manohar Kulkarni, Jeffrey Steiner NetApp</block>
  <block id="ccf4f5e223b1332c8f679f6a75664cae" category="paragraph">MySQL e le sue varianti, tra cui MariaDB e Percona, sono ampiamente utilizzati per numerose applicazioni aziendali.  Queste applicazioni spaziano dai siti di social network globali e dai grandi sistemi di e-commerce ai sistemi di hosting SMB contenenti migliaia di istanze di database.  Questo documento descrive i requisiti di configurazione e fornisce indicazioni sulla configurazione dell'ottimizzazione e dell'archiviazione per l'implementazione di MySQL sul software di gestione dati NetApp ONTAP .  Per determinare se l'ambiente, le configurazioni e le versioni specificati in questo report supportano il tuo ambiente, consulta lo strumento Interoperability Matrix Tool (IMT).</block>
  <block id="74836ad3df3c237074f67acbd8f54d15" category="paragraph"><block ref="74836ad3df3c237074f67acbd8f54d15" category="inline-link-macro-rx"></block></block>
  <block id="1706135f6c2fde8c4247ce7ca185ca31" category="summary">La soluzione fornisce un toolkit di automazione basato su Ansible per la configurazione, la clonazione e l'aggiornamento di un database Oracle Very Large Database (VLDB) clonato da una copia di backup dell'immagine del database Oracle residente nei volumi cloud NetApp , disponibili da una piattaforma cloud pubblica.  Inizialmente il toolkit supporta Google Cloud NetApp Volumes (GCNV), ma potrebbe essere ampliato per supportare altri volumi cloud come Azure NetApp Files (ANF) o Amazon FSx for ONTAP (FSxN).</block>
  <block id="2d67940d27634da3418e76cfa66225cb" category="doc">Ciclo di vita automatizzato di clonazione Oracle VLDB con backup dell'immagine nel server</block>
  <block id="dbc72de5a3b33e77559867d3a7e8e524" category="paragraph">Sfruttare la funzionalità di clonazione rapida (in pochi minuti) dei volumi NetApp ONTAP per Oracle VLDB da una copia di backup dell'immagine del database nel server nel cloud pubblico serve a molteplici scopi.  Fornisce un database di produzione completo e in tempo quasi reale per casi d'uso di reporting, sviluppo o UAT.  Consente di risparmiare sui costi di archiviazione, in particolare quando è possibile effettuare una clonazione sottile dei volumi di backup del database primario.  Questo toolkit di automazione basato su Ansible consente agli utenti di configurare, clonare e aggiornare i database Oracle clonati in base alle pianificazioni desiderate dall'utente, per una gestione semplificata del ciclo di vita.  Il toolkit è pensato per il caso d'uso di Oracle VLDB distribuito sul cloud pubblico di Google e impiega GCNV come storage di backup del database nel server.</block>
  <block id="868fdcb1d29bcb2b687235f9fbc622c7" category="list-text">Imposta i file di configurazione del clone del database per la clonazione automatica del database Oracle.</block>
  <block id="f4e5348def558e4db47cf81abde78bb6" category="list-text">Crea o aggiorna un database Oracle clone da una copia di backup dell'immagine del database primario utilizzando un playbook Ansible su uno scheduler.</block>
  <block id="944c1a2be8795d0d68670959fdd7d6ae" category="list-text">Un proprietario di un'applicazione che desidera clonare i database Oracle da una copia di backup dell'immagine del database per altri casi d'uso.</block>
  <block id="527a240fc9b803bb21adf3d090d97286" category="admonition">Per semplificare, il server Oracle di destinazione del clone dovrebbe essere configurato in modo identico al server Oracle primario, come lo stack software Oracle e il layout delle directory per Oracle Home, ecc.</block>
  <block id="015dba467992caeec1ef3f7bc7ea6797" category="paragraph">Il toolkit include un file hosts che definisce gli host Oracle di origine e di destinazione su cui viene eseguito il playbook Ansible.  Solitamente include l'host del server del database primario e l'host del server del database clone di destinazione.  Di seguito è riportato un file di esempio.  Una voce host include l'indirizzo IP dell'host di destinazione e la chiave ssh per l'accesso dell'utente all'host per eseguire il comando clone o refresh.  L'accesso e la gestione dello storage Google Cloud NetApp Volumes avvengono tramite gcloud cli.</block>
  <block id="342ef9e1a0508a0765f380a419f76f50" category="paragraph">Le variabili host sono definite nella directory host_vars denominata {{ host_name }}.yml e si applicano solo all'host specifico.  Per questa soluzione, viene configurato solo il file dei parametri host del database clone di destinazione.  I parametri del database primario Oracle sono configurati nel file global vars.  Di seguito è riportato un esempio di file di variabili host del database clone Oracle di destinazione orac.yml che mostra una configurazione tipica.</block>
  <block id="08f18ffb22434781a2894c117fbb8f87" category="paragraph">Il server Oracle di destinazione clone deve avere lo stesso stack software Oracle del server Oracle di origine installato e patchato.  Idealmente, la variabile $ORACLE_HOME dovrebbe corrispondere all'impostazione del server Oracle di origine.  Se l'impostazione ORACLE_HOME di destinazione è diversa dalla configurazione del server Oracle primario, creare un collegamento simbolico per aggirare le differenze.</block>
  <block id="e093a58397af4521c44cb6c9e3e287ce" category="paragraph">Se il database primario è configurato con ASM, il gruppo primario dei file di dati può appartenere al gruppo asm e lo stesso gruppo asm con lo stesso ID gruppo deve essere aggiunto all'host clone per evitare problemi di autorizzazione.</block>
  <block id="99247d1f4aef664b16648f2ddcf4e6cf" category="paragraph">Per clonare eventuali database aggiuntivi, creare un file oracle_bkup_clone_n_gcnv.yml e un file oracle_bkup_clone_n_gcnv.sh separati.  Configurare di conseguenza gli host di destinazione Ansible, il file vars.yml globale e il file hostname.yml nella directory host_vars.</block>
  <block id="ce7362bea27188fd92bae39021738660" category="section-title">Dettagli di esecuzione del playbook</block>
  <block id="f40a38fbc1ac57e276f37a9b5baabb1d" category="paragraph">Il seguente file di registro cattura i dettagli dell'output di un'esecuzione completa del playbook a scopo di riferimento.</block>
  <block id="87561d435f6cd79a59659b543d2991ca" category="summary">Questa sezione illustra un'architettura di soluzione di distribuzione personalizzata RDS Oracle con storage Oracle RDS e FSx ONTAP personalizzato.</block>
  <block id="a40893fa754ed62d5268702b023fea91" category="doc">Architettura della soluzione</block>
  <block id="ca449b8ca808c6d325abf6b1a047318c" category="paragraph">Il seguente diagramma di architettura illustra una distribuzione di database Oracle ad alta disponibilità su un'istanza AWS EC2 con il servizio di archiviazione FSx.  Per il ripristino in caso di disastro è possibile impostare uno schema di distribuzione simile, ma con la riserva in una regione diversa.</block>
  <block id="312f941d9e8f224f54ae372016e8f35a" category="paragraph">All'interno dell'ambiente, l'istanza di elaborazione Oracle viene distribuita tramite una console di istanza AWS EC2.  Sono disponibili più tipi di istanze EC2 dalla console.  NetApp consiglia di distribuire un tipo di istanza EC2 orientata al database, come un'immagine m5 Ami con RedHat Enterprise Linux 8 e fino a 10 Gps di larghezza di banda di rete.</block>
  <block id="228488653f80c4dfe7bd79d5f9634ea4" category="paragraph">L'archiviazione del database Oracle sui volumi FSx, invece, viene distribuita tramite la console AWS FSx o la CLI.  Successivamente, i volumi binari, di dati o di registro di Oracle vengono presentati e montati su un host Linux di istanza EC2.  A ciascun volume di dati o di registro possono essere assegnati più LUN, a seconda del protocollo di archiviazione sottostante utilizzato.</block>
  <block id="830579b4d0c33e9e4fa1f11c61cb73a7" category="inline-image-macro">Questa immagine illustra un diagramma di architettura di esempio che include il cluster HA primario, il cluster HA di standby, i nodi di gestione e i nodi di connessione correlati.</block>
  <block id="b87701d1e5946de8467bd302a04772ae" category="paragraph"><block ref="b87701d1e5946de8467bd302a04772ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3d0f7ae75ed6e0e3b522ecc7cac710b" category="paragraph">Un cluster di storage FSx è progettato con doppia ridondanza, in modo che sia il cluster di storage primario che quello di standby vengano distribuiti in due diverse zone di disponibilità.  I volumi del database vengono replicati da un cluster FSx primario a un cluster FSx di standby a intervalli configurabili dall'utente per tutti i volumi binari, di dati e di log di Oracle.</block>
  <block id="0008c12bed67fcf1f82ece8ff10b5c81" category="paragraph">Questo ambiente Oracle ad alta disponibilità è gestito tramite un nodo controller Ansible, un server di backup SnapCenter e uno strumento UI.  L'installazione, la configurazione e la replica di Oracle sono automatizzate tramite kit di strumenti basati su playbook Ansible.  Qualsiasi aggiornamento del sistema operativo del kernel dell'istanza Oracle EC2 o patching Oracle può essere eseguito in parallelo per mantenere sincronizzati il sistema primario e quello di standby.  Infatti, la configurazione iniziale dell'automazione può essere facilmente ampliata per eseguire alcune attività Oracle quotidiane ricorrenti, se necessario.</block>
  <block id="be571c48040d6c3bf764ba40188888d2" category="paragraph">SnapCenter fornisce flussi di lavoro per il ripristino point-in-time del database Oracle o per la clonazione del database nelle zone primaria o di standby, se necessario.  Tramite l'interfaccia utente SnapCenter , è possibile configurare il backup e la replica del database Oracle su storage FSx in standby per un'elevata disponibilità o un ripristino di emergenza in base agli obiettivi RTO o RPO.</block>
  <block id="be22c0b35f58a932be14c9e55b163ac4" category="paragraph">La soluzione fornisce un processo alternativo che offre funzionalità simili a quelle disponibili nell'implementazione di Oracle RAC e Data Guard.</block>
  <block id="84f09994e75c5ede8e07c6ab4070faae" category="summary">Questa sezione fornisce dettagli sulla convalida delle prestazioni e sui risultati di benchmark di un carico di lavoro OLTP simulato da Swingbench.</block>
  <block id="d9a4da5bae7f5f09fa9c3850a052c626" category="doc">Validazione delle prestazioni e risultati di benchmark</block>
  <block id="4e71b9ce7d16c817e38c3c0b45825062" category="paragraph">L'obiettivo di questa convalida delle prestazioni non è quello di stabilire alcun punteggio.  Piuttosto, se si seguono le procedure di distribuzione e le best practice descritte in questa documentazione, è possibile aspettarsi metriche di prestazioni simili dalla distribuzione del database Oracle in un cloud pubblico.</block>
  <block id="0215fc4537f81bbc2d6ff19ba75efeb5" category="paragraph">Abbiamo utilizzato un modulo Swingbench Sales Order Entry (SOE) per simulare un carico di lavoro di tipo OLTP e abbiamo applicato il carico di lavoro a un database Oracle distribuito su un'istanza M5 EC2 con volumi di archiviazione FSx sul protocollo NFS.  Il profilo I/O SOE di Swingbench predefinito è prossimo a una suddivisione di lettura/scrittura 80/20, che è simile a un profilo di carico di lavoro Oracle OLTP reale.</block>
  <block id="611831b4b814ffa8e208ff6b01e797d9" category="paragraph">Il carico di lavoro viene incrementato aumentando il numero di utenti simultanei sul lato client che eseguono l'inserimento di ordini di vendita, la navigazione, le query di inventario e così via.  Sono stati testati 8, 16, 32, 64 e 128 utenti simultanei.  L'algoritmo utilizzato da Swingbench è pesantemente sul lato server per raggiungere volumi di transazioni ragionevoli e testare i limiti del server Oracle.  Abbiamo osservato che, con 128 utenti simultanei, l'utilizzo della CPU dell'istanza EC2 ha raggiunto circa l'80-90% della capacità.</block>
  <block id="a5cbb12f8f9f28c970230ab16d36e184" category="paragraph">Le sezioni seguenti forniscono dettagli sulla configurazione e sui risultati dei test.</block>
  <block id="e018eaf806fedc0fa46d2acde6f60425" category="section-title">Configurazione dell'ambiente di test</block>
  <block id="a623a8d0366bf079411aa30be45b2d10" category="section-title">Calcolare</block>
  <block id="ff4adf700c0c4ba7e493af033a81ac29" category="paragraph">Abbiamo distribuito un'istanza EC2 M5 con 8 vCPU, 32 GB di RAM e 10 Gps di larghezza di banda di rete.</block>
  <block id="db98c654e17128cf4bb2dccf030f91d5" category="paragraph"><block ref="db98c654e17128cf4bb2dccf030f91d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5e18ca4731d9d72ae0bd4438c7e84b5" category="section-title">Archiviazione FSx</block>
  <block id="dc29ebaf5cc1f622aabb0ae70efeced6" category="paragraph">Abbiamo creato tre volumi di database e li abbiamo montati con NFS su un'istanza EC2 come segue:</block>
  <block id="829e4dfdaee315e0cfdba47e5047adf7" category="list-text">/u01 - Binario Oracle</block>
  <block id="5853f5304485ce536b44cd0dfb18bdbc" category="list-text">/u02 - File di dati Oracle, file di controllo</block>
  <block id="ee6ac3c6792e507ea8c5717f79c8ab46" category="list-text">/u03 - File di registro Oracle, file di controllo</block>
  <block id="363dd83f018d937efa507464961997c5" category="paragraph">Abbiamo conservato due copie di un file di controllo critico per ridondanza.</block>
  <block id="27809f611e3f3ea83f75a34521d09141" category="paragraph"><block ref="27809f611e3f3ea83f75a34521d09141" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c8184a7a7a9ecb63af93d93759b393" category="paragraph">Il file system FSx è configurato con una capacità di 80.000 IOPS e una velocità di elaborazione I/O di 2 GiBps.</block>
  <block id="3570146db42993029d30dbd022107030" category="section-title">Configurazione Oracle</block>
  <block id="9daecb8faf1751109e100894205a6aef" category="paragraph">Abbiamo installato Oracle versione 19c con patch RU 19.8. Sul server era abilitato dNFS.</block>
  <block id="9041eebdfc5395440a43baff789c663b" category="paragraph">Il database è stato distribuito come database containerizzato con tre PDB.  Abbiamo utilizzato un'istanza PDB per i test delle prestazioni.  La figura seguente mostra il dimensionamento dello storage Oracle sui punti di montaggio NFS.</block>
  <block id="a8db43ee55b8a44b31749786182e24fb" category="paragraph"><block ref="a8db43ee55b8a44b31749786182e24fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8da929e8cdb57e8ea66260e3f7090d35" category="section-title">Configurazione Swingbench</block>
  <block id="6af00d716d36ee74995307e004b66d3f" category="paragraph">Abbiamo distribuito Swingbench 2.6 (la versione più recente) su un host Windows con 8 vCPU e 32 GB di RAM.  Per il benchmark abbiamo utilizzato il modulo di test SOE plsql versione 2.  Il profilo di carico predefinito fornisce un rapporto di lettura/scrittura 80/20 per simulare il carico di lavoro delle transazioni OLTP nel mondo reale.</block>
  <block id="5850fdbd1ed0c58b02c8d3797381e7c6" category="paragraph">Il fattore di scala dello schema utilizzato era 50, che forniva una dimensione iniziale del carico dati di 160 G e 30 G di allocazione di spazio temporaneo.  Con questo fattore di scala, lo schema SOE ha fornito 1000 magazzini e 50 milioni di clienti per la simulazione dell'elaborazione degli ordini online.</block>
  <block id="9bc139569eaa30f1804b313d21ab69fa" category="paragraph">La seguente schermata mostra il profilo del carico di lavoro e le metriche tipiche delle esecuzioni transazionali dall'interfaccia utente Windows di Swingbench.</block>
  <block id="4f2534fa1d3a6bb439e5f443bdd5d3ff" category="paragraph"><block ref="4f2534fa1d3a6bb439e5f443bdd5d3ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5531d1590836e811c3ace97db7e230eb" category="paragraph">Come mostra questo grafico, il livello delle transazioni è rimasto invariato per tutta la durata del test.</block>
  <block id="6c805c8ead51e13766957cbda36fd2c0" category="section-title">Analisi dei risultati dei test</block>
  <block id="54f9f904b574caddc93a83f3057be251" category="paragraph">Abbiamo acquisito i risultati di Swingbench per ogni esecuzione di test e ottenuto i corrispondenti report Oracle AWR per l'analisi delle prestazioni.</block>
  <block id="9126019861ad7339333760b7b3bd5174" category="paragraph">Dal punto di vista dell'utente finale, abbiamo esaminato parametri chiave quali il volume delle transazioni e il tempo di risposta dell'utente.  Entrambe le metriche mostrano quante transazioni gli utenti possono eseguire dal sistema di inserimento degli ordini di vendita, in base al numero di utenti che accedono contemporaneamente al sistema, nonché la velocità con cui gli utenti possono completare le transazioni e ricevere una risposta dopo aver inserito l'ordine.</block>
  <block id="809217313025f03af0a774770ed7688d" category="paragraph">Dal lato del server Oracle, abbiamo analizzato il report Oracle AWR per determinare i principali eventi di attesa che potrebbero aver rallentato le transazioni degli utenti.  I primi 10 eventi di attesa di Oracle hanno indicato che, durante le esecuzioni dei test di transazione simulati di Swingbench, il server Oracle è per lo più vincolato all'I/O con una percentuale del 50%-60% del tempo del database trascorso su<block ref="235591872ecf336383513d22098a1fa0" prefix=" " category="inline-code"></block> .<block ref="a249b22faad82bdea2a0930347b9e5ac" prefix=" " category="inline-code"></block> è anche un fattore determinante perché i commit delle transazioni fanno sì che il processo di registrazione di Oracle scarichi l'I/O del registro dalla cache buffer al file di registro sul disco, sebbene sia un fattore minore a livello di percentuale di tempo del database.</block>
  <block id="4da3501ef8d9ebc196009ef0bf4e4360" category="paragraph">Abbiamo confrontato il volume delle transazioni utente, il tempo di risposta dell'utente e i principali eventi di attesa di Oracle con il numero di utenti simultanei durante l'esecuzione di una transazione.  I risultati sono mostrati di seguito:</block>
  <block id="6dc1a88cef659b42f291de3a71a3998b" category="paragraph"><block ref="6dc1a88cef659b42f291de3a71a3998b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b225219fb0a32b17f3f7f3964edfa599" category="paragraph">Questi risultati indicano che potremmo aumentare costantemente i volumi delle transazioni utente con un numero maggiore di utenti simultanei, mantenendo al contempo una latenza I/O e un tempo di risposta utente costantemente bassi, il che rappresenta una prestazione adeguata per un'applicazione Oracle.</block>
  <block id="ccc7b98ab0c81e5b7e4033e88910e92e" category="paragraph">La latenza I/O e il tempo di risposta dell'utente hanno iniziato ad aumentare leggermente quando abbiamo raggiunto 128 utenti simultanei.  Ciò è previsto perché l'istanza EC2 sta per raggiungere la piena capacità del server, come mostrato nel diagramma seguente:</block>
  <block id="21dc163b185109e6c86fd010bc034278" category="paragraph"><block ref="21dc163b185109e6c86fd010bc034278" category="inline-image-macro-rx" type="image"></block></block>
  <block id="faf8392c1e8a1c488f303b45f48fd31d" category="paragraph">Allo stesso modo, il diagramma seguente mostra gli IOPS e la produttività FSx corrispondenti durante l'esecuzione dei volumi di transazioni utente in quel momento.</block>
  <block id="8fdc20fb85a81aa653551faca1e072a9" category="paragraph"><block ref="252446164ef83db058909bdb949247b3" category="inline-image-macro-rx" type="image"></block> <block ref="e0eb37bfb49cfad46839600bb61d38d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d8430502705720b257f565ec9140e72" category="inline-link-macro">Fattori da considerare per l'implementazione del database Oracle.</block>
  <block id="f65992de3860fff89cfd63788c5aa0cb" category="paragraph">Non abbiamo raggiunto la capacità di archiviazione FSx prevista né in termini di IOPS né di throughput quando l'istanza EC2 del server Oracle è diventata il fattore limitante.  Pertanto, è necessario dimensionare correttamente il calcolo e l'archiviazione in base al volume delle transazioni a livello di applicazione utente, come dimostriamo nella sezione<block ref="006ce1a5ca923fbeccbfa7766e7ad617" category="inline-link-macro-rx"></block></block>
  <block id="784f4d9bc2efa477eafb911859744478" category="summary">La soluzione fornisce una panoramica e dettagli per la configurazione di Oracle Data Guard utilizzando AWS FSx ONTAP come sito di archiviazione del database Oracle in standby per ridurre i costi di licenza e operativi della soluzione Oracle Data Guard HA/DR in AWS.</block>
  <block id="d41392db0c7e69ca86a4c8f0c8bc2a8f" category="doc">TR-4981: Riduzione dei costi di Oracle Active Data Guard con Amazon FSx ONTAP</block>
  <block id="1e2ef808c756fe2fc18593d9fa502fea" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la configurazione di Oracle Data Guard utilizzando AWS FSx ONTAP come storage del database Oracle del sito di standby per ridurre i costi di licenza e operativi della soluzione Oracle Data Guard HA/DR in AWS.</block>
  <block id="f9ca3bf31876c6185710d49eac400cfe" category="paragraph">Oracle Data Guard garantisce elevata disponibilità, protezione dei dati e ripristino di emergenza per i dati aziendali in una configurazione di replicazione del database primario e del database di standby.  Oracle Active Data Guard consente agli utenti di accedere ai database di standby mentre è attiva la replicazione dei dati dal database primario ai database di standby.  Data Guard è una funzionalità di Oracle Database Enterprise Edition.  Non richiede licenze separate.  D'altro canto, Active Data Guard è un'opzione di Oracle Database Enterprise Edition e pertanto richiede una licenza separata.  Nella configurazione di Active Data Guard, più database standby possono ricevere la replica dei dati da un database primario.  Tuttavia, ogni database di standby aggiuntivo richiede una licenza Active Data Guard e spazio di archiviazione aggiuntivo pari alle dimensioni del database primario.  I costi operativi aumentano rapidamente.</block>
  <block id="5afa567381b78444937fdc789ad61e1a" category="paragraph">Se desideri ridurre i costi operativi del tuo database Oracle e stai pianificando di configurare Active Data Guard in AWS, dovresti prendere in considerazione un'alternativa.  Invece di Active Data Guard, utilizza Data Guard per replicare dal database primario a un singolo database standby fisico sullo storage Amazon FSx ONTAP .  Successivamente, è possibile clonare più copie di questo database standby e aprirle per l'accesso in lettura/scrittura, al fine di soddisfare molti altri casi d'uso, quali reporting, sviluppo, test, ecc. I risultati netti forniscono in modo efficace le funzionalità di Active Data Guard, eliminando al contempo la licenza di Active Data Guard e i costi di archiviazione aggiuntivi per ogni database standby aggiuntivo.  In questa documentazione, illustriamo come configurare Oracle Data Guard con il database primario esistente in AWS e posizionare il database di standby fisico sullo storage Amazon FSx ONTAP .  Il database di standby viene sottoposto a backup tramite snapshot e clonato per l'accesso in lettura/scrittura in base ai casi d'uso desiderati.</block>
  <block id="309cd12bd99b7c9e7ad680fcef778228" category="list-text">Oracle Data Guard tra un database primario su qualsiasi storage in AWS e un database di standby su storage Amazon FSx ONTAP .</block>
  <block id="1373f5f0167ef176e393747ff34f4b37" category="list-text">Clonare il database di standby mentre è chiuso per la replica dei dati da utilizzare in casi d'uso quali reporting, sviluppo, test, ecc.</block>
  <block id="b7224dd0f37ea7dba810e399e48f1e1f" category="list-text">Un DBA che ha configurato Oracle Active Data Guard in AWS per garantire elevata disponibilità, protezione dei dati e ripristino di emergenza.</block>
  <block id="550c8c85ffce2de3188f9704c188de3c" category="list-text">Un architetto di soluzioni di database interessato alla configurazione di Oracle Active Data Guard nel cloud AWS.</block>
  <block id="e4efb5457095eb4b55bfc3c725c45bc6" category="list-text">Un amministratore di storage che gestisce lo storage AWS FSx ONTAP che supporta Oracle Data Guard.</block>
  <block id="3b6ea806d7ca3ec3483737a2c6b96a47" category="list-text">Un proprietario di applicazioni che desidera installare Oracle Data Guard nell'ambiente AWS FSx/EC2.</block>
  <block id="63bec441d029d5ce44b5fda7d69153c0" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio AWS FSx ONTAP ed EC2 che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="c40f260dcfd75e015bf40c37284fce8d" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione di Oracle Data Guard in AWS con FSx ONTAP.</block>
  <block id="9d594ede9da506de87af7f3f92ecfa24" category="paragraph"><block ref="9d594ede9da506de87af7f3f92ecfa24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a09dc18a1bff4fa8388afca4627d0911" category="cell">Archiviazione FSx ONTAP</block>
  <block id="2121dc715f8fee4210e0374eb562c84d" category="cell">Tre istanze EC2 T2 xlarge EC2, una come server DB primario, una come server DB standby e la terza come server DB clone</block>
  <block id="52359c9653f33c68cd1b454f7d05a27b" category="cell">RHEL-8.6.0_HVM-20220503-x86_64-2-Hourly2-GP2</block>
  <block id="ca8a675d4efb691e78dedc948041f3b6" category="section-title">Configurazione di Oracle Data Guard con ipotetica configurazione DR da NY a LA</block>
  <block id="6e63145f93e8264084d51b8487d8bb5a" category="cell">*DB_NOME_UNICO*</block>
  <block id="08ede96534ff1efd5b0193eda6efd01c" category="cell">*Nome del servizio Oracle Net*</block>
  <block id="074de7e7c226d5c60f8af14c20725352" category="cell">Primario</block>
  <block id="668f361c1cd1909a84f76c9e89450691" category="cell">db1_NY</block>
  <block id="31cedb742316bfb63604cb838e2fbd67" category="cell">db1_NY.demo.netapp.com</block>
  <block id="0bb7066f912b36d8b2abd23b39aea8bf" category="cell">Standby fisico</block>
  <block id="3b1ac5a2383d6bae39c010102ab76ec8" category="cell">db1_LA</block>
  <block id="12eea44985687889a715748b159aacb5" category="cell">db1_LA.demo.netapp.com</block>
  <block id="96686b873db5b24893df16faa4703808" category="list-text">*Come funziona Oracle Standby Database FlexClone .*  AWS FSx ONTAP FlexClone fornisce copie condivise degli stessi volumi di database in standby che sono scrivibili.  Le copie dei volumi sono in realtà puntatori che rimandano ai blocchi di dati originali finché non viene avviata una nuova scrittura sul clone.  ONTAP alloca quindi nuovi blocchi di archiviazione per le nuove scritture.  Tutti gli I/O di lettura vengono gestiti dai blocchi di dati originali sottoposti a replicazione attiva.  Pertanto, i cloni sono molto efficienti in termini di archiviazione e possono essere utilizzati per molti altri casi d'uso con una nuova allocazione di archiviazione minima e incrementale per i nuovi I/O di scrittura.  Ciò consente un notevole risparmio sui costi di archiviazione riducendo sostanzialmente l'ingombro di Active Data Guard.  NetApp consiglia di ridurre al minimo le attività FlexClone in caso di passaggio del database dallo storage primario allo storage FSx di standby, per mantenere elevate le prestazioni di Oracle.</block>
  <block id="714b6519d8509d6b6dd2df24196f06e4" category="inline-link-macro">support.oracle.com</block>
  <block id="dde8156b287d10e91a53b11990c2d067" category="list-text">*Requisiti software Oracle.*  In generale, un database standby fisico deve avere la stessa versione di Database Home del database primario, incluse le eccezioni del set di patch (PSE), gli aggiornamenti delle patch critiche (CPU) e gli aggiornamenti del set di patch (PSU), a meno che non sia in corso un processo di applicazione delle patch standby-first di Oracle Data Guard (come descritto nella nota 1265700.1 di My Oracle Support all'indirizzo<block ref="65806ca1a4e44d7565055b2160a952fb" category="inline-link-macro-rx"></block></block>
  <block id="9a74dfee83f901bbb995e7d4d9f21057" category="list-text">*Considerazioni sulla struttura della directory del database di standby.*  Se possibile, i file di dati, i file di registro e i file di controllo sui sistemi primario e di standby dovrebbero avere gli stessi nomi e percorsi e utilizzare le convenzioni di denominazione Optimal Flexible Architecture (OFA).  Anche le directory di archivio sul database di standby devono essere identiche in tutti i siti, comprese le dimensioni e la struttura.  Questa strategia consente ad altre operazioni, come backup, switchover e failover, di eseguire la stessa serie di passaggi, riducendo la complessità della manutenzione.</block>
  <block id="76d62bcf48e1a8f37c916496440df6b5" category="list-text">*Modalità di registrazione forzata.*  Per proteggersi dalle scritture dirette non registrate nel database primario che non possono essere propagate al database di standby, attivare FORCE LOGGING nel database primario prima di eseguire backup dei file di dati per la creazione di standby.</block>
  <block id="6aab76a9832cdc4aedf822409a67b715" category="list-text">*Gestione dell'archiviazione del database.*  Per semplicità operativa, quando si imposta Oracle Automatic Storage Management (Oracle ASM) e Oracle Managed Files (OMF) in una configurazione Oracle Data Guard, Oracle consiglia di impostarli in modo simmetrico sui database primario e di standby.</block>
  <block id="89a78e9473b16ecb4c8c28739f77fbbf" category="list-text">*Istanze di calcolo EC2.*  In questi test e convalide, abbiamo utilizzato un'istanza AWS EC2 t2.xlarge come istanza di calcolo del database Oracle.  NetApp consiglia di utilizzare un'istanza EC2 di tipo M5 come istanza di elaborazione per Oracle nella distribuzione di produzione perché è ottimizzata per il carico di lavoro del database.  È necessario dimensionare l'istanza EC2 in modo appropriato per il numero di vCPU e la quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="891a36218aaef7e59d635d4a02fcd917" category="list-text">*Distribuzione di cluster HA di storage FSx a zona singola o multizona.*  In questi test e convalide, abbiamo distribuito un cluster FSx HA in una singola zona di disponibilità AWS.  Per la distribuzione in produzione, NetApp consiglia di distribuire una coppia FSx HA in due diverse zone di disponibilità.  Un cluster FSx viene sempre fornito in una coppia HA sincronizzata in una coppia di file system attivi-passivi per fornire ridondanza a livello di storage.  L'implementazione multizona migliora ulteriormente l'elevata disponibilità in caso di guasto in una singola zona AWS.</block>
  <block id="38bf8daaeda3c096093351f7666bfaa4" category="list-text">*Dimensionamento del cluster di archiviazione FSx.*  Un file system di storage Amazon FSx ONTAP fornisce fino a 160.000 IOPS SSD raw, fino a 4 GBps di throughput e una capacità massima di 192 TiB.  Tuttavia, è possibile dimensionare il cluster in termini di IOPS forniti, throughput e limite di archiviazione (minimo 1.024 GiB) in base alle esigenze effettive al momento della distribuzione.  La capacità può essere regolata dinamicamente al volo senza compromettere la disponibilità dell'applicazione.</block>
  <block id="7714e62713b517325d1dbcb277ffec72" category="paragraph">Si presume che il database Oracle primario sia già distribuito nell'ambiente AWS EC2 all'interno di una VPC come punto di partenza per la configurazione di Data Guard.  Il database primario viene distribuito utilizzando Oracle ASM per la gestione dello storage.  Vengono creati due gruppi di dischi ASM, +DATA e +LOGS, per i file di dati Oracle, i file di registro, i file di controllo ecc. Per i dettagli sulla distribuzione di Oracle in AWS con ASM, fare riferimento ai seguenti report tecnici per assistenza.</block>
  <block id="31a24635ce69dd426c0b029c4fcdc98d" category="inline-link-macro">Procedure consigliate per la distribuzione di Oracle Database su EC2 e FSx</block>
  <block id="e448c29edca53d71511282e59019cb95" category="list-text"><block ref="e448c29edca53d71511282e59019cb95" category="inline-link-macro-rx"></block></block>
  <block id="ab12a73272bb7f9d19f02c65ce057f61" category="inline-link-macro">Distribuzione e protezione del database Oracle in AWS FSx/EC2 con iSCSI/ASM</block>
  <block id="9fe0964775d4e89b8fa0000697106e28" category="list-text"><block ref="9fe0964775d4e89b8fa0000697106e28" category="inline-link-macro-rx"></block></block>
  <block id="885f346093197ca6295f5ac1ded93d82" category="inline-link-macro">Oracle 19c in riavvio autonomo su AWS FSx/EC2 con NFS/ASM</block>
  <block id="1e5210e8896bad27959d8255d1b3eec2" category="list-text"><block ref="1e5210e8896bad27959d8255d1b3eec2" category="inline-link-macro-rx"></block></block>
  <block id="88b61a3452017ca36f5aa8c16a481cdc" category="paragraph">Il database Oracle primario può essere eseguito su un FSx ONTAP o su qualsiasi altro storage tra quelli disponibili nell'ecosistema AWS EC2.  Nella sezione seguente vengono fornite procedure di distribuzione dettagliate per la configurazione di Oracle Data Guard tra un'istanza primaria di EC2 DB con storage ASM e un'istanza di EC2 DB di standby con storage ASM.</block>
  <block id="48c88f2a91b527275016272b31c75e1b" category="list-text">Dalla console AWS EC2, è necessario distribuire almeno tre istanze EC2 Linux, una come istanza Oracle DB primaria, una come istanza Oracle DB di standby e un'istanza DB di destinazione clone per reporting, sviluppo, test ecc. Per maggiori dettagli sulla configurazione dell'ambiente, consultare il diagramma dell'architettura nella sezione precedente.  Esaminare anche AWS<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="fddb125abb4efb532fae8872b20113f7" category="list-text">Dalla console AWS EC2, distribuisci cluster HA di storage Amazon FSx ONTAP per ospitare volumi Oracle che archiviano il database standby Oracle.  Se non hai familiarità con la distribuzione dell'archiviazione FSx, consulta la documentazione<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="0f7a8130eb652cd33a4fa9cdefc41cc6" category="admonition">Assicurati di aver allocato almeno 50 G nel volume radice dell'istanza EC2 per avere spazio sufficiente per organizzare i file di installazione di Oracle.</block>
  <block id="de6e6d5e21c4f7d0dd4ef74edf3eb0c8" category="section-title">Preparare il database primario per Data Guard</block>
  <block id="4c47bc26cdbea7cfef6220602d142b03" category="paragraph">In questa dimostrazione, abbiamo configurato un database Oracle primario denominato db1 sull'istanza primaria del database EC2 con due gruppi di dischi ASM in configurazione di riavvio autonoma con file di dati nel gruppo di dischi ASM +DATA e area di ripristino flash nel gruppo di dischi ASM +LOGS.  Di seguito vengono illustrate le procedure dettagliate per la configurazione del database primario per Data Guard.  Tutti i passaggi devono essere eseguiti come proprietario del database, ovvero utente Oracle.</block>
  <block id="546bfa96e0a0fe70a11d127711d7cf98" category="list-text">Configurazione del database primario db1 sull'istanza primaria del database EC2 ip-172-30-15-45.  I gruppi di dischi ASM possono trovarsi su qualsiasi tipo di storage all'interno dell'ecosistema EC2.</block>
  <block id="f3efbb87660ec6fc6923520ba7c0e4b6" category="list-text">Da sqlplus, abilitare la registrazione forzata sul database primario.</block>
  <block id="851a2cc6266fe01721754a67b63d272b" category="list-text">Da sqlplus, abilitare il flashback sul primario.  Flashback consente di ripristinare facilmente il database primario come standby dopo un failover.</block>
  <block id="1456924ad439596396b0366750feb882" category="list-text">Configurare l'autenticazione del trasporto redo utilizzando il file password di Oracle: creare un file pwd sul database primario utilizzando l'utility orapwd se non è impostata e copiarlo nella directory $ORACLE_HOME/dbs del database di standby.</block>
  <block id="b84ef5068c2f6a0e7ab5c634421500e4" category="list-text">Crea log redo di standby sul DB primario con le stesse dimensioni del file di log online corrente.  I gruppi di log sono un'aggiunta ai gruppi di file di log online.  Il database primario può quindi passare rapidamente al ruolo di standby e iniziare a ricevere dati redo, se necessario.</block>
  <block id="b8dcabc8241b7fa9922b791123f161c6" category="list-text">Da sqlplus, creare un pfile da spfile per la modifica.</block>
  <block id="a58bc66502bff24a62e9167f326de414" category="list-text">Rivedere il pfile e aggiungere i seguenti parametri.</block>
  <block id="16df6366013fa1b51fdf63103f5de61c" category="list-text">Da sqlplus, creare spfile nella directory ASM +DATA dal pfile rivisto nella directory /home/oracle.</block>
  <block id="be5835a569bacd58dbd2984013ec9da7" category="list-text">Individuare il file spfile appena creato nel gruppo di dischi +DATA (utilizzando l'utilità asmcmd se necessario).  Utilizzare srvctl per modificare la griglia per avviare il database dal nuovo spfile come mostrato di seguito.</block>
  <block id="721f734d4d55c537a4bcd8247cb42f38" category="list-text">Modificare tnsnames.ora per aggiungere db_unique_name per la risoluzione dei nomi.</block>
  <block id="ff9562404eb9d339e5f7ac0fd7a0a111" category="list-text">Aggiungere il nome del servizio Data Guard db1_NY_DGMGRL.demo.netapp per il database primario al file listener.ora.</block>
  <block id="f0dcdb53dfe79df7c33ad468e718cf3c" category="list-text">Arrestare e riavviare il database con srvctl e verificare che i parametri di Data Guard siano ora attivi.</block>
  <block id="0a3ecc4b9c7f192a3a8eff9f43d62a49" category="paragraph">Questa operazione completa la configurazione del database primario per Data Guard.</block>
  <block id="8ed94134ccc7df045497fffb338e491e" category="section-title">Preparare il database di standby e attivare Data Guard</block>
  <block id="25df9ef065954340ff37157530509f47" category="paragraph">Oracle Data Guard richiede la configurazione del kernel del sistema operativo e gli stack software Oracle, inclusi i set di patch sull'istanza EC2 DB di standby, per corrispondere all'istanza EC2 DB primaria.  Per una gestione semplice e intuitiva, la configurazione di archiviazione del database dell'istanza EC2 DB di standby dovrebbe idealmente corrispondere anche a quella dell'istanza EC2 DB primaria, ad esempio per quanto riguarda nome, numero e dimensione dei gruppi di dischi ASM.  Di seguito sono riportate le procedure dettagliate per la configurazione dell'istanza EC2 DB di standby per Data Guard.  Tutti i comandi devono essere eseguiti come ID utente proprietario di Oracle.</block>
  <block id="100d87382d4e9f0b77c8fbd50ae70cf2" category="list-text">Per prima cosa, rivedere la configurazione del database primario sull'istanza EC2 primaria.  In questa dimostrazione, abbiamo configurato un database Oracle primario denominato db1 sull'istanza primaria del database EC2 con due gruppi di dischi ASM +DATA e +LOGS nella configurazione di riavvio autonoma.  I gruppi di dischi ASM primari possono trovarsi su qualsiasi tipo di storage all'interno dell'ecosistema EC2.</block>
  <block id="4f3c9d31ccf189b3cb7f494f26684484" category="inline-link-macro">TR-4965: Distribuzione e protezione del database Oracle in AWS FSx/EC2 con iSCSI/ASM</block>
  <block id="561b95165c7fc0747c2dd6683b69b794" category="list-text">Seguire le procedure nella documentazione<block ref="09e68060dbcea83513d683b108df6fcb" category="inline-link-macro-rx"></block> per installare e configurare la griglia e l'istanza Oracle su EC2 DB in standby in modo che corrispondano al database primario.  Lo spazio di archiviazione del database deve essere predisposto e allocato all'istanza EC2 DB di standby da FSx ONTAP con la stessa capacità di archiviazione dell'istanza EC2 DB primaria.</block>
  <block id="18b8757dc8f63de46858f8a4f433e251" category="admonition">Fermati al passo 10<block ref="b7e3e332087b6a041c83ce22cce9043c" prefix=" " category="inline-code"></block> sezione.  Il database di standby verrà istanziato dal database primario utilizzando la funzione di duplicazione del database dbca.</block>
  <block id="3b2b93ec0c82f6e3a38fad684bfd6663" category="list-text">Una volta installato e configurato il software Oracle, dalla directory $ORACLE_HOME dbs di standby, copiare la password Oracle dal database primario.</block>
  <block id="3aa916a972ab6509dee982918f3d899e" category="list-text">Creare il file tnsnames.ora con le seguenti voci.</block>
  <block id="493f867c0c59207e4189028d16dd6d26" category="list-text">Aggiungere il nome del servizio DB Data Guard al file listener.ora.</block>
  <block id="bcd6424f66bc448fbe685fc80ff70e1a" category="list-text">Imposta la home e il percorso dell'oracolo.</block>
  <block id="143a60719ec63d00d99a825714665a55" category="list-text">Utilizzare dbca per creare un'istanza del database standby dal database primario db1.</block>
  <block id="57fbd0472b92ebaf5a1a0a8528a2f0a8" category="list-text">Convalida il database standby duplicato.  Il database di standby appena duplicato viene inizialmente aperto in modalità SOLA LETTURA.</block>
  <block id="3e003fdb2211d99cead68668fab65036" category="list-text">Riavviare il database di standby in<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> eseguire il comando seguente per attivare il ripristino gestito dal database di standby.</block>
  <block id="e87af5ff6c25c9c1c0fdf389aea9426b" category="list-text">Convalida lo stato di ripristino del database di standby.  Nota il<block ref="9bda3daa17eb022a72164386ee4bf249" prefix=" " category="inline-code"></block> In<block ref="1f38735e57e053804f3980f01073a19b" prefix=" " category="inline-code"></block> azione.</block>
  <block id="d418efa4afda10fc6b0130047c165f48" category="paragraph">In questo modo si completa la configurazione della protezione di Data Guard per db1 da primario a standby con il ripristino standby gestito abilitato.</block>
  <block id="9c88c2ff7d57ccdc26ed6cc8c6a551d8" category="section-title">Configurazione di Data Guard Broker</block>
  <block id="e716a36152601014d22404c34a545dfb" category="paragraph">Oracle Data Guard Broker è un framework di gestione distribuito che automatizza e centralizza la creazione, la manutenzione e il monitoraggio delle configurazioni di Oracle Data Guard.  La sezione seguente illustra come configurare Data Guard Broker per gestire l'ambiente Data Guard.</block>
  <block id="ae65cf354bdba5f399cecafe69181bb2" category="list-text">Avviare Data Guard Broker sui database primari e di standby con il seguente comando tramite sqlplus.</block>
  <block id="7085ea049485ef36270b678214c896bc" category="list-text">Dal database primario, connettersi a Data Guard Borker come SYSDBA.</block>
  <block id="e3e1655d27b7ec5fede117507abebc04" category="list-text">Crea e abilita la configurazione di Data Guard Broker.</block>
  <block id="bf87cf945b0165017223255d29eb5838" category="list-text">Convalida lo stato del database all'interno del framework di gestione di Data Guard Broker.</block>
  <block id="d3ee713ceb1d01a3c56111f66bf8cef8" category="paragraph">In caso di errore, Data Guard Broker può essere utilizzato per eseguire il failover immediato del database primario in modalità standby.</block>
  <block id="3fda563a3f23856c843f7368c6f1dd26" category="section-title">Clona il database di standby per altri casi d'uso</block>
  <block id="2f2d5e4f7687bc11754fc0051b64a5a8" category="paragraph">Il vantaggio principale dello staging del database standby su AWS FSx ONTAP in Data Guard è che può essere FlexClonato per soddisfare molti altri casi d'uso con un investimento minimo in termini di storage aggiuntivo.  Nella sezione seguente, illustreremo come creare snapshot e clonare i volumi del database di standby montati e in fase di ripristino su FSx ONTAP per altri scopi, come DEV, TEST, REPORT, ecc., utilizzando lo strumento NetApp SnapCenter .</block>
  <block id="30b22b544972f5adb280ca2975099846" category="inline-link-macro">Soluzioni di database cloud ibrido con SnapCenter</block>
  <block id="bb524c44f568f444531405ba1ad85305" category="paragraph">Di seguito sono riportate le procedure di alto livello per clonare un database READ/WRITE dal database standby fisico gestito in Data Guard utilizzando SnapCenter.  Per istruzioni dettagliate su come impostare e configurare SnapCenter, fare riferimento a<block ref="8f81a54fece1094b09a6e495584caacf" category="inline-link-macro-rx"></block> sezioni Oracle pertinenti.</block>
  <block id="a225c0845c18b63c94952d45800129eb" category="list-text">Iniziamo creando una tabella di prova e inserendo una riga nella tabella di prova sul database primario.  Verificheremo quindi se la transazione è passata allo standby e infine al clone.</block>
  <block id="815578506a24796bc380c0deef04702e" category="list-text">Aggiungi cluster di archiviazione FSx a<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> in SnapCenter con IP di gestione del cluster FSx e credenziali fsxadmin.</block>
  <block id="ead8f2b206d64f3dc022b5aff7ebf5ef" category="inline-image-macro">Screenshot che mostra questo passaggio nell'interfaccia grafica.</block>
  <block id="0ee6f6cb7abf09a921abc17a6bfbae8f" category="paragraph"><block ref="0ee6f6cb7abf09a921abc17a6bfbae8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d4fbfa1c7c19b55ec3f48a0d412d8eb" category="list-text">Aggiungi AWS ec2-user a<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> In<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block> .</block>
  <block id="302635f402adc3076cbcc42191e06600" category="paragraph"><block ref="302635f402adc3076cbcc42191e06600" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6aa54e14f0875581094dc6b2192d66b3" category="list-text">Aggiungi l'istanza EC2 DB in standby e clona l'istanza EC2 DB a<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> .</block>
  <block id="8913b862455ae1ce54a54a2168995426" category="paragraph"><block ref="8913b862455ae1ce54a54a2168995426" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b1e0e523773d1a64309d849962b020d" category="admonition">L'istanza clone del database EC2 dovrebbe avere stack software Oracle simili installati e configurati.  Nel nostro caso di prova, l'infrastruttura grid e Oracle 19C sono stati installati e configurati, ma non è stato creato alcun database.</block>
  <block id="0d3c38b30657980a0b2c8d695bdc04d9" category="list-text">Creare una policy di backup personalizzata per il backup completo del database offline/montato.</block>
  <block id="1743393e3121c30f2e5b9635b1551cbb" category="paragraph"><block ref="1743393e3121c30f2e5b9635b1551cbb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03749905cda41a9a5af37311da788dc7" category="list-text">Applicare la politica di backup per proteggere il database di standby in<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda.</block>
  <block id="3eda905dcd694af160819cf35d2dc566" category="paragraph"><block ref="3eda905dcd694af160819cf35d2dc566" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b541cfd01eab70b7124c0a9281d9abf" category="list-text">Fare clic sul nome del database per aprire la pagina dei backup del database.  Selezionare un backup da utilizzare per la clonazione del database e fare clic su<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione.</block>
  <block id="f71add80e312a9104b772faaa4f051e6" category="paragraph"><block ref="f71add80e312a9104b772faaa4f051e6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2fdf9c5dfda12930fd177f22620253c6" category="list-text">Selezionare<block ref="6d966589c645cae872f42060de0bbe70" prefix=" " category="inline-code"></block> e assegnare un nome SID all'istanza clone.</block>
  <block id="6205d2ddeb3cb8e5083d83693b9d1d91" category="paragraph"><block ref="6205d2ddeb3cb8e5083d83693b9d1d91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bdb6fd7703480f999a0decdea3783dc" category="list-text">Selezionare l'host clone che ospita il database clonato dal database di standby.  Accettare l'impostazione predefinita per i file di dati, i file di controllo e i redo log.  Verranno creati due gruppi di dischi ASM sull'host clone, corrispondenti ai gruppi di dischi sul database di standby.</block>
  <block id="16190d8fb6087cea1478af4b03b3f427" category="paragraph"><block ref="16190d8fb6087cea1478af4b03b3f427" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b2116fe35be064eb0458bc516aa4d13" category="list-text">Per l'autenticazione basata sul sistema operativo non sono necessarie credenziali del database.  Abbinare le impostazioni home di Oracle a quelle configurate nell'istanza del database EC2 clone.</block>
  <block id="879fdf55fba377046c2902c939f2601d" category="paragraph"><block ref="879fdf55fba377046c2902c939f2601d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ff5976c8af9ff4b0957fafc90bc2fdab" category="list-text">Se necessario, modificare i parametri del database clone e specificare gli script da eseguire prima della clonazione, se presenti.</block>
  <block id="564ee64dc28a1455d7479df7ea2838ce" category="paragraph"><block ref="564ee64dc28a1455d7479df7ea2838ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34685717b91981d7859ecf81678b5b09" category="list-text">Immettere SQL per l'esecuzione dopo la clonazione.  Nella demo, abbiamo eseguito comandi per disattivare la modalità di archiviazione del database per un database dev/test/report.</block>
  <block id="839c38264fbc833ac9f79e24febe9b9d" category="paragraph"><block ref="839c38264fbc833ac9f79e24febe9b9d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d197c170bbaec3c7352356cf0cbb8ac1" category="list-text">Se lo desideri, configura la notifica via email.</block>
  <block id="841f3bb45aba6db13016c257c6061b35" category="paragraph"><block ref="841f3bb45aba6db13016c257c6061b35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f8f71975bdd986583495fef78017b0f" category="list-text">Rivedi il riepilogo, clicca<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per avviare il clone.</block>
  <block id="82ea0cad75dea61a21c554d95a1dfa30" category="paragraph"><block ref="82ea0cad75dea61a21c554d95a1dfa30" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22d02716c7a3c135a2c329f25e9bd9ae" category="list-text">Monitora il lavoro di clonazione in<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda.  Abbiamo osservato che ci vogliono circa 8 minuti per clonare un database di circa 300 GB di volume.</block>
  <block id="fb38173bf80529c78aee65db7a018714" category="paragraph"><block ref="fb38173bf80529c78aee65db7a018714" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39f89201f1ea425071614bb5bd7079a3" category="list-text">Convalida il database clone da SnapCenter, che viene immediatamente registrato in<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda subito dopo l'operazione di clonazione.</block>
  <block id="afe1a90d817f0a3ae5e6c873fd296e14" category="paragraph"><block ref="afe1a90d817f0a3ae5e6c873fd296e14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bf431d7e50f6303bf40547e5d4895df" category="list-text">Interroga il database clone dall'istanza EC2 clone.  Abbiamo convalidato che la transazione di prova avvenuta nel database primario era stata trasferita al database clone.</block>
  <block id="956670247c2a1898065893fdcbce36e6" category="paragraph">In questo modo si completa la clonazione e la convalida di un nuovo database Oracle dal database di standby in Data Guard su storage FSx per DEV, TEST, REPORT o qualsiasi altro caso d'uso.  In Data Guard è possibile clonare più database Oracle dallo stesso database standby.</block>
  <block id="33b688f7c946852447f97b29aa780fe5" category="list-text">Concetti e amministrazione di Data Guard</block>
  <block id="8de2fc4ad1f7fa0dce48702c017a0131" category="inline-link-macro"><block ref="8de2fc4ad1f7fa0dce48702c017a0131" category="inline-link-rx"></block></block>
  <block id="f4b13dd9902b833ab09c8b2e85ee348f" category="paragraph"><block ref="f4b13dd9902b833ab09c8b2e85ee348f" category="inline-link-macro-rx"></block></block>
  <block id="ba976162adc7c0619bf3a1f2c24454f2" category="list-text">WP-7357: Best practice per la distribuzione di Oracle Database su EC2 e FSx</block>
  <block id="3cdae8d978ccc9caf9657b6881250354" category="paragraph"><block ref="3cdae8d978ccc9caf9657b6881250354" category="inline-link-macro-rx"></block></block>
  <block id="8a1d7e9120e3db2795bd53b504018b4e" category="summary">Questo white paper fornisce una panoramica e la convalida di una soluzione per l'HA e il DR del database Oracle RDS personalizzato da AWS, sfruttando il servizio di archiviazione AWS FSx in una distribuzione con più zone di disponibilità.</block>
  <block id="0c55b956af322a2409f5dd75af116fee" category="doc">WP-7357: Introduzione alle best practice per la distribuzione del database Oracle su EC2 e FSx</block>
  <block id="b4c8c277e19db14e178b1060214b896e" category="paragraph">Allen Cao, Niyaz Mohamed, Jeffrey Steiner, NetApp</block>
  <block id="6848412b0f30d614f7e0bcd903cac052" category="paragraph">Molti database Oracle aziendali mission-critical sono ancora ospitati in locale e molte aziende stanno cercando di migrare questi database Oracle su un cloud pubblico.  Spesso questi database Oracle sono incentrati sulle applicazioni e quindi richiedono configurazioni specifiche per l'utente, una capacità che manca in molte offerte di database-as-a-service su cloud pubblico.  Pertanto, l'attuale panorama dei database richiede una soluzione di database Oracle basata su cloud pubblico, realizzata a partire da un servizio di elaborazione e archiviazione scalabile e ad alte prestazioni, in grado di soddisfare requisiti specifici.  Le istanze di elaborazione AWS EC2 e il servizio di archiviazione AWS FSx potrebbero essere i pezzi mancanti di questo puzzle che puoi sfruttare per creare e migrare i carichi di lavoro critici del tuo database Oracle su un cloud pubblico.</block>
  <block id="5645a6001c14c3cf405f621123d8a891" category="paragraph">Amazon Elastic Compute Cloud (Amazon EC2) è un servizio Web che fornisce capacità di elaborazione sicura e ridimensionabile nel cloud.  È progettato per semplificare il cloud computing su scala web per le aziende.  La semplice interfaccia del servizio Web Amazon EC2 consente di ottenere e configurare la capacità con il minimo sforzo.  Ti fornisce il controllo completo delle tue risorse informatiche e ti consente di utilizzare l'ambiente informatico collaudato di Amazon.</block>
  <block id="dfffb7bb311a551928f051593da9b3c5" category="paragraph">Amazon FSx ONTAP è un servizio di archiviazione AWS che utilizza l'archiviazione di file e blocchi NetApp ONTAP , leader del settore, che espone NFS, SMB e iSCSI.  Grazie a un motore di archiviazione così potente, non è mai stato così facile trasferire le applicazioni di database Oracle mission-critical su AWS con tempi di risposta inferiori al millisecondo, diversi GBps di throughput e oltre 100.000 IOPS per istanza di database.  Meglio ancora, il servizio di archiviazione FSx è dotato di funzionalità di replicazione nativa che consente di migrare facilmente il database Oracle locale su AWS o di replicare il database Oracle mission critical su una zona di disponibilità AWS secondaria per HA o DR.</block>
  <block id="b3f95d0186b2e4989ad81f07a21d72c5" category="paragraph">L'obiettivo di questa documentazione è fornire processi, procedure e indicazioni dettagliate sulle best practice su come distribuire e configurare un database Oracle con storage FSx e un'istanza EC2 che fornisca prestazioni simili a quelle di un sistema locale.  NetApp fornisce inoltre un toolkit di automazione che automatizza la maggior parte delle attività necessarie per la distribuzione, la configurazione e la gestione del carico di lavoro del database Oracle nel cloud pubblico AWS.</block>
  <block id="eef7539c8eab25bfe5c089aab85ec418" category="paragraph">Per saperne di più sulla soluzione e sul caso d'uso, guarda il seguente video riassuntivo:</block>
  <block id="0df1fe5dfbca17caa87c91ffea49223a" category="inline-link-macro">Modernizza il tuo database Oracle con il cloud ibrido in AWS e FSx ONTAP, Parte 1 - Caso d'uso e architettura della soluzione</block>
  <block id="adf8d1fc36b4704904a6251fde19535e" category="paragraph"><block ref="bab032e290776958656c886d774a2bf6" category="inline-link-macro-rx"></block></block>
  <block id="32800a2387c1d841d80eab97ff7205c2" category="summary">Questa sezione fornisce dettagli sui fattori da considerare quando si distribuisce un database Oracle su un'istanza AWS EC2 e su uno storage FSx.</block>
  <block id="c53749244d982efb6aa5653328227c2a" category="doc">Fattori da considerare per la distribuzione del database Oracle</block>
  <block id="96f819dcc02d1203a3923ddad366ff4b" category="paragraph">Un cloud pubblico offre numerose opzioni per l'elaborazione e l'archiviazione e utilizzare il tipo corretto di istanza di elaborazione e motore di archiviazione è un buon punto di partenza per l'implementazione del database.  Dovresti anche selezionare configurazioni di elaborazione e archiviazione ottimizzate per i database Oracle.</block>
  <block id="e958329ac331abb8419551328745ce28" category="paragraph">Nelle sezioni seguenti vengono descritte le considerazioni chiave da tenere a mente quando si distribuisce un database Oracle in un cloud pubblico AWS su un'istanza EC2 con storage FSx.</block>
  <block id="af9adf45d47438d70bedeea4353827c3" category="paragraph">Per ottenere prestazioni ottimali da un database relazionale in un cloud pubblico è importante selezionare la dimensione corretta della VM.  Per prestazioni migliori, NetApp consiglia di utilizzare un'istanza EC2 M5 Series per la distribuzione Oracle, ottimizzata per i carichi di lavoro del database.  Lo stesso tipo di istanza viene utilizzato anche per alimentare un'istanza RDS per Oracle da AWS.</block>
  <block id="1dbc89cff7796dd99cbe9338453d04d7" category="list-text">Scegliere la combinazione corretta di vCPU e RAM in base alle caratteristiche del carico di lavoro.</block>
  <block id="ff1a938ecebc5237c31b8f5d9a9b87ce" category="list-text">Aggiungere spazio di swap a una VM.  La distribuzione predefinita dell'istanza EC2 non crea uno spazio di swap, il che non è ottimale per un database.</block>
  <block id="d4d5d0e2fb33dadfad4435489bd718a4" category="section-title">Disposizione e impostazioni di archiviazione</block>
  <block id="0fe994abd6c200feb672e77242fe9fcb" category="paragraph">NetApp consiglia il seguente layout di archiviazione:</block>
  <block id="c1b542506bceb69c76148851e217c49f" category="list-text">Per l'archiviazione NFS, il layout del volume consigliato è di tre volumi: uno per il binario Oracle; uno per i dati Oracle e un file di controllo duplicato; e uno per il log attivo Oracle, il log archiviato e il file di controllo.</block>
  <block id="6743466e43aeaf8b7b20152c9fe68fc6" category="paragraph"><block ref="6743466e43aeaf8b7b20152c9fe68fc6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fc828f321000aae204feb1f0f945893" category="list-text">Per l'archiviazione iSCSI, il layout del volume consigliato è di tre volumi: uno per il binario Oracle; uno per i dati Oracle e un file di controllo duplicato; e uno per il log attivo Oracle, il log archiviato e il file di controllo.  Tuttavia, idealmente, ogni volume di dati e di registro dovrebbe contenere quattro LUN.  Le LUN sono idealmente bilanciate sui nodi del cluster HA.</block>
  <block id="1c88d1767b50dfad069c4438e524f906" category="paragraph"><block ref="1c88d1767b50dfad069c4438e524f906" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7810ed5b0bbb3acf153d353ac803a51" category="list-text">Per gli IOPS e la velocità effettiva di archiviazione, è possibile scegliere la soglia per gli IOPS e la velocità effettiva forniti per il cluster di archiviazione FSx; questi parametri possono essere modificati al volo ogni volta che cambia il carico di lavoro.</block>
  <block id="c5493cd0fe001da987655ad852808dc7" category="list-text">L'impostazione IOPS automatica è di tre IOPS per GiB di capacità di archiviazione allocata o di archiviazione definita dall'utente fino a 80.000.</block>
  <block id="6524d7ff1096fc6a10590b6d1f7163b6" category="list-text">Il livello di throughput viene incrementato come segue: 128, 256, 512, 1024, 2045 MBps.</block>
  <block id="148ec0ba94a4cd5c2b2e0258348ffbd0" category="inline-link-macro">Prestazioni Amazon FSx ONTAP</block>
  <block id="9477b12c53864787c23fd1c4df0515bd" category="paragraph">Rivedere il<block ref="465b6ee60bbdf3cce6d5a970a7e09c84" category="inline-link-macro-rx"></block> documentazione per il dimensionamento della produttività e degli IOPS.</block>
  <block id="10edbbba4e4c39fc161aeac9fbb88aef" category="section-title">Configurazione NFS</block>
  <block id="712ca0716e43c9f3b64f0f21f9e9782b" category="paragraph">Linux, il sistema operativo più diffuso, include funzionalità NFS native.  Oracle offre il client NFS diretto (dNFS) integrato nativamente in Oracle.  Oracle supporta NFSv3 da oltre 20 anni. dNFS è supportato con NFSv3 in tutte le versioni di Oracle.  NFSv4 è supportato da tutti i sistemi operativi che seguono lo standard NFSv4. Il supporto dNFS per NFSv4 richiede Oracle 12.1.0.2 o versione successiva.  NFSv4.1 richiede il supporto di un sistema operativo specifico.  Consultare lo strumento NetApp Interoperability Matrix Tool (IMT) per conoscere i sistemi operativi supportati. Il supporto dNFS per NFSv4.1 richiede Oracle versione 19.3.0.0 o successiva.</block>
  <block id="a3f8d7c738bb455d9c0506663213b244" category="paragraph">La distribuzione Oracle automatizzata tramite il toolkit di automazione NetApp configura automaticamente dNFS su NFSv3.</block>
  <block id="2b7570eaa12a3e472e9d0cbac6631d57" category="paragraph">Altri fattori da considerare:</block>
  <block id="6841f6ce9d9a2af93222223df564ca34" category="list-text">Le tabelle degli slot TCP sono l'equivalente NFS della profondità della coda dell'adattatore host-bus (HBA).  Queste tabelle controllano il numero di operazioni NFS che possono essere in sospeso in un dato momento.  Il valore predefinito è solitamente 16, che è decisamente troppo basso per prestazioni ottimali.  Il problema opposto si verifica nei kernel Linux più recenti, che possono aumentare automaticamente il limite della tabella degli slot TCP a un livello tale da saturare il server NFS di richieste.</block>
  <block id="5a749fcdd97cee211c5fea00babe8691" category="paragraph">Per ottenere prestazioni ottimali e prevenire problemi di prestazioni, regolare i parametri del kernel che controllano le tabelle degli slot TCP su 128.</block>
  <block id="dcd7ebfa96f217f8d20c58a185a48531" category="list-text">Nella tabella seguente sono riportate le opzioni di montaggio NFS consigliate per Linux NFSv3 - istanza singola.</block>
  <block id="5cf56cd2517ddd9e0ed46c42e2fe4ee7" category="paragraph"><block ref="5cf56cd2517ddd9e0ed46c42e2fe4ee7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5088352a7b028bc873f55b1b666d7cd8" category="admonition">Prima di utilizzare dNFS, verificare che siano installate le patch descritte in Oracle Doc 1495104.1.  La matrice di supporto NetApp per NFSv3 e NFSv4 non include sistemi operativi specifici.  Sono supportati tutti i sistemi operativi che rispettano l'RFC.  Quando si cerca IMT online il supporto NFSv3 o NFSv4, non selezionare un sistema operativo specifico perché non verranno visualizzate corrispondenze.  Tutti i sistemi operativi sono implicitamente supportati dalla policy generale.</block>
  <block id="2fe1fc26875d6d38f4b15a3a03d498fb" category="paragraph">Come indicato nell'architettura della soluzione, HA si basa sulla replica a livello di storage.  Pertanto, l'avvio e la disponibilità di Oracle dipendono dalla rapidità con cui l'elaborazione e l'archiviazione possono essere attivate e ripristinate.  Vedere i seguenti fattori chiave:</block>
  <block id="137bc4c57a9561d086601728a3db1a90" category="list-text">Avere un'istanza di elaborazione in standby pronta e sincronizzata con quella primaria tramite l'aggiornamento parallelo di Ansible su entrambi gli host.</block>
  <block id="d653e9032c9904901af96f496db98a3e" category="list-text">Replicare il volume binario dal primario per scopi di standby, in modo da non dover installare Oracle all'ultimo minuto e capire cosa deve essere installato e patchato.</block>
  <block id="77991416cd2e0bfc66a77d32e3fbb45a" category="list-text">La frequenza di replicazione determina la velocità con cui il database Oracle può essere ripristinato per rendere disponibile il servizio.  Esiste un compromesso tra la frequenza di replicazione e il consumo di spazio di archiviazione.</block>
  <block id="0797ee9bca14d1064492a93ac7cc7fa1" category="list-text">Sfrutta l'automazione per rendere il ripristino e il passaggio alla modalità standby rapidi e privi di errori umani.  NetApp fornisce un toolkit di automazione per questo scopo.</block>
  <block id="37e3bd7a04a12d6d16389a7dc22d774d" category="summary">La soluzione fornisce una panoramica e dettagli per un rapido ripristino e clonazione di Oracle VLDB distribuito nell'istanza di elaborazione AWS EC2 con montaggio NFS su FSx ONTAP per la creazione di una copia di file di dati in standby da unire in modo incrementale e costante tramite RMAN.</block>
  <block id="64f97bbd42c9b6469781d976c191546b" category="doc">TR-4973: Ripristino rapido e clonazione di Oracle VLDB con unione incrementale su AWS FSx ONTAP</block>
  <block id="90b61454dbd3963570fab7ac262d84e2" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per un rapido ripristino e clonazione di Oracle VLDB distribuito su un'istanza di elaborazione AWS EC2 con montaggio NFS su FSx ONTAP per la creazione di una copia di file di dati in standby da unire in modo incrementale e costante tramite RMAN.</block>
  <block id="a84ee4fe6800b14e1fd53326196750bc" category="paragraph">Il ripristino di un database molto grande (VLDB) in Oracle utilizzando lo strumento di backup Oracle Recovery Manager (RMAN) può rivelarsi un'operazione molto complessa.  In caso di guasto, il processo di ripristino del database dai supporti di backup può richiedere molto tempo, ritardando il ripristino del database e potenzialmente incidendo in modo significativo sul Contratto di servizio (SLA).  Tuttavia, a partire dalla versione 10g, Oracle ha introdotto una funzionalità RMAN che consente agli utenti di creare copie di immagini organizzate dei file di dati del database Oracle su un ulteriore spazio di archiviazione su disco situato sull'host del server DB.  Queste copie delle immagini possono essere aggiornate in modo incrementale quotidianamente tramite RMAN.  In caso di errore, l'amministratore del database (DBA) può rapidamente spostare il database Oracle dal supporto danneggiato alla copia immagine, eliminando la necessità di un ripristino completo del supporto del database.  Il risultato è un SLA notevolmente migliorato, anche se al costo di raddoppiare lo spazio di archiviazione del database richiesto.</block>
  <block id="177658bcb07f8fd6c738b1a97efaf173" category="paragraph">Se sei interessato a un SLA per il tuo VLDB e stai pensando di spostare il database Oracle su un cloud pubblico come AWS, puoi impostare una struttura di protezione del database simile utilizzando risorse come AWS FSx ONTAP per la gestione temporanea della copia dell'immagine del database in standby.  In questa documentazione, illustriamo come effettuare il provisioning ed esportare un file system NFS da AWS FSx ONTAP da montare su un server di database Oracle per predisporre una copia del database in standby per un rapido ripristino in caso di guasto dell'archiviazione primaria.</block>
  <block id="05b4b318195ab79f80fbe6580b2e69e1" category="paragraph">Meglio ancora, mostriamo anche come sfruttare NetApp FlexClone per creare una copia dello stesso file system NFS di staging per altri casi d'uso, ad esempio per creare un ambiente Oracle di sviluppo/test con la stessa copia dell'immagine del database di standby, senza ulteriori investimenti in termini di storage.</block>
  <block id="84ab5c2cbea62bfae267ddfcc8e16749" category="list-text">Un'unione incrementale di copie di immagini Oracle VLDB tramite RMAN su un punto di montaggio NFS fuori dall'archiviazione AWS FSx ONTAP .</block>
  <block id="805ef53e3765a75fb2ee210066e9298e" category="list-text">Ripristino rapido di un Oracle VLDB passando alla copia dell'immagine del database sullo storage FSx ONTAP in caso di errore.</block>
  <block id="3b5601d0dfed112b4d701ea7222195d0" category="list-text">Clona il volume del file system NFS FSx ONTAP che memorizza una copia dell'immagine Oracle VLDB da utilizzare per creare un'altra istanza del database per altri casi d'uso.</block>
  <block id="2513056d37fad5d51b1b7e5067126d74" category="list-text">Un DBA che ha configurato l'unione incrementale delle copie delle immagini Oracle VLDB tramite RMAN in AWS per un ripristino più rapido del database.</block>
  <block id="ce3231fc55ffa9da7d06a7bf71808aaf" category="list-text">Architetto di soluzioni di database che testa i carichi di lavoro Oracle nel cloud pubblico AWS.</block>
  <block id="1fd08bfacb23a868822b5aa42dc89a45" category="list-text">Un amministratore di storage che gestisce i database Oracle distribuiti nello storage AWS FSx ONTAP .</block>
  <block id="0ba3984693a0095424864d883f786d47" category="list-text">Un proprietario di un'applicazione che vorrebbe installare database Oracle nell'ambiente AWS FSx/EC2.</block>
  <block id="cdd33b3dc82dd5a7057c39b49fafec92" category="paragraph">Il test e la convalida di questa soluzione sono stati eseguiti in un ambiente AWS FSx ONTAP ed EC2 che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="71c2080d0a74e10a7ba8804b62593571" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione dell'unione incrementale Oracle VLDB nel cloud pubblico AWS con FSx ONTAP.</block>
  <block id="ccab4354ca50092ac62d0c30ac522e50" category="paragraph"><block ref="ccab4354ca50092ac62d0c30ac522e50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0fcdacbce30d770260160f025dfa97ef" category="cell">Due istanze EC2 T2 xlarge EC2, una come server DB primario e l'altra come server DB clone</block>
  <block id="b9d28943555d6006f17f4fe05f964039" category="list-text">*Layout di archiviazione Oracle VLDB per unione incrementale RMAN.*  Nei nostri test e nelle nostre convalide, il volume NFS per il backup incrementale e l'unione di Oracle viene allocato da un singolo file system FSx, con una velocità di elaborazione di 4 GBps, 160.000 IOPS SSD raw e un limite di capacità di 192 TiB.  Per la distribuzione oltre le soglie, è possibile concatenare più file system FSx in parallelo con più punti di montaggio NFS per fornire una capacità maggiore.</block>
  <block id="9d662dbb0e0bb83274ad069971f2189b" category="list-text">*Recuperabilità di Oracle tramite unione incrementale RMAN.*  Il backup incrementale e l'unione RMAN vengono generalmente eseguiti con una frequenza definita dall'utente in base agli obiettivi RTO e RPO.  In caso di perdita totale dell'archiviazione dei dati primari e/o dei registri archiviati, può verificarsi una perdita di dati.  Il database Oracle può essere ripristinato fino all'ultimo backup incrementale disponibile dalla copia dell'immagine di backup del database FSx.  Per ridurre al minimo la perdita di dati, l'area di ripristino flash di Oracle può essere configurata sul punto di montaggio NFS di FSx e i log archiviati vengono sottoposti a backup sul punto di montaggio NFS di FSx insieme alla copia dell'immagine del database.</block>
  <block id="6848d8d3126dc1284b4005ec1fce94d8" category="list-text">*Esecuzione di Oracle VLDB dal file system NFS di FSx.*  A differenza di altri sistemi di archiviazione di massa per il backup di database, AWS FSx ONTAP è uno storage di livello produttivo abilitato al cloud che offre elevati livelli di prestazioni ed efficienza di archiviazione.  Una volta che Oracle VLDB passa dall'archiviazione primaria alla copia dell'immagine sul file system NFS FSx ONTAP , le prestazioni del database possono essere mantenute a un livello elevato mentre viene risolto il problema dell'archiviazione primaria.  Puoi stare tranquillo sapendo che l'esperienza utente delle applicazioni non viene compromessa da un guasto dell'archiviazione primaria.</block>
  <block id="ec7cebb9325ac3cb6f40aefad20e03bd" category="list-text">* Copia dell'immagine FlexClone Oracle VLDB del volume NFS per altri casi d'uso.*  AWS FSx ONTAP FlexClone fornisce copie condivise dello stesso volume di dati NFS che sono scrivibili.  Pertanto, possono essere utilizzati per molti altri casi d'uso, mantenendo comunque l'integrità della copia dell'immagine Oracle VLDB di staging anche quando il database Oracle viene commutato.  Ciò consente un enorme risparmio sui costi di archiviazione riducendo sostanzialmente l'ingombro dello storage VLDB.  NetApp consiglia di ridurre al minimo le attività FlexClone in caso di passaggio del database dallo storage primario alla copia dell'immagine del database, per mantenere elevate le prestazioni di Oracle.</block>
  <block id="e02cfd91d47eca501c65adf66254d387" category="list-text">*Istanze di calcolo EC2.*  In questi test e convalide, abbiamo utilizzato un'istanza AWS EC2 t2.xlarge come istanza di calcolo del database Oracle.  NetApp consiglia di utilizzare un'istanza EC2 di tipo M5 come istanza di elaborazione per Oracle nella distribuzione di produzione perché è ottimizzata per il carico di lavoro del database.  È necessario dimensionare l'istanza EC2 in modo appropriato per il numero di vCPU e la quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="11a64b78983fb952ba99933c98fc56df" category="list-text">*Distribuzione di cluster HA di storage FSx a zona singola o multizona.*  In questi test e convalide, abbiamo distribuito un cluster FSx HA in una singola zona di disponibilità AWS.  Per la distribuzione in produzione, NetApp consiglia di distribuire una coppia FSx HA in due diverse zone di disponibilità.  Un cluster FSx HA viene sempre fornito in una coppia HA sincronizzata in una coppia di file system attivi-passivi per fornire ridondanza a livello di storage.  L'implementazione multizona migliora ulteriormente l'elevata disponibilità in caso di guasto in una singola zona AWS.</block>
  <block id="dbb60fc24045befe2579b82399376e53" category="list-text">*Configurazione dNFS.* dNFS è integrato nel kernel Oracle ed è noto per aumentare notevolmente le prestazioni del database Oracle quando Oracle viene distribuito su storage NFS. dNFS è incluso nel pacchetto binario Oracle ma non è attivato per impostazione predefinita.  Dovrebbe essere attivato per qualsiasi distribuzione di database Oracle su NFS.  Per la distribuzione di più file system FSx per un VLDB, è necessario configurare correttamente il multi-path dNFS verso diversi file system NFS FSx.</block>
  <block id="674b2923f5f187bec3e7e8410e0b215b" category="paragraph">Si presume che il tuo Oracle VLDB sia già distribuito nell'ambiente AWS EC2 all'interno di una VPC.  Se hai bisogno di aiuto con la distribuzione di Oracle in AWS, consulta i seguenti report tecnici.</block>
  <block id="dac14712639b383d9fbc2ddd7e8fa676" category="paragraph">Il tuo Oracle VLDB può essere eseguito su un FSx ONTAP o su qualsiasi altro storage tra quelli disponibili nell'ecosistema AWS EC2.  La sezione seguente fornisce procedure di distribuzione dettagliate per la configurazione dell'unione incrementale RMAN in una copia immagine di un Oracle VLDB in fase di staging in un montaggio NFS da uno storage AWS FSx ONTAP .</block>
  <block id="2cb106b524fea2beb3ee19372f04427b" category="list-text">Dalla console AWS EC2, è necessario distribuire due istanze EC2 Linux, una come server Oracle DB primario e un server DB di destinazione clone alternativo facoltativo.  Per maggiori dettagli sulla configurazione dell'ambiente, consultare il diagramma dell'architettura nella sezione precedente.  Rivedere anche il<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="4eba588de49e83bc4190ad26a66f351a" category="list-text">Dalla console AWS EC2, distribuisci i cluster HA di storage Amazon FSx ONTAP per ospitare i volumi NFS che archiviano la copia dell'immagine di standby del database Oracle.  Se non hai familiarità con la distribuzione dell'archiviazione FSx, consulta la documentazione<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="669ff3f2ba7dca6171b6cc4738349f3f" category="section-title">Fornire ed esportare il volume NFS da montare sull'host dell'istanza del database EC2</block>
  <block id="beef8e24f1fb09f50fd25f29a0576680" category="paragraph">In questa dimostrazione, mostreremo come effettuare il provisioning di un volume NFS dalla riga di comando effettuando l'accesso a un cluster FSx tramite ssh come utente fsxadmin tramite l'IP di gestione del cluster FSx.  In alternativa, il volume può essere allocato anche tramite la console AWS FSx.  Ripetere le procedure su altri file system FSx se sono configurati più file system FSx per adattarsi alle dimensioni del database.</block>
  <block id="2a1085209859c9d5c2d99b39ef5f9808" category="list-text">Per prima cosa, predisporre il volume NFS tramite CLI accedendo al cluster FSx tramite SSH come utente fsxadmin.  Modifica l'indirizzo IP di gestione del cluster FSx, che può essere recuperato dalla console dell'interfaccia utente di AWS FSx ONTAP .</block>
  <block id="09d6e7935025f34dae85044f7e4870bf" category="list-text">Crea un volume NFS delle stesse dimensioni del tuo storage primario per archiviare la copia dell'immagine dei file di dati del database Oracle VLDB primario.</block>
  <block id="7df4f92cb03e6715a6c7d330de46b589" category="list-text">In alternativa, il volume può essere fornito dall'interfaccia utente della console AWS FSx con le opzioni: efficienza di archiviazione<block ref="00d23a76e43b46dae9ec7aa9dcbebb32" prefix=" " category="inline-code"></block> , stile di sicurezza<block ref="6ec1bd1ea6a5d67a63b20c8f6172bddd" prefix=" " category="inline-code"></block> , Politica di snapshot<block ref="6adf97f83acf6453d4a6a4b1070f3754" prefix=" " category="inline-code"></block> e livelli di archiviazione<block ref="e564cced6db6df25023e6429cf11a291" prefix=" " category="inline-code"></block> come mostrato di seguito.</block>
  <block id="80c3a955e402f101ca8fac5c1d20ad52" category="paragraph"><block ref="80c3a955e402f101ca8fac5c1d20ad52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a33ce44212488cbdb886d0cb26238cd8" category="list-text">Crea una policy di snapshot personalizzata per il database Oracle con una pianificazione giornaliera e una conservazione di 30 giorni.  Dovresti adattare la policy alle tue esigenze specifiche in termini di frequenza degli snapshot e finestra di conservazione.</block>
  <block id="f50e19cf713434ce45c0e967a937c4b1" category="paragraph">Applica la policy al volume NFS fornito per il backup incrementale e l'unione RMAN.</block>
  <block id="4c4801c905895fc73c76eb48803356bd" category="list-text">Accedi all'istanza EC2 come ec2-user e crea una directory /nfsfsxn.  Creare directory di punti di montaggio aggiuntivi per file system FSx aggiuntivi.</block>
  <block id="96da60d19f53d464b46b18235e488b0c" category="list-text">Montare il volume NFS FSx ONTAP sull'host dell'istanza del database EC2.  Modifica l'indirizzo NFS lif del tuo server virtuale FSx.  L'indirizzo NFS lif può essere recuperato dalla console dell'interfaccia utente di FSx ONTAP .</block>
  <block id="41fbd60dc26462d8127dea9ccd97bc7c" category="list-text">Modificare la proprietà del punto di montaggio in oracle:oisntall, modificare il nome utente Oracle e il gruppo primario, se necessario.</block>
  <block id="e672188e115cfc49668faf09236fa9a3" category="section-title">Imposta l'unione incrementale di Oracle RMAN per la copia dell'immagine su FSx</block>
  <block id="ab8554776d6b4fb55fd0e03cf7f1cbd5" category="paragraph">L'unione incrementale RMAN aggiorna continuamente la copia dell'immagine dei file di dati del database di staging a ogni intervallo di backup/unione incrementale.  La copia dell'immagine del backup del database sarà aggiornata con la stessa frequenza con cui si esegue il backup/unione incrementale.  Pertanto, quando si decide la frequenza del backup incrementale e dell'unione RMAN, è necessario tenere in considerazione le prestazioni del database e gli obiettivi RTO e RPO.</block>
  <block id="e5ac82720d85625fdd4172bd3616e3c3" category="list-text">Accedi all'istanza EC2 del server DB primario come utente Oracle</block>
  <block id="8d0e6d4de61925d1916712bf22df2fb6" category="list-text">Creare una directory oracopy nel punto di montaggio /nfsfsxn per memorizzare le copie delle immagini dei file di dati Oracle e la directory archlog per l'area di ripristino flash di Oracle.</block>
  <block id="c7cc2b068b84bc607885aa3b7959dfc5" category="list-text">Accedi al database Oracle tramite sqlplus, abilita il monitoraggio delle modifiche dei blocchi per un backup incrementale più rapido e modifica l'area di ripristino flash di Oracle sul montaggio FSx ONTAP se attualmente si trova sullo storage primario.  Ciò consente il backup automatico del file di controllo/spfile predefinito di RMAN e dei log archiviati sul mount NFS di FSx ONTAP per il ripristino.</block>
  <block id="92a7748d0f82560bbce2ab900cd1955b" category="paragraph">Dal prompt di sqlplus, eseguire il seguente comando.</block>
  <block id="4dd8e34c47ee1899b1fd445ff9555012" category="list-text">Creare uno script di backup RMAN e di unione incrementale.  Lo script alloca più canali per il backup e l'unione RMAN paralleli.  La prima esecuzione genererebbe la copia iniziale completa dell'immagine di base.  In un'esecuzione completa, elimina innanzitutto i backup obsoleti che si trovano al di fuori della finestra di conservazione per mantenere pulita l'area di staging.  Quindi cambia il file di registro corrente prima di unirlo e di eseguire il backup.  Il backup incrementale segue l'unione, in modo che la copia dell'immagine del database sia in ritardo rispetto allo stato corrente del database di un ciclo di backup/unione.  L'ordine di unione e backup può essere invertito per un ripristino più rapido, a seconda delle preferenze dell'utente.  Lo script RMAN può essere integrato in un semplice script shell da eseguire da crontab sul server DB primario.  Assicurarsi che il backup automatico del file di controllo sia attivato nelle impostazioni RMAN.</block>
  <block id="ae93d326cc9f712fe006ea475309937c" category="list-text">Sul server EC2 DB, accedi a RMAN localmente come utente Oracle con o senza catalogo RMAN.  In questa dimostrazione non ci stiamo connettendo a un catalogo RMAN.</block>
  <block id="ac32c637aa72dbf6f583c6230b41da8e" category="list-text">Dal prompt RMAN, eseguire lo script.  La prima esecuzione crea una copia dell'immagine del database di base, mentre le esecuzioni successive uniscono e aggiornano la copia dell'immagine di base in modo incrementale.  Di seguito viene descritto come eseguire lo script e il risultato tipico.  Imposta il numero di canali in modo che corrisponda ai core della CPU sull'host.</block>
  <block id="e4c4b8650bec8cf96029a44dde1880ef" category="list-text">Elenca la copia dell'immagine del database dopo il backup per verificare che sia stata creata una copia dell'immagine del database nel punto di montaggio NFS di FSx ONTAP .</block>
  <block id="c924bb54c35d27877a31088ac19cfa72" category="list-text">Schema del report dal prompt dei comandi Oracle RMAN per verificare che i file di dati del database attivi correnti si trovino nel gruppo di dischi ASM +DATA dell'archiviazione primaria.</block>
  <block id="3ce3b6eb52bdc641409f7139da0754cb" category="list-text">Convalida la copia dell'immagine del database dal punto di montaggio NFS del sistema operativo.</block>
  <block id="7d929a2c11ebdbe1a109452e9ed6387a" category="paragraph">Questo completa la configurazione del backup e dell'unione della copia dell'immagine di standby del database Oracle.</block>
  <block id="4a2b45de7eb73f732fa6bff62fc81d22" category="section-title">Passa Oracle DB alla copia dell'immagine per un rapido ripristino</block>
  <block id="e4524be5d2f6b10f07de14a0c1ab6d71" category="paragraph">In caso di guasto dovuto a un problema di archiviazione primaria, come perdita o danneggiamento dei dati, il database può essere rapidamente convertito in una copia dell'immagine sul mount NFS FSx ONTAP e ripristinato allo stato corrente senza dover ripristinare il database.  L'eliminazione del ripristino dei supporti velocizza enormemente il ripristino del database per un VLDB.  Questo caso d'uso presuppone che l'istanza host del database sia intatta e che il file di controllo del database, i log archiviati e quelli correnti siano tutti disponibili per il ripristino.</block>
  <block id="537cc866e4f73e1c941f5c4d2ddab8b2" category="list-text">Accedi all'host del server EC2 DB come utente Oracle e crea una tabella di prova prima di passare.</block>
  <block id="61bbc132a3f6fe227d32c6a35bc77915" category="list-text">Simula un errore arrestando e interrompendo il database, quindi avvia Oracle nella fase di montaggio.</block>
  <block id="c4ab260ce247b7761c38125aef5a7e31" category="list-text">Come utente Oracle, connettiti al database Oracle tramite RMAN per cambiare il database da copiare.</block>
  <block id="3ea66d969bd94f4cf208dd0bf63840e1" category="list-text">Ripristina e apri il database per aggiornarlo allo stato corrente dell'ultimo backup incrementale.</block>
  <block id="271cb3a5612f55b3fb8130a4467d73ec" category="list-text">Controllare la struttura del database da sqlplus dopo il ripristino per osservare che tutti i file di dati del database, ad eccezione dei file di controllo, temporanei e di registro correnti, sono ora trasferiti per la copia sul file system NFS FSx ONTAP .</block>
  <block id="5466bef4632a6a1715d3679bc62c300d" category="list-text">Da SQL plus, controlla il contenuto della tabella di test che abbiamo inserito prima di passare alla copia</block>
  <block id="dd4adbd87c36bf460c0ab4343599cf3c" category="list-text">È possibile eseguire il database Oracle nel montaggio NFS FSx per un periodo prolungato senza alcuna penalizzazione delle prestazioni, poiché FSx ONTAP è uno storage ridondante di livello produttivo che garantisce prestazioni elevate.  Una volta risolto il problema di archiviazione primaria, è possibile ripristinarlo invertendo i processi di unione dei backup incrementali con tempi di inattività minimi.</block>
  <block id="f433e16f47f57d938354f88fa762d7a7" category="section-title">Ripristino del database Oracle dalla copia dell'immagine su un host di istanza del database EC2 diverso</block>
  <block id="5010c026248fa8bd74f134341eba6c23" category="paragraph">In caso di errore, quando vengono persi sia l'archiviazione primaria sia l'host dell'istanza del database EC2, il ripristino non può essere eseguito dal server originale.  Fortunatamente, hai ancora una copia dell'immagine di backup del database Oracle sul file system NFS FSx ONTAP ridondante.  È possibile predisporre rapidamente un'altra istanza identica di EC2 DB e montare facilmente la copia immagine del VLDB sul nuovo host EC2 DB tramite NFS per eseguire il ripristino.  In questa sezione illustreremo passo dopo passo le procedure per farlo.</block>
  <block id="4ffffb6fe23c2e148c9e989b623bc6b2" category="list-text">Inserire una riga per testare la tabella creata in precedenza per il ripristino del database Oracle sulla convalida host alternativa.</block>
  <block id="3f9903e7d4a9861da549de0dae1ea364" category="list-text">Come utente Oracle, esegui il backup incrementale RMAN e unisci per svuotare la transazione nel set di backup sul mount NFS FSx ONTAP .</block>
  <block id="ca8b6e06f9a38563ab902a368af242c6" category="list-text">Arrestare l'host dell'istanza primaria del database EC2 per simulare un guasto totale dell'host del server di archiviazione e del database.</block>
  <block id="6a82ba490c8bb40b71afe1f76748f174" category="list-text">Privilegiare un nuovo host di istanza EC2 DB ora_02 con lo stesso sistema operativo e versione tramite la console AWS EC2.  Configurare il kernel del sistema operativo con le stesse patch dell'host del server DB EC2 primario, Oracle preinstallare RPM e aggiungere anche spazio di swap all'host.  Installare la stessa versione e le stesse patch di Oracle presenti nell'host del server DB EC2 primario con l'opzione solo software.  Queste attività possono essere automatizzate con il toolkit di automazione NetApp disponibile ai link sottostanti.</block>
  <block id="484b6792dca4a6754db8dc27e6c6ba0d" category="inline-link-macro">na_oracle19c_deploy</block>
  <block id="c14496f2e8544d68bddfd689e9f4e75e" category="paragraph">Kit di strumenti:<block ref="f2b9e8cd57c74518bbd4e9f055c1e730" category="inline-link-macro-rx"></block> Documentazione:<block ref="d250d995b4823fc5fd70363256bffcd1" category="inline-link-macro-rx"></block></block>
  <block id="9ffde89a6ba50c3dce0259571ffcf8c8" category="list-text">Configurare l'ambiente Oracle in modo simile all'host dell'istanza primaria del database EC2 ora_01, ad esempio oratab, oraInst.loc e l'utente Oracle .bash_profile.  È buona norma eseguire il backup di tali file sul punto di montaggio NFS di FSx ONTAP .</block>
  <block id="cf6e69c6bddf85bc301fcc9cb6962838" category="list-text">La copia dell'immagine di backup del database Oracle sul mount NFS FSx ONTAP viene archiviata su un cluster FSx che si estende su più zone di disponibilità AWS per garantire ridondanza, elevata disponibilità e prestazioni elevate.  Il file system NFS può essere facilmente montato su un nuovo server, purché la rete sia raggiungibile.  Le seguenti procedure montano la copia dell'immagine di un backup Oracle VLDB sull'host dell'istanza EC2 DB appena fornita per il ripristino.</block>
  <block id="22e76ff31f397dc2b31e0c2a97aafc91" category="paragraph">Come utente ec2, crea il punto di montaggio.</block>
  <block id="aa0a89a579500af6cf1c8d39a6150685" category="paragraph">Come utente ec2, monta il volume NFS in cui è archiviata la copia dell'immagine di backup di Oracle VLDB.</block>
  <block id="e8d8e243e8bde4cf29fbd7f798a6baf1" category="list-text">Convalida la copia dell'immagine di backup del database Oracle sul punto di montaggio NFS FSx ONTAP .</block>
  <block id="d847bc1c604cd81ae6806101788d72ad" category="list-text">Verificare i log archiviati Oracle disponibili sul mount NFS FSx ONTAP per il ripristino e annotare il numero di sequenza dell'ultimo file di log.  In questo caso è 175.  Il nostro punto di ripristino è fino al numero di sequenza del registro 176.</block>
  <block id="15766642bf6adac1b2dcc3fe7efe97db" category="list-text">Come utente Oracle, imposta la variabile ORACLE_HOME sull'installazione Oracle corrente sul nuovo host DB dell'istanza EC2 ora_02, ORACLE_SID sul SID dell'istanza Oracle primaria.  In questo caso è db1.</block>
  <block id="d89d6da26b586b89b6b9a1aa47721936" category="list-text">Come utente Oracle, crea un file init Oracle generico nella directory $ORACLE_HOME/dbs con le directory di amministrazione appropriate configurate.  La cosa più importante è avere Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> puntare al percorso di montaggio NFS FSx ONTAP come definito nell'istanza Oracle VLDB primaria. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configurazione è dimostrata nella sezione<block ref="e672188e115cfc49668faf09236fa9a3" prefix=" " category="inline-code"></block> .  Impostare il file di controllo Oracle sul file system NFS FSx ONTAP .</block>
  <block id="6951e3b7844ae5d3e60eb5dcb338c299" category="paragraph">Con le seguenti voci di esempio:</block>
  <block id="a3d440ae8cc0248159d37338aaf28ec4" category="paragraph">In caso di discrepanza, il file init sopra indicato dovrebbe essere sostituito dal file init di backup ripristinato dal server Oracle DB primario.</block>
  <block id="6cdcdb33b7ec2edec91d323d0fe81c36" category="list-text">Come utente Oracle, avvia RMAN per eseguire il ripristino Oracle su un nuovo host di istanza DB EC2.</block>
  <block id="69c8d3164b4eabc17a7068af76e859ab" category="list-text">Imposta l'ID del database.  L'ID del database può essere recuperato dal nome del file Oracle della copia dell'immagine sul punto di montaggio NFS di FSx.</block>
  <block id="4929814f4c8b867309967d003f3472fb" category="list-text">Ripristina il file di controllo dal backup automatico.  Se è abilitato il backup automatico di Oracle controlfile e spfile, il backup viene eseguito a ogni ciclo di backup incrementale e di unione.  Se sono disponibili più copie, verrà ripristinato l'ultimo backup.</block>
  <block id="cb4aafdbf8cfce9ea979b084999b9458" category="list-text">Ripristinare il file init da spfile in una cartella /tmp per aggiornare in seguito il file dei parametri in modo che corrisponda all'istanza del database primario.</block>
  <block id="39f6eca6a7de81a70cddffc68c8e17e0" category="list-text">Montare il file di controllo e convalidare la copia dell'immagine di backup del database.</block>
  <block id="b036aee1d02945292a171a824ce2cc7f" category="list-text">Cambia il database da copiare per eseguire il ripristino senza ripristinare il database.</block>
  <block id="74f753e2cf1db0c619e10ea98cdba3a4" category="list-text">Esegui il ripristino di Oracle fino all'ultimo registro di archivio disponibile nell'area di ripristino flash.</block>
  <block id="b32650e2f9aad58631cbaa769519a580" category="admonition">Per un ripristino più rapido, abilitare le sessioni parallele con il parametro recovery_parallelism o specificare il grado di parallelismo nel comando di ripristino per il ripristino del database:<block ref="72ba82e38f6375ed705cba8b43d4cf0f" prefix=" " category="inline-code"></block> .  In generale, i gradi di parallelismo dovrebbero essere pari al numero di core della CPU sull'host.</block>
  <block id="977b95efac611dc3eeaed06aba204c87" category="list-text">Uscire da RMAN, accedere a Oracle come utente Oracle tramite sqlplus per aprire il database e reimpostare il registro dopo un ripristino incompleto.</block>
  <block id="6ceae78bd89e5df86bc8e81f7407b7de" category="list-text">Convalida il database ripristinato sul nuovo host che contiene la riga inserita prima dell'errore del database primario.</block>
  <block id="e2f16f903230132f70121566f6a55067" category="list-text">Altri compiti post-recupero</block>
  <block id="086536bbb7f1532894da57cebfcac7b8" category="paragraph">In questo modo viene completato il ripristino del database Oracle VLDB dalla copia dell'immagine di backup sul file system NFS FSx ONTAP a un nuovo host di istanza DB EC2.</block>
  <block id="4737b996f5816f2a4f5834d13933c08f" category="section-title">Copia dell'immagine standby di Oracle clonata per altri casi d'uso</block>
  <block id="b316f3e1185d0474dbb0d60722fed440" category="paragraph">Un altro vantaggio dell'utilizzo di AWS FSx ONTAP per la copia temporanea dell'immagine Oracle VLDB è che può essere FlexClonato per soddisfare molti altri scopi con un investimento minimo in termini di storage aggiuntivo.  Nel seguente caso d'uso, illustriamo come creare uno snapshot e clonare il volume NFS di staging su FSx ONTAP per altri casi d'uso Oracle quali DEV, UAT, ecc.</block>
  <block id="53e8ce069d201591aa4267856420d737" category="list-text">Iniziamo inserendo una riga nella stessa tabella di test creata in precedenza.</block>
  <block id="9a10cae3a2084b172991773f39bcaa66" category="list-text">Eseguire un backup RMAN e unirlo alla copia dell'immagine del database FSx ONTAP in modo che la transazione venga catturata nel set di backup sul mount NFS di FSx ma non unita alla copia finché il database clonato non viene ripristinato.</block>
  <block id="3f29a9686f355189b274a638b5f7b4e2" category="list-text">Accedi al cluster FSx tramite ssh come utente fsxadmin per osservare gli snapshot creati dalla policy di backup pianificata di Oracle e acquisire uno snapshot una tantum in modo che includa la transazione eseguita nel passaggio 1.</block>
  <block id="f47ed0566abed1014329d477596692e1" category="list-text">Clonare lo snapshot una tantum da utilizzare per creare una nuova istanza clone DB1 su un host EC2 Oracle alternativo.  Hai la possibilità di clonare da qualsiasi snapshot giornaliero disponibile per il volume ora_01_copy.</block>
  <block id="d674010d79c4ca8b1548eb14dc15db19" category="list-text">Disattivare la policy snapshot per il volume clonato poiché eredita la policy snapshot del volume padre, a meno che non si desideri proteggere il volume clonato, quindi lasciarla invariata.</block>
  <block id="2d5a0399afe0ebbc20ccc537e1691ac1" category="list-text">Accedi a una nuova istanza EC2 Linux con software Oracle preinstallato con la stessa versione e livello di patch della tua istanza Oracle EC2 primaria e monta il volume clonato.</block>
  <block id="1955f680df8fadf63d4bd9e5ce9ddf0d" category="list-text">Convalida i set di backup incrementali del database, la copia delle immagini e i log archiviati disponibili sul mount NFS di FSx.</block>
  <block id="b4f1ff50bc44cf0fa23d91e3daaecc7a" category="list-text">I processi di ripristino sono ora simili al precedente caso d'uso di ripristino su una nuova istanza di EC2 DB dopo un errore: impostare l'ambiente Oracle (oratab, $ORACLE_HOME, $ORACLE_SID) in modo che corrisponda all'istanza di produzione primaria, creare un file init che includa db_recovery_file_dest_size e db_recovery_file_dest che punti alla directory di ripristino flash sul mount NFS di FSx.  Quindi, avviare RMAN per eseguire il ripristino.  Di seguito sono riportati i passaggi del comando e l'output.</block>
  <block id="31ef8f0e18e31ab3c319011fa3085595" category="list-text">Rinominare l'istanza del database clonata e modificare l'ID del database con l'utilità Oracle nid.  Lo stato dell'istanza del database deve essere in<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> per eseguire il comando.</block>
  <block id="deae90bf8a8075e066b36ab46839b972" category="list-text">Modificare la configurazione dell'ambiente del database Oracle con un nuovo nome di database o ID istanza in oratab, file init e creare le directory di amministrazione necessarie che corrispondano al nuovo ID istanza.  Quindi, avviare l'istanza con l'opzione resetlogs.</block>
  <block id="539484c3a56c32c91eebd8b6c6dd0c01" category="paragraph">In questo modo si completa la clonazione di una nuova istanza Oracle dalla copia del database di staging sul mount NFS FSx per DEV, UAT o qualsiasi altro caso d'uso.  È possibile clonare più istanze di Oracle dalla stessa copia dell'immagine di staging.</block>
  <block id="b122ab6bc46093e4e498238b2da87899" category="admonition">Se riscontri un errore<block ref="db9915ff14e5c2a62fbc300de8219575" prefix=" " category="inline-code"></block> quando si cambia il database da copiare, controllare l'incarnazione del database che corrisponde al DB di produzione primario.  Se necessario, reimpostare l'incarnazione in modo che corrisponda al primario con il comando RMAN<block ref="762ac7c31f911d73b6a11960c393c6ad" prefix=" " category="inline-code"></block> .</block>
  <block id="420087855d0829aebf7985f8b037c0f5" category="list-text">RMAN: Strategie di backup incrementale unite (ID documento 745798.1)</block>
  <block id="cebc42ddf70311bb702156ffc928e04f" category="inline-link-macro"><block ref="cebc42ddf70311bb702156ffc928e04f" category="inline-link-rx"></block></block>
  <block id="fb535d4ffc04924a6c6853e4c44cdf5e" category="paragraph"><block ref="fb535d4ffc04924a6c6853e4c44cdf5e" category="inline-link-macro-rx"></block></block>
  <block id="0c10dedf45d356e3143692b00bf17a78" category="list-text">Guida utente per il backup e il ripristino di RMAN</block>
  <block id="067d09ddb20edd1de533097e38987388" category="inline-link-macro"><block ref="067d09ddb20edd1de533097e38987388" category="inline-link-rx"></block></block>
  <block id="475010ac362493ac8aa5ebd15ee454e5" category="paragraph"><block ref="475010ac362493ac8aa5ebd15ee454e5" category="inline-link-macro-rx"></block></block>
  <block id="86d943d0743178f4b51317bf89a99ff7" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione del database Oracle nell'archiviazione AWS FSx ONTAP e nell'istanza di elaborazione EC2 con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="7571a50993544bc3577cd4ec421ff507" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione del database Oracle nell'archiviazione AWS FSx ONTAP e nell'istanza di elaborazione EC2 con protocollo iSCSI e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="7a84a73fe9b54c9478dfc0e58c918688" category="paragraph">ASM (Automatic Storage Management) è un noto gestore di volumi di archiviazione Oracle utilizzato in numerose installazioni Oracle.  È anche la soluzione di gestione dello storage consigliata da Oracle.  Fornisce un'alternativa ai gestori di volumi e ai file system convenzionali.  A partire dalla versione 11g di Oracle, ASM è stato integrato con un'infrastruttura grid anziché con un database.  Di conseguenza, per utilizzare Oracle ASM per la gestione dello storage senza RAC, è necessario installare l'infrastruttura Oracle Grid in un server autonomo, noto anche come Oracle Restart.  Ciò aggiunge sicuramente maggiore complessità all'implementazione del database Oracle.  Tuttavia, come suggerisce il nome, quando Oracle viene distribuito in modalità di riavvio, i servizi Oracle non riusciti vengono riavviati automaticamente dall'infrastruttura della griglia o dopo un riavvio dell'host senza l'intervento dell'utente, il che fornisce un certo grado di elevata disponibilità o funzionalità HA.</block>
  <block id="d88a6b63e8fd515026fecb9fdd301a21" category="paragraph">In questa documentazione, illustriamo come distribuire un database Oracle con il protocollo iSCSI e Oracle ASM in un ambiente di archiviazione Amazon FSx ONTAP con istanze di elaborazione EC2.  Mostreremo inoltre come utilizzare il servizio NetApp SnapCenter tramite la console NetApp BlueXP per eseguire il backup, il ripristino e la clonazione del database Oracle per scopi di sviluppo/test o altri casi d'uso per operazioni di database efficienti in termini di storage nel cloud pubblico AWS.</block>
  <block id="d288078bc44aec57a43f0062fb7ece6c" category="list-text">Distribuzione del database Oracle in istanze di archiviazione Amazon FSx ONTAP e di elaborazione EC2 con iSCSI/ASM</block>
  <block id="a47b73991317ed980de57441ff2ec0b0" category="list-text">Test e convalida di un carico di lavoro Oracle nel cloud pubblico AWS con iSCSI/ASM</block>
  <block id="7776a288eb4d92068f227343e40955be" category="list-text">Test e convalida delle funzionalità di riavvio del database Oracle distribuite in AWS</block>
  <block id="c7940228c5d339083ac147fb2a5041de" category="list-text">Un DBA che desidera distribuire Oracle in un cloud pubblico AWS con iSCSI/ASM.</block>
  <block id="53a21d50adb7cce93e4304c816d40c51" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle nel cloud pubblico AWS.</block>
  <block id="b316baf0d21d8e459e4220a2cf5102a5" category="list-text">L'amministratore dello storage che desidera distribuire e gestire un database Oracle distribuito nello storage AWS FSx.</block>
  <block id="6b41622d6a121d89a6342fe9ff47665c" category="list-text">Il proprietario dell'applicazione che desidera installare un database Oracle in AWS FSx/EC2.</block>
  <block id="b1e308947dfb7ac3f2701611b0393713" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente AWS FSx ed EC2 che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="8885f24345e0413623d17b7770be0df9" category="paragraph"><block ref="8885f24345e0413623d17b7770be0df9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fed6fa1f1b675c268f8b78258e2545a7" category="cell">Servizio SnapCenter</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">Versione</block>
  <block id="313d712dbc391a0b9d6dca3efe0d2608" category="cell">v2.3.1.2324</block>
  <block id="b1a9b82f5c1b9e62aff87e622f684e76" category="list-text">*Istanze di calcolo EC2.*  In questi test e convalide, abbiamo utilizzato un tipo di istanza AWS EC2 t2.xlarge per l'istanza di calcolo del database Oracle.  NetApp consiglia di utilizzare un'istanza EC2 di tipo M5 come istanza di elaborazione per Oracle nella distribuzione di produzione perché è ottimizzata per i carichi di lavoro del database.  È necessario dimensionare l'istanza EC2 in modo appropriato per il numero di vCPU e la quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="6b40058c097249f6255fcf9c967d47ee" category="list-text">*Layout dei dati e dei log di Oracle.*  Nei nostri test e nelle nostre convalide, abbiamo distribuito due gruppi di dischi ASM rispettivamente per i dati e i log.  All'interno del gruppo di dischi asm +DATA, abbiamo predisposto quattro LUN in un volume di dati.  All'interno del gruppo di dischi asm +LOGS, abbiamo predisposto due LUN in un volume di log.  In generale, più LUN disposte all'interno di un volume Amazon FSx ONTAP garantiscono prestazioni migliori.</block>
  <block id="38c723472785b6d114cf9e85b7ffd3d1" category="list-text">*Configurazione iSCSI.*  Il server del database dell'istanza EC2 si connette allo storage FSx tramite il protocollo iSCSI.  Le istanze EC2 vengono generalmente distribuite con una singola interfaccia di rete o ENI.  L'unica interfaccia NIC trasporta sia il traffico iSCSI che quello applicativo.  È importante valutare il requisito di throughput I/O di picco del database Oracle analizzando attentamente il report Oracle AWR per scegliere un'istanza di elaborazione EC2 corretta che soddisfi sia i requisiti di throughput del traffico iSCSI che quelli dell'applicazione.  NetApp consiglia inoltre di allocare quattro connessioni iSCSI a entrambi gli endpoint iSCSI FSx con multipath configurato correttamente.</block>
  <block id="db1de135a2e3ba870a8f80ce78d2d05e" category="list-text">*Livello di ridondanza di Oracle ASM da utilizzare per ogni gruppo di dischi Oracle ASM creato.*  Poiché FSx esegue già il mirroring dello storage a livello di cluster FSx, è necessario utilizzare la ridondanza esterna, il che significa che l'opzione non consente a Oracle ASM di eseguire il mirroring del contenuto del gruppo di dischi.</block>
  <block id="e35fd1c687443b2da6a609bba53616b4" category="list-text">*Backup del database.*  NetApp fornisce una versione SaaS del servizio SnapCenter software per il backup, il ripristino e la clonazione del database nel cloud, disponibile tramite l'interfaccia utente della console NetApp BlueXP .  NetApp consiglia di implementare un servizio di questo tipo per ottenere un backup SnapShot veloce (meno di un minuto), un ripristino rapido del database (pochi minuti) e la clonazione del database.</block>
  <block id="2398118900b3388f97d9931571f1bbda" category="paragraph">Nella sezione seguente vengono fornite procedure di distribuzione dettagliate.</block>
  <block id="317caa50e7f894c5aad8bb78d329632b" category="list-text">Dalla console AWS EC2, distribuisci cluster HA di storage Amazon FSx ONTAP per ospitare i volumi del database Oracle.  Se non hai familiarità con la distribuzione dell'archiviazione FSx, consulta la documentazione<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="dd303169f721e79331b3683ddafddcc1" category="list-text">I passaggi 2 e 3 possono essere eseguiti utilizzando il seguente toolkit di automazione Terraform, che crea un'istanza EC2 denominata<block ref="460dc55b5ffb0266f2c889b06ee73344" prefix=" " category="inline-code"></block> e un file system FSx denominato<block ref="8cbb7b3050d3c3aa08a529f429bc4555" prefix=" " category="inline-code"></block> .  Rivedere attentamente le istruzioni e modificare le variabili in base all'ambiente prima dell'esecuzione.</block>
  <block id="62ee860e3d0c08c6573d2e328543e8de" category="section-title">Configurazione del kernel dell'istanza EC2</block>
  <block id="f352a88dccea452ec98375dda0311257" category="paragraph">Una volta soddisfatti i prerequisiti, accedi all'istanza EC2 come ec2-user e usa sudo come utente root per configurare il kernel Linux per l'installazione di Oracle.</block>
  <block id="5a8cdca62a149c76be848350ba5cbfd0" category="list-text">Creare una directory di staging<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> cartella e impostare il<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block> permesso.</block>
  <block id="e252f38e51fe6c121fdf68268f7365b7" category="list-text">Scaricare e mettere in scena i file di installazione binaria di Oracle e altri file rpm richiesti su<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="2463a0e4e0f5e0cae480165d25c3d218" category="paragraph">Vedere il seguente elenco di file di installazione da indicare in<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> sull'istanza EC2.</block>
  <block id="7b25ef659963c88fe23b78fc4712aabf" category="list-text">Installare Oracle 19c preinstall RPM, che soddisfa la maggior parte dei requisiti di configurazione del kernel.</block>
  <block id="1527576f8dc9eea4d63eb05b809aaa52" category="list-text">Scarica e installa il file mancante<block ref="d2e5af6ee2b267de9dac1b472a03adf3" prefix=" " category="inline-code"></block> in Linux 8.</block>
  <block id="b2371ec5566671ad5a4ad4a5ea6cba11" category="list-text">Da NetApp, scarica e installa le utility host NetApp .</block>
  <block id="b6e7702627b94eaa3030b577d6d705bc" category="list-text">Installare<block ref="c8dff58175a7ddfedf00d77953ef42dd" prefix=" " category="inline-code"></block> , che non è disponibile nell'istanza EC2.</block>
  <block id="9a16a877dc258dab15fccea468433118" category="list-text">Installare la versione 1.8 di Open JDK.</block>
  <block id="1684a037c41a5a896a961b99be3d79c7" category="list-text">Installare le utilità dell'iniziatore iSCSI.</block>
  <block id="c9d53c5d17f956afae2225c70107de12" category="list-text">Installare<block ref="4c17da57a03262c55ed7eaf9b11476b4" prefix=" " category="inline-code"></block> .</block>
  <block id="390748df672cba58066187eedd5aae0e" category="list-text">Installare<block ref="a3938eeca32dce6ca3908d2eae163c75" prefix=" " category="inline-code"></block> .</block>
  <block id="8d5128c24aba40267289419650d61baf" category="list-text">Disattiva le pagine enormi trasparenti nel sistema attuale.</block>
  <block id="0410d25eb8075ef0d6eb88ced58d20d0" category="paragraph">Aggiungere le seguenti righe in<block ref="08561da4afe8299be4016c92bfe83435" prefix=" " category="inline-code"></block> disabilitare<block ref="d78ade61a64b6a278ed6278e7cfd91f3" prefix=" " category="inline-code"></block> dopo il riavvio:</block>
  <block id="ac762383bc7427decd2147abbadaccaa" category="list-text">Disabilitare selinux modificando<block ref="cb42f4736bc8f64983eeffc1e0b4f44a" prefix=" " category="inline-code"></block> A<block ref="52647e37ec523adfcaa3fec9bcef128e" prefix=" " category="inline-code"></block> .  Per rendere effettiva la modifica è necessario riavviare l'host.</block>
  <block id="2d1601e142ebdb74931ee9a254b65262" category="list-text">Aggiungere le seguenti righe a<block ref="8b5eec1c5f63341b700263cc37cbae02" prefix=" " category="inline-code"></block> per impostare il limite del descrittore di file e la dimensione dello stack senza virgolette<block ref="fcc3d7489d15ef49dbbf735234234cf7" prefix=" " category="inline-code"></block> .</block>
  <block id="03c10a897f1e18c6adaea250b9f30f19" category="inline-link-macro">Come posso allocare memoria da utilizzare come spazio di swap in un'istanza Amazon EC2 utilizzando un file di swap?</block>
  <block id="410eaf64cdfb52cb0921ea732490d0db" category="list-text">Aggiungere spazio di swap all'istanza EC2 seguendo queste istruzioni:<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> La quantità esatta di spazio da aggiungere dipende dalla dimensione della RAM, fino a 16 GB.</block>
  <block id="c9f7be60d92cf42de8f14f5ab8547971" category="list-text">Modifica<block ref="b7e6d8bff01730e41b7d91437e6a25d0" prefix=" " category="inline-code"></block> nel<block ref="c30b27a1b058924e30212c72bb553665" prefix=" " category="inline-code"></block> file di configurazione da 120 a 5 secondi.</block>
  <block id="bca8f765f0293b09679dd10ece969e68" category="list-text">Abilitare e avviare il servizio iSCSI sull'istanza EC2.</block>
  <block id="3cb574654986fcf318668b4bf3313724" category="list-text">Recupera l'indirizzo dell'iniziatore iSCSI da utilizzare per la mappatura LUN del database.</block>
  <block id="c5b771b8234c127dccd38858c77e24a0" category="list-text">Aggiungere il gruppo ASM da utilizzare per il gruppo asm sysasm.</block>
  <block id="f7b4c2e912a168f005ed7cc2b4799c08" category="list-text">Modificare l'utente Oracle per aggiungere ASM come gruppo secondario (l'utente Oracle avrebbe dovuto essere creato dopo l'installazione di Oracle Preinstall RPM).</block>
  <block id="35a8e6f6e0f2c89cd450cda8861ac889" category="list-text">Arrestare e disattivare il firewall Linux se è attivo.</block>
  <block id="8d3a75a7cdef66372dcf58e6278bba70" category="list-text">Riavviare l'istanza EC2.</block>
  <block id="64014fc61a9016f43a5537d6da141cc1" category="section-title">Fornire e mappare i volumi del database e le LUN all'host dell'istanza EC2</block>
  <block id="35e176617d52dd956b8015d8ca19c32d" category="paragraph">Fornire tre volumi dalla riga di comando effettuando l'accesso al cluster FSx tramite ssh come utente fsxadmin con IP di gestione del cluster FSx per ospitare i file binari, di dati e di registro del database Oracle.</block>
  <block id="c848cfd9c04d86e7b9919e11add79f6c" category="list-text">Accedere al cluster FSx tramite SSH come utente fsxadmin.</block>
  <block id="eff24d82c422927b06fd0cacd430b653" category="list-text">Eseguire il seguente comando per creare un volume per il binario Oracle.</block>
  <block id="569cffa50e6428a06bffa2e19d12e0e3" category="list-text">Eseguire il seguente comando per creare un volume per i dati Oracle.</block>
  <block id="9985026df910c788cb47555f7d72a68e" category="list-text">Eseguire il seguente comando per creare un volume per i log di Oracle.</block>
  <block id="cc70e928fff63a76ca8cf30a05d95a80" category="list-text">Creare un LUN binario all'interno del volume binario del database.</block>
  <block id="dc4301dd6be2058cb9d1a1e3408388eb" category="list-text">Creare LUN di dati all'interno del volume di dati del database.</block>
  <block id="49cf66e4521ade9e7ffc2aae313ee978" category="list-text">Creare LUN di registro all'interno del volume dei registri del database.</block>
  <block id="3e408df5c51ac33acd5978f1f48cab19" category="list-text">Creare un igroup per l'istanza EC2 con l'iniziatore recuperato dal passaggio 14 della configurazione del kernel EC2 sopra.</block>
  <block id="ceed9a3dd22f247b70bb6774943f9284" category="list-text">Mappare i LUN sull'igroup creato sopra.  Incrementare l'ID LUN in sequenza per ogni LUN aggiuntivo all'interno di un volume.</block>
  <block id="18519dc23f47343cf516e789bf2e818b" category="list-text">Convalidare la mappatura LUN.</block>
  <block id="3208f25d37711dd9ffc43d93ada2a3cc" category="paragraph">Si prevede che ciò restituisca:</block>
  <block id="35c1914e41e83f92dd8779f5708f3224" category="section-title">Configurazione dell'archiviazione del database</block>
  <block id="47d78479fc855bd2f99f02fb94118789" category="paragraph">Ora, importa e configura lo storage FSx per l'infrastruttura Oracle Grid e l'installazione del database sull'host dell'istanza EC2.</block>
  <block id="aa218771b85a8ecc41cc249ba90ea5f8" category="list-text">Accedi all'istanza EC2 tramite SSH come ec2-user con la tua chiave SSH e l'indirizzo IP dell'istanza EC2.</block>
  <block id="a7939166c08e8ac6da1530309825a401" category="list-text">Scopri gli endpoint iSCSI FSx utilizzando l'indirizzo IP iSCSI SVM.  Quindi modifica l'indirizzo del portale specifico del tuo ambiente.</block>
  <block id="1bc103d13645d8a07f4a05f2eee064f8" category="list-text">Stabilire sessioni iSCSI effettuando l'accesso a ciascuna destinazione.</block>
  <block id="fc5113f60b8b0390133d7abda7290515" category="paragraph">L'output previsto dal comando è:</block>
  <block id="c541a8df6ddefee9ae370e31bf1109cc" category="list-text">Visualizza e convalida un elenco di sessioni iSCSI attive.</block>
  <block id="efe44c0a293be7b9e3d17291e1bd0fce" category="paragraph">Restituisce le sessioni iSCSI.</block>
  <block id="e4a8008161f8d488131b8bf10831bf6c" category="list-text">Verificare che i LUN siano stati importati nell'host.</block>
  <block id="f467f5c5010c383146b412ebc7d2a967" category="paragraph">Verrà restituito un elenco di Oracle LUN da FSx.</block>
  <block id="08b7a2f63e8caee3c8d0f32a3d9dd5ea" category="list-text">Configurare il<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> file con le seguenti voci predefinite e della blacklist.</block>
  <block id="794a654f60052714db9eba2a7ff4b608" category="list-text">Avviare il servizio multipath.</block>
  <block id="65b4cea56e6d27de22dc85622fe6a7fb" category="paragraph">Ora i dispositivi multipath appaiono nel<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="d282577e5b16ee7f17ce7cd0f718be4c" category="list-text">Accedi al cluster FSx come utente fsxadmin tramite SSH per recuperare il numero seriale esadecimale per ogni LUN che inizia con 6c574xxx..., il numero esadecimale inizia con 3600a0980, che è l'ID del fornitore AWS.</block>
  <block id="2720e08c2a6367757e2dc57afee1620c" category="paragraph">e restituire come segue:</block>
  <block id="ecf2aff9ad02b9026ff22f4fc6a68e73" category="list-text">Aggiorna il<block ref="bacd7d75ae434c4a777b1baef0e31f36" prefix=" " category="inline-code"></block> file per aggiungere un nome di facile utilizzo per il dispositivo multipath.</block>
  <block id="75104fff60881baaf37dcb441594f8a1" category="paragraph">con le seguenti voci:</block>
  <block id="e73e686392436f1038dd926c4a775f24" category="list-text">Riavviare il servizio multipath per verificare che i dispositivi in<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> sono stati modificati in nomi LUN anziché in ID esadecimali seriali.</block>
  <block id="5f9e8fcf665ea0cca4e1c6eea45645e4" category="paragraph">Controllo<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> per tornare come segue:</block>
  <block id="6f6e08574875efd99672521b7c49bd5f" category="list-text">Partizionare la LUN binaria con una singola partizione primaria.</block>
  <block id="d90e8b8ea181e08e8bf690f2c3143681" category="list-text">Formattare il LUN binario partizionato con un file system XFS.</block>
  <block id="999ccfc779bcbed2a3561bff37f884d1" category="list-text">Montare il LUN binario su<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> .</block>
  <block id="22e45c04a42f3d5d2b9ca76b19445949" category="list-text">Modifica<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> la proprietà del punto di montaggio spetta all'utente Oracle e al gruppo primario associato.</block>
  <block id="a7d5cd359d07f4d25f07c14cac7c892f" category="list-text">Trova l'UUI del LUN binario.</block>
  <block id="419b15da0e06224d0919aaf7cf7c0394" category="list-text">Aggiungi un punto di montaggio a<block ref="816a3ef77b62ade41c3f936c958aa555" prefix=" " category="inline-code"></block> .</block>
  <block id="4f86d8e0be25b09fa4c4f087139fcd0d" category="paragraph">Aggiungere la seguente riga.</block>
  <block id="b79f3809b435063f1d43819c9baaf816" category="admonition">È importante montare il binario solo con l'UUID e con l'opzione nofail per evitare possibili problemi di blocco della root durante il riavvio dell'istanza EC2.</block>
  <block id="ad7b51bb9b820412dddd78b34ccf36ea" category="list-text">Come utente root, aggiungere la regola udev per i dispositivi Oracle.</block>
  <block id="8e7c7ff83f0da1eceabb8c7fbb255de4" category="paragraph">Includi le seguenti voci:</block>
  <block id="d347f5dbb8625ab56eb3b8ad0f1ed6ca" category="list-text">Come utente root, ricaricare le regole udev.</block>
  <block id="967abd537fdc45fbfc59ee4d5fbd70d2" category="list-text">Come utente root, attiva le regole udev.</block>
  <block id="aeead6d2d9990fef69ffefd2efd88b90" category="list-text">Come utente root, ricaricare multipathd.</block>
  <block id="71d434c6aec8c195bc1cd610cf2aadf7" category="list-text">Riavviare l'host dell'istanza EC2.</block>
  <block id="3cadabe14e57cb049891c97e754906d7" category="section-title">Installazione dell'infrastruttura Oracle Grid</block>
  <block id="2ba967266d1ac37f6ee2c138c7a219f1" category="list-text">Accedi all'istanza EC2 come ec2-user tramite SSH e abilita l'autenticazione tramite password rimuovendo il commento<block ref="cd94e87e5216cd088acdc4de0e9c30f1" prefix=" " category="inline-code"></block> e poi commentando<block ref="f18918133cfc22e041baab71b051c41f" prefix=" " category="inline-code"></block> .</block>
  <block id="f919e378a236907726426311e1222ca5" category="list-text">Riavviare il servizio sshd.</block>
  <block id="886890ea240491bd5c7fbf2ad26038e0" category="list-text">Reimposta la password utente Oracle.</block>
  <block id="312dbdb4917346c5535b58edeb72d5d8" category="list-text">Accedere come utente proprietario del software Oracle Restart (oracle).  Creare una directory Oracle come segue:</block>
  <block id="2fce107e9da63a27050a1b7738518797" category="list-text">Modificare l'impostazione dei permessi della directory.</block>
  <block id="de76f7d30e13c7b0fac443a1b582500b" category="list-text">Crea una directory home della griglia e accedi ad essa.</block>
  <block id="ca3eab9cf7a8f03f19d82f95a9ccebc0" category="list-text">Decomprimere i file di installazione della griglia.</block>
  <block id="4cb0c768cefd4361adc66dd3dfac2ad8" category="list-text">Dalla griglia iniziale, elimina il<block ref="29b6fb214b3224ca10c7261aa01e44b5" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="839a5e9d346e3ac874bc8e301897bdc6" category="list-text">Dalla griglia iniziale, decomprimi<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> .</block>
  <block id="5d940bd40ee32694345bce5774d5c678" category="list-text">Dalla griglia di casa, rivedere<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> , rimuovi il commento e sostituisci<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> con<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="ade261e787d22aca7a93418fe8127036" category="list-text">Aggiorna un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> file per l'installazione silenziosa e posizionare il file rsp nel<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> elenco.  Il file rsp dovrebbe comprendere le sezioni A, B e G con le seguenti informazioni:</block>
  <block id="72eab9d7fc33889fd5bf6a85943c4e4a" category="list-text">Accedi all'istanza EC2 come utente root e imposta<block ref="e1f651debac4f720c13ae930ff3ca14a" prefix=" " category="inline-code"></block> E<block ref="456a3c82b7208b5c2a000597b1330564" prefix=" " category="inline-code"></block> .</block>
  <block id="d134d418859128801ec294cd10bcbd8e" category="list-text">Fornire dispositivi disco da utilizzare con il driver del filtro Oracle ASM.</block>
  <block id="3e6c5f0c8e9c1310879c66839bb0f8d5" category="list-text">Installare<block ref="a27b4e2b8f4a0b0419894dfeac36419e" prefix=" " category="inline-code"></block> .</block>
  <block id="cfdbf231484c64b98bc4f3569cd7b324" category="list-text">Non impostato<block ref="c0c2c8394b04a929ffc60091aa1f72ca" prefix=" " category="inline-code"></block> .</block>
  <block id="9817d9ff96af960709b8094b73294545" category="list-text">Accedi all'istanza EC2 come utente Oracle ed estrai la patch in<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> cartella.</block>
  <block id="5fa683f35265bf7469d9de8c3afc1f42" category="list-text">Dalla home della griglia /u01/app/oracle/product/19.0.0/grid e come utente Oracle, avviare<block ref="30c950549715985c6b7c7cd6990d0f4b" prefix=" " category="inline-code"></block> per l'installazione dell'infrastruttura di rete.</block>
  <block id="5de6732dda1e7bccbd8e8b367ad248dd" category="paragraph">Ignorare gli avvisi sui gruppi errati per l'infrastruttura di rete.  Stiamo utilizzando un singolo utente Oracle per gestire Oracle Restart, quindi questo è previsto.</block>
  <block id="26f36488ec442bab2ba0cda087d435eb" category="list-text">Come utente root, eseguire i seguenti script:</block>
  <block id="ada113db66e2b1b6ed982918830cd12e" category="list-text">Come utente root, ricaricare multipathd.</block>
  <block id="7dff0a250c79eafa071ee2d5713b7123" category="list-text">Come utente Oracle, esegui il seguente comando per completare la configurazione:</block>
  <block id="591ab7f85cb5618030a7a7562552188b" category="list-text">Come utente Oracle, da $GRID_HOME, creare il gruppo di dischi LOGS.</block>
  <block id="f71fbb7ff86224d636aac5f9bb42f27d" category="list-text">Come utente Oracle, convalidare i servizi della griglia dopo la configurazione dell'installazione.</block>
  <block id="f9ba171dd47a8cef31bac8aa17eeb44d" category="list-text">Convalida lo stato del driver del filtro ASM.</block>
  <block id="b7e3e332087b6a041c83ce22cce9043c" category="section-title">Installazione del database Oracle</block>
  <block id="9250c441cd32cef9ac89c4aaea3311e2" category="list-text">Accedi come utente Oracle e deseleziona<block ref="88ee3ad336791517a935931e1e50382a" prefix=" " category="inline-code"></block> E<block ref="1548c2f12948ef1485a923f5891a3489" prefix=" " category="inline-code"></block> se è impostato.</block>
  <block id="9c1b98a904b357f470c8d87cf837d8cf" category="list-text">Creare la directory home di Oracle DB e spostarsi su di essa.</block>
  <block id="74d5f0f080c7e7c4f0011e6b16a1072f" category="list-text">Decomprimere i file di installazione di Oracle DB.</block>
  <block id="1fdd02c9779c06712368af7ed65c00dd" category="list-text">Dalla home del DB, eliminare il<block ref="29b6fb214b3224ca10c7261aa01e44b5" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="f2be6b31ed6989aef561023d439a1cd3" category="list-text">Dalla home page del DB, decomprimi<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> .</block>
  <block id="d86c0eec890e4216540c2b834f6339f5" category="list-text">Da DB home, rivedere<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> , e rimuovi il commento e sostituisci<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> con<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="95233719931805924ded9cd671e036df" category="list-text">Dal<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> directory, decomprimere la patch DB 19.18 RU.</block>
  <block id="1df6bf791388469a048d36559ff5657f" category="list-text">Aggiorna il file rsp standard di installazione silenziosa del DB in<block ref="2d9ffa0a3db25b02bcd0091245449764" prefix=" " category="inline-code"></block> directory con i seguenti valori nelle sezioni pertinenti:</block>
  <block id="bdae34f2df30f19488bd87890188b905" category="list-text">Dalla home del db1 /u01/app/oracle/product/19.0.0/db1, eseguire l'installazione silenziosa del DB solo software.</block>
  <block id="f9db0d5335309d4958e09e8149d7de4d" category="list-text">Come utente root, eseguire il comando<block ref="08030ad08b2b991d61b424afd8828758" prefix=" " category="inline-code"></block> script dopo l'installazione del solo software.</block>
  <block id="8821c8f59553819485edcda3389eda45" category="list-text">Come utente Oracle, aggiorna lo standard<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> file con le seguenti voci nelle sezioni pertinenti:</block>
  <block id="da25f52d1901e3ad93cbe64aa2eb939e" category="list-text">Come utente Oracle, dalla directory $ORACLE_HOME, avvia la creazione del DB con dbca.</block>
  <block id="2a00dbe4c39e81805212ab123d0995df" category="list-text">Come utente Oracle, convalidare i servizi Oracle Restart HA dopo la creazione del DB.</block>
  <block id="05472424b7ce7bd118009f6cde3a0614" category="list-text">Imposta l'utente Oracle<block ref="9e0037ad71166970bde5f910189cc94a" prefix=" " category="inline-code"></block> .</block>
  <block id="cadaa91ab9001028d3a153b4325f10a5" category="list-text">Aggiungere le seguenti voci:</block>
  <block id="ab5f5bab123b3441fc9c838b46ff1150" category="list-text">Convalida il CDB/PDB creato.</block>
  <block id="432e3219f8a15b5476e2e71941cc6e61" category="list-text">Impostare la dimensione della destinazione di ripristino del DB sulla dimensione del gruppo di dischi +LOGS.</block>
  <block id="a0b58d032d36bf0801e5ca3a2aa515d9" category="list-text">Accedi al database con sqlplus e abilita la modalità di registro di archivio.</block>
  <block id="9ef846791296cb428b8d2c0b2e01e7d1" category="paragraph">Questo completa la distribuzione di Oracle 19c versione 19.18 Restart su un'istanza di elaborazione Amazon FSx ONTAP ed EC2.  Se lo si desidera, NetApp consiglia di spostare il file di controllo Oracle e i file di registro online nel gruppo di dischi +LOGS.</block>
  <block id="4d3617697efd9a8201cb07f5e610e306" category="section-title">Opzione di distribuzione automatizzata</block>
  <block id="df4723e08600f333de3a003e1cc3b83e" category="paragraph">Fare riferimento a<block ref="f849f18cdfe2827921d0c0c510ba74af" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="6cf7e59477fa5c8722c79a0910c40cd8" category="section-title">Backup, ripristino e clonazione del database Oracle con il servizio SnapCenter</block>
  <block id="a0c9cf73752e72933d08cadbcdf8c05a" category="inline-link-macro">Servizi SnapCenter per Oracle</block>
  <block id="dc8e1ce149bf12e5c226b870af261614" category="paragraph">Vedere<block ref="204b993af8240d69dcd89b6d08cc0633" category="inline-link-macro-rx"></block> per i dettagli sul backup, il ripristino e la clonazione del database Oracle con la console NetApp BlueXP .</block>
  <block id="f3b25b37995dab3a1b6c753dd74ca21e" category="summary">Questa sezione fornisce dettagli su come i database AWS RDS Custom per Oracle vengono gestiti tramite l'interfaccia utente SnapCenter come supplemento all'interfaccia utente della console AWS RDS.</block>
  <block id="d0dfaca5f0573d672a0f4dc66997c002" category="doc">Gestione del database Oracle EC2 e FSx</block>
  <block id="cf8b301cbf8aa698c578ff1f8e64ccc2" category="paragraph">Oltre alla console di gestione AWS EC2 e FSx, in questo ambiente Oracle vengono implementati il nodo di controllo Ansible e lo strumento SnapCenter UI per la gestione del database.</block>
  <block id="ab1b9a020f08729c00ecee14e5a3be69" category="paragraph">Un nodo di controllo Ansible può essere utilizzato per gestire la configurazione dell'ambiente Oracle, con aggiornamenti paralleli che mantengono sincronizzate le istanze primarie e di standby per gli aggiornamenti del kernel o delle patch.  Il failover, la risincronizzazione e il failback possono essere automatizzati con NetApp Automation Toolkit per archiviare rapidamente il ripristino e la disponibilità delle applicazioni con Ansible.  Alcune attività ripetibili di gestione del database possono essere eseguite utilizzando un playbook per ridurre gli errori umani.</block>
  <block id="53bd53a68bce8fe697a7455feae3861b" category="inline-link-macro">Panoramica del plug-in SnapCenter per Oracle Database</block>
  <block id="8dad283458f149f04a674f7c674818ed" category="paragraph">Lo strumento SnapCenter UI può eseguire il backup degli snapshot del database, il ripristino point-in-time, la clonazione del database e così via con il plug-in SnapCenter per i database Oracle.  Per ulteriori informazioni sulle funzionalità del plugin Oracle, vedere<block ref="053f091ffb001fc31a47d30bc3d11350" category="inline-link-macro-rx"></block> .</block>
  <block id="c165a519b858dc997da23262308d6463" category="paragraph">Le sezioni seguenti forniscono dettagli su come le funzioni chiave della gestione del database Oracle vengono eseguite con l'interfaccia utente SnapCenter :</block>
  <block id="95154aa7c50b812d3683b6995bed8771" category="list-text">Backup degli snapshot del database</block>
  <block id="b055b8a9cd44d5f8e1fa330c20aa1dc3" category="list-text">Ripristino del database in un punto temporale specifico</block>
  <block id="20f913ca57379280e5f37dce9cd0de61" category="list-text">Creazione di cloni di database</block>
  <block id="e724243c3ef9e2c58168b76f3f537412" category="paragraph">La clonazione del database crea una replica di un database primario su un host EC2 separato per il ripristino dei dati in caso di errore logico o danneggiamento dei dati; i cloni possono essere utilizzati anche per il test delle applicazioni, il debug, la convalida delle patch e così via.</block>
  <block id="418768c00fe9ab38a23d8417250d676b" category="section-title">Scattare un'istantanea</block>
  <block id="c018c634b9245f8522eaf32d3fffaa7a" category="paragraph">Un database Oracle EC2/FSx viene sottoposto a backup periodico a intervalli configurati dall'utente.  Un utente può anche effettuare un backup snapshot una tantum in qualsiasi momento.  Ciò si applica sia ai backup di snapshot completi del database sia ai backup di snapshot solo del registro di archivio.</block>
  <block id="0a1758b0d7a64bf446ccd6c9ea2a559d" category="section-title">Esecuzione di uno snapshot completo del database</block>
  <block id="6aa82df330acc0ad1c1859bf7d19d8c6" category="paragraph">Uno snapshot completo del database include tutti i file Oracle, inclusi i file di dati, i file di controllo e i file di registro di archivio.</block>
  <block id="71a81fc61b4bde806ab23dbb0dff87ab" category="list-text">Accedi all'interfaccia utente SnapCenter e fai clic su Risorse nel menu a sinistra.  Dal menu a discesa Visualizza, passare alla visualizzazione Gruppo di risorse.</block>
  <block id="f84bb7d1cc837f581fe5348da5a3b21f" category="paragraph"><block ref="f84bb7d1cc837f581fe5348da5a3b21f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a16fe4e102f4f80c9a0ebe875e00921" category="list-text">Fare clic sul nome completo della risorsa di backup, quindi fare clic sull'icona Esegui backup ora per avviare un backup aggiuntivo.</block>
  <block id="862666b02b037fc85b8a5792531a17b1" category="paragraph"><block ref="862666b02b037fc85b8a5792531a17b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c41836f211ec5f0aee4024039682c6d3" category="list-text">Fare clic su Backup e quindi confermare il backup per avviare un backup completo del database.</block>
  <block id="66b5233e7f5f1804cf17198ce3331102" category="paragraph"><block ref="66b5233e7f5f1804cf17198ce3331102" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5114009902f821226811cd39b519e8ae" category="paragraph">Dalla vista Risorse del database, aprire la pagina Copie di backup gestite del database per verificare che il backup una tantum sia stato completato correttamente.  Un backup completo del database crea due snapshot: uno per il volume dati e uno per il volume log.</block>
  <block id="a379f7084ad4a6cc2caa13fff8125ffd" category="paragraph"><block ref="a379f7084ad4a6cc2caa13fff8125ffd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc2bc8e691b80fc2b94cd487cd59a41e" category="section-title">Acquisizione di uno snapshot del registro di archivio</block>
  <block id="c2a2cc866aaa30cb6344e65c853429a7" category="paragraph">Uno snapshot del log di archivio viene eseguito solo per il volume del log di archivio Oracle.</block>
  <block id="973f07a93ca1636baa391407a84cb38b" category="list-text">Accedi all'interfaccia utente SnapCenter e fai clic sulla scheda Risorse nella barra dei menu a sinistra.  Dal menu a discesa Visualizza, passare alla visualizzazione Gruppo di risorse.</block>
  <block id="47f0395291ce13022063147f4981f69f" category="list-text">Fare clic sul nome della risorsa di backup del registro, quindi fare clic sull'icona Esegui backup ora per avviare un backup aggiuntivo per i registri di archivio.</block>
  <block id="f7acdb350b25fc4be0538df87fe28027" category="paragraph"><block ref="f7acdb350b25fc4be0538df87fe28027" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8ee5a2ad5f43fcd955b6b30854d2f98" category="list-text">Fare clic su Backup e quindi confermare il backup per avviare un backup del registro di archivio.</block>
  <block id="3c0ec587b0b117affbf8a8aeb3316878" category="paragraph"><block ref="3c0ec587b0b117affbf8a8aeb3316878" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40cffcacb55d81916f38114aac845d4b" category="paragraph">Dalla vista Risorse per il database, aprire la pagina Copie di backup gestite del database per verificare che il backup del registro di archivio una tantum sia stato completato correttamente.  Un backup del registro di archivio crea uno snapshot per il volume del registro.</block>
  <block id="ac7f9e8a10a62f93a2a9b1a5b195773e" category="paragraph"><block ref="ac7f9e8a10a62f93a2a9b1a5b195773e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e16045e122b02913b74ef1e8bd29d75c" category="section-title">Ripristino a un punto nel tempo</block>
  <block id="7d2260465121189e3f5aef56d1734e86" category="paragraph">Il ripristino basato su SnapCenter in un punto nel tempo viene eseguito sullo stesso host dell'istanza EC2.  Per eseguire il ripristino, completare i seguenti passaggi:</block>
  <block id="52443d446e6aa795d8e3a08e581684cb" category="list-text">Dalla scheda Risorse SnapCenter &gt; Visualizzazione database, fare clic sul nome del database per aprire il backup del database.</block>
  <block id="6953d4f59579bc16fe5df66ed5925f12" category="paragraph"><block ref="6953d4f59579bc16fe5df66ed5925f12" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bc3aa5bd0c870df97abdd69ef227826" category="list-text">Selezionare la copia di backup del database e il momento desiderato da ripristinare.  Annotare anche il numero SCN corrispondente al momento.  Il ripristino point-in-time può essere eseguito utilizzando l'ora o l'SCN.</block>
  <block id="2453a72b7c64a498109919bd3dde5c14" category="paragraph"><block ref="2453a72b7c64a498109919bd3dde5c14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acee7bbe553399023f78a7ac814d7a94" category="list-text">Evidenziare lo snapshot del volume di registro e fare clic sul pulsante Monta per montare il volume.</block>
  <block id="6794549233d08b27a364c0388e13adc8" category="paragraph"><block ref="6794549233d08b27a364c0388e13adc8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d06beb2a91e58c7e57367e901abc09fd" category="list-text">Selezionare l'istanza EC2 primaria per montare il volume di registro.</block>
  <block id="4eee78a1caace393a5f644cdb1919c49" category="paragraph"><block ref="4eee78a1caace393a5f644cdb1919c49" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f83a9f884d94d22d3c52d510a051ac90" category="list-text">Verificare che il processo di montaggio venga completato correttamente.  Controllare anche l'host dell'istanza EC2 per vedere il volume di registro montato e anche il percorso del punto di montaggio.</block>
  <block id="fd1065b0c2fbd8c666e7bf2fb62c03a3" category="paragraph"><block ref="b8af9c769ba63954cada01d7557f9013" category="inline-image-macro-rx" type="image"></block> <block ref="c160eaeb165c458219a282a4287689fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12a7a64116d859fb64b3f841a43e6fac" category="list-text">Copiare i log di archivio dal volume di log montato alla directory corrente dei log di archivio.</block>
  <block id="f57c6961965ccab84762e9b4bbdd72f0" category="list-text">Tornare alla scheda Risorsa di SnapCenter &gt; pagina di backup del database, evidenziare la copia dello snapshot dei dati e fare clic sul pulsante Ripristina per avviare il flusso di lavoro di ripristino del database.</block>
  <block id="88fa28f693b12aee698b0958a76198a7" category="paragraph"><block ref="88fa28f693b12aee698b0958a76198a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a08ce545f0f81946ee65326ff4608df" category="list-text">Selezionare "Tutti i file di dati" e "Modifica lo stato del database se necessario per il ripristino e il recupero", quindi fare clic su Avanti.</block>
  <block id="63bb70b8a6d4456bcc55975ace07841e" category="paragraph"><block ref="63bb70b8a6d4456bcc55975ace07841e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e589c1295b0849053e2d8cc2bbf96a1e" category="list-text">Selezionare l'ambito di ripristino desiderato utilizzando SCN o tempo.  Anziché copiare i log di archivio montati nella directory dei log corrente come illustrato nel passaggio 6, è possibile elencare il percorso del log di archivio montato in "Specificare i percorsi dei file di log di archivio esterni" per il ripristino.</block>
  <block id="3911f7c218ba9b96234120f22df20190" category="paragraph"><block ref="3911f7c218ba9b96234120f22df20190" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2f3b533a6c9cd757a311b56318115bbe" category="list-text">Specificare un prescript facoltativo da eseguire se necessario.</block>
  <block id="4b9a038d2a5438ff831e2a31cd90738e" category="paragraph"><block ref="4b9a038d2a5438ff831e2a31cd90738e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16a70e704c6e5104eff1adca9f951c36" category="list-text">Specificare un afterscript facoltativo da eseguire se necessario.  Dopo il ripristino, controllare il database aperto.</block>
  <block id="95c5344535e651517848ba8c689b1618" category="paragraph"><block ref="95c5344535e651517848ba8c689b1618" category="inline-image-macro-rx" type="image"></block></block>
  <block id="975952869f93fd5cb45acf8a19b97834" category="list-text">Fornire un server SMTP e un indirizzo e-mail se è necessaria una notifica di lavoro.</block>
  <block id="955d438e4caad4c3dfb262915577f9c3" category="paragraph"><block ref="955d438e4caad4c3dfb262915577f9c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f92d4c842e7343ab2f69eac4e3561bc" category="list-text">Ripristina il riepilogo del lavoro.  Fare clic su Fine per avviare il processo di ripristino.</block>
  <block id="ca468de4274430f1cbb46dc164672685" category="paragraph"><block ref="ca468de4274430f1cbb46dc164672685" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0e783d4afe611873ddc32a5a59ff2078" category="list-text">Convalida il ripristino da SnapCenter.</block>
  <block id="d34d1a6639fbbbd9f758e1149de7aeb2" category="paragraph"><block ref="d34d1a6639fbbbd9f758e1149de7aeb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a6e8e06b3f3e03bdb3391888df78e46" category="list-text">Convalida il ripristino dall'host dell'istanza EC2.</block>
  <block id="0af06dc38a257cb730933e4c5dcb229d" category="paragraph"><block ref="0af06dc38a257cb730933e4c5dcb229d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="983d6ea8d6962c3e0f9abef0c4c948f4" category="list-text">Per smontare il volume del registro di ripristino, ripetere i passaggi del passaggio 4 in ordine inverso.</block>
  <block id="ca0c306ba98701576c42d241b48d4038" category="section-title">Creazione di un clone del database</block>
  <block id="a8bd304fe0995bcddba8dd93a8d447a6" category="paragraph">Nella sezione seguente viene illustrato come utilizzare il flusso di lavoro di clonazione SnapCenter per creare un clone di database da un database primario a un'istanza EC2 di standby.</block>
  <block id="91956afde8e3bc7ac47e37b9821ca6f9" category="list-text">Eseguire un backup snapshot completo del database primario da SnapCenter utilizzando il gruppo di risorse di backup completo.</block>
  <block id="d5ae4fdf87f8aaf684c36ac50699c794" category="paragraph"><block ref="d5ae4fdf87f8aaf684c36ac50699c794" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b08a0a4966d6a40934f84e0367df5124" category="list-text">Dalla scheda Risorsa SnapCenter &gt; visualizzazione Database, aprire la pagina Gestione backup database per il database primario da cui creare la replica.</block>
  <block id="ff02490e1cc80c4cc397c158ef7e35c8" category="paragraph"><block ref="ff02490e1cc80c4cc397c158ef7e35c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b265d526ea8d86f13a3ee5b3df11ce5" category="list-text">Montare lo snapshot del volume di registro acquisito nel passaggio 4 sull'host dell'istanza EC2 in standby.</block>
  <block id="e0933e237903488c5c6e3cc5ef953c5f" category="paragraph"><block ref="de03172a28665b689eb3e85ef7e156b8" category="inline-image-macro-rx" type="image"></block> <block ref="747b56b56fef24e9fa888e463e83fd9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15c2865196d70f81dd791b3329d2604e" category="list-text">Evidenziare la copia snapshot da clonare per la replica e fare clic sul pulsante Clona per avviare la procedura di clonazione.</block>
  <block id="9229dd01ffdec894b42f3f7ea277fe70" category="paragraph"><block ref="9229dd01ffdec894b42f3f7ea277fe70" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ebc0e83f8e5d02518da0756a18aaab4" category="list-text">Modificare il nome della copia replica in modo che sia diverso dal nome del database primario. Fare clic su Avanti.</block>
  <block id="4b2084607515bf6fefcdcc3c03d5b620" category="paragraph"><block ref="4b2084607515bf6fefcdcc3c03d5b620" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ba0975a31e144349d50f09393a5ca21" category="list-text">Cambiare l'host clone nell'host EC2 di standby, accettare la denominazione predefinita e fare clic su Avanti.</block>
  <block id="e4d2bda2c8bd0169bab2ea8bc4f28d8a" category="paragraph"><block ref="e4d2bda2c8bd0169bab2ea8bc4f28d8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eeda8df21c3391dcc7a327cfec8f8704" category="list-text">Modificare le impostazioni della home page di Oracle in modo che corrispondano a quelle configurate per l'host del server Oracle di destinazione e fare clic su Avanti.</block>
  <block id="eb1b4591252115df7f4b7ee69c70c2f6" category="paragraph"><block ref="eb1b4591252115df7f4b7ee69c70c2f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f10b26890bad0f92387ad2c8efb9b532" category="list-text">Specificare un punto di ripristino utilizzando l'ora o l'SCN e il percorso del registro di archivio montato.</block>
  <block id="727fdf35b2a06ef1db814081af997df8" category="paragraph"><block ref="727fdf35b2a06ef1db814081af997df8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="684abeacd08eb59922d70d928ce47f45" category="list-text">Se necessario, inviare le impostazioni e-mail SMTP.</block>
  <block id="6ba442995abae43b87983bc7244b0e78" category="paragraph"><block ref="6ba442995abae43b87983bc7244b0e78" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2cc0c6ba26bdf7b30e39313a0ad4098" category="list-text">Clonare il riepilogo del lavoro e fare clic su Fine per avviare il lavoro di clonazione.</block>
  <block id="7d4f9ba073f1d2f68982be3af89ff5ea" category="paragraph"><block ref="7d4f9ba073f1d2f68982be3af89ff5ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5cd909b2ce2e22f0bb8734426ea9e9a" category="list-text">Convalidare il clone della replica esaminando il registro del processo di clonazione.</block>
  <block id="5a2a7a2fda4f5f73147fca7888b84ead" category="paragraph"><block ref="5a2a7a2fda4f5f73147fca7888b84ead" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66a858d0c53f7ecef6ff665372a428c5" category="paragraph">Il database clonato viene registrato immediatamente in SnapCenter .</block>
  <block id="c1d62874defbd2f3d5b80a3ef64e0033" category="paragraph"><block ref="c1d62874defbd2f3d5b80a3ef64e0033" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b70fde27d9d03d393dc2fd619546988" category="list-text">Disattivare la modalità di registro di archivio di Oracle.  Accedi all'istanza EC2 come utente Oracle ed esegui il seguente comando:</block>
  <block id="ca1a9785bb111fcadc4527aae18f822d" category="admonition">Invece di copie di backup primarie di Oracle, è anche possibile creare un clone da copie di backup secondarie replicate sul cluster FSx di destinazione con le stesse procedure.</block>
  <block id="2a75f5115dab8b39875560a4d7252d2f" category="section-title">Failover HA in standby e risincronizzazione</block>
  <block id="f5bc6d05191457096f9da00e0fa56d40" category="paragraph">Il cluster Oracle HA di standby garantisce elevata disponibilità in caso di guasto nel sito primario, sia nel livello di elaborazione che in quello di archiviazione.  Uno dei vantaggi più significativi della soluzione è che l'utente può testare e convalidare l'infrastruttura in qualsiasi momento e con qualsiasi frequenza.  Il failover può essere simulato dall'utente o attivato da un guasto reale.  I processi di failover sono identici e possono essere automatizzati per un rapido ripristino delle applicazioni.</block>
  <block id="6775249aa36196ee3d9c71774992f2c4" category="paragraph">Consultare il seguente elenco di procedure di failover:</block>
  <block id="eb171dc2d1f739dfee2e358326abd0e9" category="list-text">Per un failover simulato, eseguire un backup snapshot del log per scaricare le transazioni più recenti sul sito di standby, come dimostrato nella sezione<block ref="58f2fe5f16b910e6ad4f8b3f8679e256" category="inline-xref-macro-rx"></block> .  In caso di failover attivato da un errore effettivo, gli ultimi dati recuperabili vengono replicati sul sito di standby con l'ultimo backup del volume di registro pianificato e completato correttamente.</block>
  <block id="abdc57f5efdfeac30fe822d9eda2fc9f" category="list-text">Interrompere lo SnapMirror tra il cluster FSx primario e quello di standby.</block>
  <block id="bd54ae4d51454c6a89990f066be03d35" category="list-text">Montare i volumi del database standby replicati sull'host dell'istanza EC2 standby.</block>
  <block id="588698147b1d63f4f9f6d78dd8d83595" category="list-text">Ricollegare il binario Oracle se il binario Oracle replicato viene utilizzato per il ripristino di Oracle.</block>
  <block id="0f1ac3f743fcb2d14875c7a731c3d251" category="list-text">Ripristina il database Oracle di standby all'ultimo registro di archivio disponibile.</block>
  <block id="ab933bdc7c043f4a3c977049791f0640" category="list-text">Aprire il database Oracle di standby per l'accesso dell'applicazione e dell'utente.</block>
  <block id="6928cb13e9136438c86e16b724b3b64f" category="list-text">In caso di guasto effettivo del sito primario, il database Oracle di standby assume ora il ruolo del nuovo sito primario e i volumi del database possono essere utilizzati per ricostruire il sito primario guasto come nuovo sito di standby con il metodo SnapMirror inverso.</block>
  <block id="13e25eed8fa423975f854101e3be1e89" category="list-text">In caso di errore simulato del sito primario per test o convalida, arrestare il database Oracle di standby dopo il completamento degli esercizi di test.  Quindi smontare i volumi del database di standby dall'host dell'istanza EC2 di standby e risincronizzare la replica dal sito primario al sito di standby.</block>
  <block id="c3fd0f78855e219b0fd44077ce74e7b5" category="paragraph">Queste procedure possono essere eseguite con il NetApp Automation Toolkit, disponibile per il download sul sito pubblico NetApp GitHub.</block>
  <block id="ba4d6e5d6eeea04cdc5a4f243b1e5dd8" category="paragraph">Leggere attentamente le istruzioni README prima di tentare la configurazione e il test di failover.</block>
  <block id="90a0d380974aa73acb8330f1ff9a7930" category="summary">Questa sezione fornisce dettagli sui fattori da considerare durante la migrazione del database Oracle da locale a un'istanza AWS EC2 e allo storage FSx.</block>
  <block id="895a8d39dd9ae7fe795349bdbc3f05dc" category="doc">Migrazione del database da locale a cloud pubblico</block>
  <block id="373ae4e24c2daa280a4a5aca82dd3818" category="paragraph">La migrazione del database è un'impresa impegnativa sotto ogni aspetto.  La migrazione di un database Oracle da locale al cloud non fa eccezione.</block>
  <block id="d1e968e04e34c971d41e644820094cef" category="paragraph">Le sezioni seguenti illustrano i fattori chiave da considerare durante la migrazione dei database Oracle al cloud pubblico AWS con la piattaforma di elaborazione AWS EC2 e di storage FSx.</block>
  <block id="84639b5fb3b348e6a053dde95414e039" category="section-title">L'archiviazione ONTAP è disponibile in sede</block>
  <block id="3c2e1436532e8615aa8fdb7bb7432f80" category="paragraph">Se il database Oracle locale si trova su un array di storage ONTAP , è più semplice impostare la replica per la migrazione del database utilizzando la tecnologia NetApp SnapMirror integrata nello storage AWS FSx ONTAP .  Il processo di migrazione può essere orchestrato utilizzando la console NetApp BlueXP .</block>
  <block id="df2111c23e70fa013a85041e1415639e" category="list-text">Creare un'istanza EC2 di calcolo di destinazione che corrisponda all'istanza locale.</block>
  <block id="1931f75e563d3dc9ee112e9b4ebd66b7" category="list-text">Fornire volumi di database corrispondenti e di dimensioni uguali dalla console FSx.</block>
  <block id="98201e355445ae8a2eff3b7c33132cc6" category="list-text">Montare i volumi del database FSx sull'istanza EC2.</block>
  <block id="53fad15133e494dc37bbd0494b8f3a6c" category="list-text">Impostare la replica SnapMirror tra i volumi del database locale e i volumi del database FSx di destinazione.  La sincronizzazione iniziale potrebbe richiedere del tempo per spostare i dati di origine primari, ma gli aggiornamenti incrementali successivi saranno molto più rapidi.</block>
  <block id="ed7c233990ddaa2e7103a9f5b77ee3de" category="list-text">Al momento del passaggio, chiudere l'applicazione principale per interrompere tutte le transazioni.  Dall'interfaccia CLI di Oracle sqlplus, eseguire un cambio di log online di Oracle e consentire alla sincronizzazione SnapMirror di inviare l'ultimo log archiviato al volume di destinazione.</block>
  <block id="8da4f0ed2ee5c7e68c3fe9ec3dde280e" category="list-text">Suddividere i volumi speculari, eseguire il ripristino Oracle sulla destinazione e avviare il database per l'assistenza.</block>
  <block id="6efd103fd0a488a3d023523ab6377e4e" category="list-text">Indirizzare le applicazioni al database Oracle nel cloud.</block>
  <block id="094ef1326e70f1212e06a1b5d65d2922" category="paragraph">Il seguente video mostra come migrare un database Oracle da locale ad AWS FSx/EC2 utilizzando la console NetApp BlueXP e la replica SnapMirror .</block>
  <block id="6cd47796208de7b1d81ffd66d5fa0744" category="video-title">Migrazione di Oracle DB on-premise su AWS</block>
  <block id="86afa353cad293784396216eab80ee52" category="section-title">L'archiviazione ONTAP non è disponibile in sede</block>
  <block id="c11080183211191097c120f87656c802" category="paragraph">Se il database Oracle locale è ospitato su un archivio di terze parti diverso da ONTAP, la migrazione del database si basa sul ripristino di una copia di backup del database Oracle.  È necessario riprodurre il registro dell'archivio per aggiornarlo prima di passare all'altro.</block>
  <block id="722283478873a13974c4b1b6ea967a40" category="paragraph">AWS S3 può essere utilizzato come area di archiviazione temporanea per lo spostamento e la migrazione del database.  Per questo metodo, vedere i seguenti passaggi di alto livello:</block>
  <block id="9312555163563ac6b35994e42f15d009" category="list-text">Fornire una nuova istanza EC2 corrispondente, confrontabile con l'istanza locale.</block>
  <block id="8705a6dedde3ea188c113bda4fe97c14" category="list-text">Fornire volumi di database uguali dall'archiviazione FSx e montare i volumi sull'istanza EC2.</block>
  <block id="6aeff6e3d9f2f107fa5584191966f816" category="list-text">Creare una copia di backup di Oracle a livello di disco.</block>
  <block id="0f90c0c06dae8f50c3f93d33a7547df2" category="list-text">Spostare la copia di backup nello storage AWS S3.</block>
  <block id="d8fd670e7724b3db99919ea02cd762cc" category="list-text">Ricreare il file di controllo Oracle e ripristinare e recuperare il database estraendo i dati e il registro di archivio dall'archiviazione S3.</block>
  <block id="c4a99d505e8ebe4d5f04ae86d2a724b7" category="list-text">Sincronizzare il database Oracle di destinazione con il database di origine locale.</block>
  <block id="3bac7326688b384ce82c7c9807cae4b7" category="list-text">Al momento del passaggio, arrestare l'applicazione e il database Oracle di origine.  Copiare gli ultimi log di archivio e applicarli al database Oracle di destinazione per aggiornarlo.</block>
  <block id="98cf6a7f87338026b5b95afee91d5676" category="list-text">Avviare il database di destinazione per l'accesso utente.</block>
  <block id="021e473c3a779caff7d794ce36c8ef68" category="list-text">Reindirizzare l'applicazione al database di destinazione per completare il passaggio.</block>
  <block id="e54801d4a4497c3566a98c0ef4ec6f18" category="section-title">Migrazione di database Oracle locali su AWS FSx/EC2 utilizzando la rilocazione PDB con la massima disponibilità</block>
  <block id="16d584a60d17de3de7cd0dcc0828fee9" category="paragraph">Questo approccio di migrazione è più adatto ai database Oracle già distribuiti nel modello multitenant PDB/CDB e in cui lo storage ONTAP non è disponibile in locale.  Il metodo di rilocazione PDB utilizza la tecnologia di clonazione a caldo Oracle PDB per spostare i PDB tra un CDB di origine e un CDB di destinazione, riducendo al minimo l'interruzione del servizio.</block>
  <block id="c5bd16be343bf2e5a3c081284c6c799b" category="paragraph">Per prima cosa, crea un CDB in AWS FSx/EC2 con spazio di archiviazione sufficiente per ospitare i PDB da migrare da locale.  È possibile spostare più PDB locali uno alla volta.</block>
  <block id="d7acbe14b605ece64e94636c2ac85151" category="inline-link-macro">Conversione di una singola istanza non CDB in un PDB in un CDB multitenant</block>
  <block id="461796854b0f6af0212402edd436650e" category="list-text">Se il database locale viene distribuito in una singola istanza anziché nel modello PDB/CDB multitenant, seguire le istruzioni in<block ref="49f6bba6acf489c2e24ceec59c2ea0cc" category="inline-link-macro-rx"></block> per convertire la singola istanza in PDB/CDB multitenant.  Quindi seguire il passaggio successivo per migrare il PDB convertito in CDB in AWS FSx/EC2.</block>
  <block id="92c29ab4b5bfbc6de30e29363bc9aea7" category="inline-link-macro">Migrazione dei database Oracle locali sul cloud con la rilocazione PDB</block>
  <block id="5f2a2d5542be4066ef8064444312f9f9" category="list-text">Se il database locale è già distribuito nel modello PDB/CDB multitenant, seguire le istruzioni in<block ref="cd76591b1b4949ae37c52558aad4debf" category="inline-link-macro-rx"></block> per eseguire la migrazione.</block>
  <block id="499d7c245aad786a568d21227b5b65d8" category="paragraph">Il seguente video mostra come un database Oracle (PDB) può essere migrato su FSx/EC2 utilizzando la rilocazione PDB con la massima disponibilità.</block>
  <block id="c0d2cea4b49d55201605052121b68ca7" category="inline-link-macro">Migrazione di Oracle PDB on-prem su AWS CDB con la massima disponibilità</block>
  <block id="e3d2de69302b3f20931015cece4526e4" category="paragraph"><block ref="5deefe7b3e78f7f08541c2e7b5b56e54" category="inline-link-macro-rx"></block></block>
  <block id="5eae2f4290a9e1f77061f80c6c015bc6" category="admonition">Sebbene le istruzioni nei passaggi 1 e 2 siano illustrate nel contesto del cloud pubblico di Azure, le procedure sono applicabili al cloud AWS senza alcuna modifica.</block>
  <block id="41099d15ad008ac11d04538ef8e57575" category="paragraph">Il team di NetApp Solutions Automation fornisce un toolkit di migrazione che può facilitare la migrazione del database Oracle da locale al cloud AWS.  Utilizzare il seguente comando per scaricare il toolkit di migrazione del database Oracle per la rilocazione del PDB.</block>
  <block id="80d1c0ba73b8e2e8e0f305b42a776a1f" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione del database Oracle nell'archiviazione AWS FSx ONTAP e nell'istanza di elaborazione EC2 con protocollo NFS e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="ff1acb029b62c5c8f2a7b9fa9cd89004" category="doc">TR-4974: Oracle 19c in riavvio autonomo su AWS FSx/EC2 con NFS/ASM</block>
  <block id="25a771368cf645aad87c1626869055d5" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione del database Oracle nell'archiviazione AWS FSx ONTAP e nell'istanza di elaborazione EC2 con protocollo NFS e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="418241bdca49e4aec92c0ff810e8e099" category="paragraph">ASM (Automatic Storage Management) è un noto gestore di volumi di archiviazione Oracle, utilizzato in numerose installazioni Oracle.  È anche la soluzione di gestione dello storage consigliata da Oracle.  Fornisce un'alternativa ai gestori di volumi e ai file system convenzionali.  A partire dalla versione 11g di Oracle, ASM è stato integrato con un'infrastruttura grid anziché con un database.  Di conseguenza, per utilizzare Oracle ASM per la gestione dello storage senza RAC, è necessario installare l'infrastruttura Oracle Grid in un server autonomo, noto anche come Oracle Restart.  In questo modo si aggiunge sicuramente maggiore complessità a un'implementazione del database Oracle altrimenti più semplice.  Tuttavia, come suggerisce il nome, quando Oracle viene distribuito in modalità di riavvio, tutti i servizi Oracle non riusciti vengono riavviati dopo un riavvio dell'host senza l'intervento dell'utente, il che fornisce un certo grado di elevata disponibilità o funzionalità HA.</block>
  <block id="97922f9fd788b577a80c7cf59d3de12e" category="paragraph">Oracle ASM viene generalmente distribuito nei protocolli di archiviazione FC, iSCSI e LUN come dispositivi di archiviazione raw.  Tuttavia, anche Oracle supporta la configurazione ASM sul protocollo NFS e sul file system NFS.  In questa documentazione, illustriamo come distribuire un database Oracle 19c con il protocollo NFS e Oracle ASM in un ambiente di archiviazione Amazon FSx ONTAP con istanze di elaborazione EC2.  Mostreremo inoltre come utilizzare il servizio NetApp SnapCenter tramite la console NetApp BlueXP per eseguire il backup, il ripristino e la clonazione del database Oracle per scopi di sviluppo/test o altri casi d'uso per operazioni di database efficienti in termini di storage nel cloud pubblico AWS.</block>
  <block id="888381e0b388e88a008b28e9bde03499" category="list-text">Distribuzione del database Oracle in istanze di archiviazione Amazon FSx ONTAP e di elaborazione EC2 con NFS/ASM</block>
  <block id="86e62b62bb73c1d45af1018c5f546fa2" category="list-text">Test e convalida di un carico di lavoro Oracle nel cloud pubblico AWS con NFS/ASM</block>
  <block id="b1868e5a46a34f2e4894103a18fa6e75" category="list-text">Un DBA che desidera distribuire Oracle in un cloud pubblico AWS con NFS/ASM.</block>
  <block id="051c77f35308619650f171e87873bce3" category="paragraph"><block ref="051c77f35308619650f171e87873bce3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e5a8ef13e1f2826df29bb4025ed6544" category="list-text">*Layout dei dati e dei log di Oracle.*  Nei nostri test e nelle nostre convalide, abbiamo distribuito due gruppi di dischi ASM rispettivamente per i dati e i log.  All'interno del gruppo di dischi asm +DATA, abbiamo predisposto quattro dischi in un punto di montaggio del file system NFS di dati.  All'interno del gruppo di dischi asm +LOGS, abbiamo predisposto due dischi in un punto di montaggio del file system NFS dei log.  Per la distribuzione di database di grandi dimensioni, è possibile creare gruppi di dischi ASM che coprano più file system FSx con dischi ASM NFS distribuiti tramite più punti di montaggio NFS ancorati ai file system FSx.  Questa particolare configurazione è progettata per soddisfare i requisiti di throughput del database superiori a 4 GBps e 160.000 IOPS SSD raw.</block>
  <block id="e2d21e7b1ae9a8e7d20087f0084bf01a" category="list-text">*Configurazione dNFS.* dNFS è integrato nel kernel di Oracle ed è noto per aumentare notevolmente le prestazioni del database Oracle quando Oracle viene distribuito su storage NFS. dNFS è incluso nel pacchetto binario di Oracle, ma non è attivato per impostazione predefinita.  Dovrebbe essere attivato per qualsiasi distribuzione di database Oracle su NFS.  Per la distribuzione di più file system FSx per database di grandi dimensioni, è necessario configurare correttamente il multi-path dNFS.</block>
  <block id="bc229d9916fc3cb8de0f67f3e5d86528" category="list-text">*Livello di ridondanza di Oracle ASM da utilizzare per ogni gruppo di dischi Oracle ASM creato.*  Poiché FSx esegue già il mirroring dello storage a livello di cluster FSx, dovresti<block ref="7ea763007de155a1d5ac7192d220c274" prefix=" " category="inline-code"></block> utilizzare la ridondanza esterna, il che significa che l'opzione non consente a Oracle ASM di eseguire il mirroring del contenuto del gruppo di dischi.  Ciò è particolarmente importante poiché NFS per l'archiviazione dei dati del database Oracle richiede l'opzione di montaggio NFS HARD, che NON è auspicabile per il mirroring dei contenuti ASM a livello Oracle.</block>
  <block id="d953285f2eeac9b2766ac055d81bf48a" category="list-text">Installare nfs-utils.</block>
  <block id="d5dbcd1ace089fec7f75fa03e884cb93" category="list-text">Aggiungere il gruppo ASM da utilizzare per il gruppo asm sysasm</block>
  <block id="04c0abfa4d590dbcf8140c900090b7d4" category="section-title">Fornire ed esportare volumi NFS da montare sull'host dell'istanza EC2</block>
  <block id="a245b068ccb33c4feb57be67c4c4929e" category="list-text">Convalida i volumi DB creati.</block>
  <block id="f6a4694211343b15651db8fdd5f16222" category="list-text">Crea la directory /u01 per montare il file system binario Oracle</block>
  <block id="aabf104e3877a3141576892889ebcfd2" category="list-text">Montare il volume binario su<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> , modificato nel tuo indirizzo IP NFS lif FSx.  Se hai distribuito il cluster FSx tramite il toolkit di automazione NetApp , l'indirizzo IP NFS lif del server di archiviazione virtuale FSx verrà elencato nell'output al termine dell'esecuzione del provisioning delle risorse.  In caso contrario, è possibile recuperarlo dall'interfaccia utente della console AWS FSx.</block>
  <block id="6dc5f678e8b8446afe039edff2864ef0" category="list-text">Modifica<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> la proprietà del punto di montaggio spetta all'utente Oracle e al gruppo primario associato.</block>
  <block id="6e5bf17d6cb7ff829494e09654c5fdc2" category="list-text">Crea la directory /oradata per montare il file system di dati Oracle</block>
  <block id="41096b5d68af7d413deac705db2e3bab" category="list-text">Montare il volume dati su<block ref="f006bf17b06c884c47190c4225d3215a" prefix=" " category="inline-code"></block> , modificato nel tuo indirizzo IP lif NFS FSx</block>
  <block id="90231d3bb492c7fb529e3500cdcef778" category="list-text">Modifica<block ref="f006bf17b06c884c47190c4225d3215a" prefix=" " category="inline-code"></block> la proprietà del punto di montaggio spetta all'utente Oracle e al gruppo primario associato.</block>
  <block id="fbe05a889a0659f00644b0c25e984066" category="list-text">Crea la directory /oralogs per montare il file system dei log di Oracle</block>
  <block id="0e94479bef4fdce94a31a913e4a90ea4" category="list-text">Montare il volume del registro su<block ref="894db1fc1592356880976f1b92c3e6a2" prefix=" " category="inline-code"></block> , modificato nel tuo indirizzo IP lif NFS FSx</block>
  <block id="cd48bd706e8c70912f675dc9f17a75be" category="list-text">Modifica<block ref="894db1fc1592356880976f1b92c3e6a2" prefix=" " category="inline-code"></block> la proprietà del punto di montaggio spetta all'utente Oracle e al gruppo primario associato.</block>
  <block id="06b5412c6ada2efb7e05e7a7454e34df" category="list-text">sudo per l'utente Oracle, crea cartelle ASM per memorizzare i file del disco ASM</block>
  <block id="f6ebe7eea328062998e8b597d1de48e4" category="list-text">Come utente Oracle, crea file di dati su disco ASM e modifica il conteggio in modo che corrisponda alla dimensione del disco con la dimensione del blocco.</block>
  <block id="71d4584b509281ece4fe148bde055f32" category="list-text">Modificare l'autorizzazione del file del disco dati a 640</block>
  <block id="9b424f5bec397927a45cc70947221c7d" category="list-text">Come utente Oracle, crea file di registro ASM su disco, modifica il conteggio in modo che corrisponda alla dimensione del disco con la dimensione del blocco.</block>
  <block id="f2e7337a3b32de4673f07d1c3d1ac0a5" category="list-text">Modifica i permessi dei file su disco dei registri a 640</block>
  <block id="572656c141066b10c23d5205e70be53b" category="list-text">Dalla griglia iniziale, copia<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> nella grid_home e poi decomprimilo.</block>
  <block id="e4dae708382daa7f76913b9e5b686a1c" category="list-text">Preparare un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> file per l'installazione silenziosa e posizionare il file rsp nel<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> elenco.  Il file rsp dovrebbe coprire le sezioni A, B e G con le seguenti informazioni:</block>
  <block id="196c642f2925757377d21779d79ba748" category="list-text">Accedi all'istanza EC2 come utente root.</block>
  <block id="3f2a67de0c5824d878c62c0bc347e09b" category="list-text">Come utente Oracle, creare il gruppo di dischi LOGS.</block>
  <block id="948ac6ddaa5b19c62366a04abf60547d" category="list-text">Dalla home page del DB, copia<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> A<block ref="22f5bd75d60d3065afc99a50bc98d9ae" prefix=" " category="inline-code"></block> e poi decomprimilo.</block>
  <block id="0181cf4258f052eaf2d48f78cd4fed7b" category="list-text">Preparare il file rsp di installazione silenziosa del DB in<block ref="2d9ffa0a3db25b02bcd0091245449764" prefix=" " category="inline-code"></block> directory con i seguenti valori:</block>
  <block id="2bba715ff3b85da75ce86da55f5d9173" category="list-text">Come utente Oracle, crea il<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> file con le seguenti voci:</block>
  <block id="a6774a54a715f893108bd2d2bc05062e" category="admonition">Imposta la memoria totale in base alla memoria disponibile nell'host dell'istanza EC2.  Oracle alloca il 75% di<block ref="834709f36a11a38a80fe0dc57054ec20" prefix=" " category="inline-code"></block> all'istanza DB SGA o alla cache buffer.</block>
  <block id="c96739fe831515243fc940e9ee867ea3" category="list-text">Come utente Oracle, avvia la creazione del DB con dbca.</block>
  <block id="c8c683d0737e702e38c962f83ab25c3f" category="list-text">Come utente Oracle, passare alla directory home del database Oracle /u01/app/oracle/product/19.0.0/db1 e abilitare dNFS</block>
  <block id="f60c53adcb933554319040836143101b" category="list-text">Configurare il file oranfstab in ORACLE_HOME</block>
  <block id="e3821eca2ea743978a8041832aa25596" category="list-text">Come utente Oracle, accedi al database da sqlplus e imposta le dimensioni e la posizione di ripristino del DB sul gruppo di dischi +LOGS.</block>
  <block id="78f987fb432bce81eba18cab51620826" category="list-text">Abilita la modalità di registro di archivio e riavvia l'istanza di Oracle DB</block>
  <block id="2311b19efeffe5f795b74cc4dddf6246" category="list-text">Convalida la modalità di registro del DB e dNFS dopo il riavvio dell'istanza</block>
  <block id="db852220e8f70b72373f5e4a21bd9a45" category="list-text">Convalida Oracle ASM</block>
  <block id="3809b24192da05cb9bdf6fc7f86ce5d6" category="paragraph">NetApp rilascerà un toolkit di distribuzione di soluzioni completamente automatizzato con Ansible per facilitare l'implementazione di questa soluzione.  Si prega di verificare nuovamente la disponibilità del toolkit.  Dopo la pubblicazione, verrà pubblicato un link qui.</block>
  <block id="b215c3ea984bf845efc69c734ec03369" category="paragraph">Al momento, il database Oracle con opzione di archiviazione NFS e ASM è supportato solo dallo strumento tradizionale dell'interfaccia utente di SnapCenter Server. Vedere<block ref="8f81a54fece1094b09a6e495584caacf" category="inline-link-macro-rx"></block> per i dettagli sul backup, il ripristino e la clonazione del database Oracle con lo strumento NetApp SnapCenter UI.</block>
  <block id="7d34df46082e5771e092eb8736597ee0" category="summary">In questa sezione vengono descritte le procedure di distribuzione del database personalizzato Oracle RDS con storage FSx.</block>
  <block id="4020b36b638694a9834cb01b53b25ffe" category="doc">Procedure di distribuzione Oracle passo dopo passo su AWS EC2 e FSx</block>
  <block id="f70ec60e40ece5900605229a28081b13" category="section-title">Distribuisci un'istanza EC2 Linux per Oracle tramite la console EC2</block>
  <block id="03d6d2463e27b63c2d7f7ad0e62697af" category="paragraph">Se sei un nuovo utente di AWS, devi prima configurare un ambiente AWS.  La scheda della documentazione nella landing page del sito Web AWS fornisce link alle istruzioni EC2 su come distribuire un'istanza EC2 Linux che può essere utilizzata per ospitare il database Oracle tramite la console AWS EC2.  La sezione seguente è un riepilogo di questi passaggi.  Per maggiori dettagli, consultare la documentazione specifica di AWS EC2.</block>
  <block id="e1fc23220db46fe659667702f62b75e4" category="section-title">Configurazione dell'ambiente AWS EC2</block>
  <block id="6d0669826a2bd6e9eb35ea7e89cbe3f4" category="paragraph">È necessario creare un account AWS per fornire le risorse necessarie per eseguire l'ambiente Oracle sul servizio EC2 e FSx.  La seguente documentazione AWS fornisce i dettagli necessari:</block>
  <block id="2966cbe914210fb4f4a3e5fe6adf4762" category="inline-link-macro">Configurare per utilizzare Amazon EC2</block>
  <block id="1e4a01fe43fb3542c08649e20440f5f1" category="list-text"><block ref="1e4a01fe43fb3542c08649e20440f5f1" category="inline-link-macro-rx"></block></block>
  <block id="df6ca3590d3bec198846463f0ef1c6a8" category="paragraph">Argomenti chiave:</block>
  <block id="74122bb32fc969b565a8b132d4178581" category="list-text">Registrati ad AWS.</block>
  <block id="fe536eddec5cc1d661347011844ba132" category="list-text">Crea una coppia di chiavi.</block>
  <block id="6582688edf89986f408a52095794f65b" category="list-text">Crea un gruppo di sicurezza.</block>
  <block id="c78747962ae12e635749aa6b08a4da09" category="section-title">Abilitazione di più zone di disponibilità negli attributi dell'account AWS</block>
  <block id="2d5ade6857f59cf6d198344d5049da40" category="paragraph">Per una configurazione Oracle ad alta disponibilità, come illustrato nel diagramma dell'architettura, è necessario abilitare almeno quattro zone di disponibilità in una regione.  Le zone di disponibilità multipla possono anche essere situate in regioni diverse per soddisfare le distanze richieste per il ripristino in caso di disastro.</block>
  <block id="010f8446050c9f5cc916e861a6861e35" category="paragraph"><block ref="010f8446050c9f5cc916e861a6861e35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8faa9e48d0380a023114890a62861d0f" category="section-title">Creazione e connessione a un'istanza EC2 per l'hosting del database Oracle</block>
  <block id="82499151e189f9313aa1450e912f4ffd" category="inline-link-macro">Inizia con le istanze Amazon EC2 Linux</block>
  <block id="822fd31d54c32c4886e9010d12a8dce7" category="paragraph">Guarda il tutorial<block ref="6d0a9d65d170226042c573685041d5e9" category="inline-link-macro-rx"></block> per procedure di distribuzione dettagliate e best practice.</block>
  <block id="a15c0d1773407cc677a49f4cc169a63c" category="list-text">Panoramica.</block>
  <block id="4d99c712f714ff14ae3b251667dda4b2" category="list-text">Prerequisiti.</block>
  <block id="67b035efef4b92412bb7a8a903121da6" category="list-text">Passaggio 1: avviare un'istanza.</block>
  <block id="6640566c783363c8a66fe226c2a7227b" category="list-text">Passaggio 2: connettiti alla tua istanza.</block>
  <block id="c271b00c470f8a1fb17c05dc6092d9af" category="list-text">Passaggio 3: pulisci l'istanza.</block>
  <block id="9e0cd4f11314aeaa31fce7e3f5960c4c" category="paragraph">Gli screenshot seguenti mostrano la distribuzione di un'istanza Linux di tipo m5 con la console EC2 per l'esecuzione di Oracle.</block>
  <block id="993b6250c7c69b01670a8165c0cf949d" category="list-text">Dalla dashboard EC2, fare clic sul pulsante giallo Avvia istanza per avviare il flusso di lavoro di distribuzione dell'istanza EC2.</block>
  <block id="487600275aef32af357e889fdebd2971" category="paragraph"><block ref="487600275aef32af357e889fdebd2971" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71a4046454ceb8a1793ee0cfa14dc581" category="list-text">Nel passaggio 1, selezionare "Red Hat Enterprise Linux 8 (HVM), tipo di volume SSD - ami-0b0af3577fe5e3532 (64-bit x86) / ami-01fc429821bf1f4b4 (64-bit Arm)."</block>
  <block id="7c7af581ca65af89c7f24a9c1416accb" category="paragraph"><block ref="7c7af581ca65af89c7f24a9c1416accb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5956dcc5f6331fe980094b6ddba4650c" category="list-text">Nel passaggio 2, seleziona un tipo di istanza m5 con la CPU e l'allocazione di memoria appropriate in base al carico di lavoro del database Oracle.  Fare clic su "Avanti: Configura dettagli istanza".</block>
  <block id="5bbc5ed1fad6afc74d5ac877b225c875" category="paragraph"><block ref="5bbc5ed1fad6afc74d5ac877b225c875" category="inline-image-macro-rx" type="image"></block></block>
  <block id="302a3b9b8b1d7dfc842dbfcaa5468b1a" category="list-text">Nel passaggio 3, seleziona la VPC e la subnet in cui posizionare l'istanza e abilita l'assegnazione dell'IP pubblico.  Fare clic su "Avanti: Aggiungi spazio di archiviazione".</block>
  <block id="297569626080a05a220b1194519254ff" category="paragraph"><block ref="297569626080a05a220b1194519254ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e421be5ecc966b1d156d7f0a6f81716a" category="list-text">Nel passaggio 4, allocare spazio sufficiente per il disco radice.  Potrebbe essere necessario spazio per aggiungere uno scambio.  Per impostazione predefinita, l'istanza EC2 non assegna spazio di swap, il che non è ottimale per l'esecuzione di Oracle.</block>
  <block id="63199e56bc739d7bc8cecb87386668d5" category="paragraph"><block ref="63199e56bc739d7bc8cecb87386668d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="843f8ce7ab50f800b312d3d109724de6" category="list-text">Nel passaggio 5, se necessario, aggiungere un tag per l'identificazione dell'istanza.</block>
  <block id="c6aafc002439963833711985dfda9c00" category="paragraph"><block ref="c6aafc002439963833711985dfda9c00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3ab3dbfdf3bf87e86423bcf042be111" category="list-text">Nel passaggio 6, seleziona un gruppo di sicurezza esistente o creane uno nuovo con i criteri in entrata e in uscita desiderati per l'istanza.</block>
  <block id="adcd1dcd9aecdedf49ea50097467c02a" category="paragraph"><block ref="adcd1dcd9aecdedf49ea50097467c02a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6232d41ab5791353e400740b1c677c4b" category="list-text">Nel passaggio 7, rivedere il riepilogo della configurazione dell'istanza e fare clic su Avvia per avviare la distribuzione dell'istanza.  Ti verrà chiesto di creare una coppia di chiavi o di selezionarne una per accedere all'istanza.</block>
  <block id="639a1de4031e700b9aee175ebb83caf1" category="paragraph"><block ref="6774e9a88fd13c01709fe25a3c92814a" category="inline-image-macro-rx" type="image"></block> <block ref="589b74f6f175ab8a565dd91b992c7eb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="640d800543e4acd4be5582f719fe45e6" category="list-text">Accedi all'istanza EC2 utilizzando una coppia di chiavi SSH.  Apportare le modifiche appropriate al nome della chiave e all'indirizzo IP dell'istanza.</block>
  <block id="69321a8301f0cb7557529f92163852a6" category="paragraph">È necessario creare due istanze EC2 come server Oracle primario e di standby nella zona di disponibilità designata, come illustrato nel diagramma dell'architettura.</block>
  <block id="dd75d046636296f5f9f77e174e142dbf" category="section-title">Fornire file system FSx ONTAP per l'archiviazione del database Oracle</block>
  <block id="0db17ea458fe522da32ff4ad7e5b2f8b" category="paragraph">La distribuzione dell'istanza EC2 alloca un volume root EBS per il sistema operativo.  I file system FSx ONTAP forniscono volumi di archiviazione del database Oracle, inclusi i volumi binari, di dati e di registro di Oracle.  Il provisioning dei volumi NFS di archiviazione FSx può essere effettuato dalla console AWS FSx o dall'installazione di Oracle e dall'automazione della configurazione che alloca i volumi in base alla configurazione effettuata dall'utente in un file di parametri di automazione.</block>
  <block id="b188d29a8b066345b4c65142012429c9" category="inline-link">Gestione dei file system FSx ONTAP</block>
  <block id="6072bb9ae8feccf25912ddfb26f93d61" category="paragraph">Riferito a questa documentazione<block ref="62270b9b7327b2bf1e37efc2c47824db" category="inline-link-rx"></block> per la creazione di file system FSx ONTAP .</block>
  <block id="f992b6bed702bc01496187fcaec0b8c6" category="paragraph">Considerazioni chiave:</block>
  <block id="c6d0abeaa6d014ec6632e6b8493487d2" category="list-text">Capacità di archiviazione SSD.  Minimo 1024 GiB, massimo 192 TiB.</block>
  <block id="2b410cef067f8cb6a53d05ad2271439b" category="list-text">IOPS SSD forniti.  In base ai requisiti del carico di lavoro, un massimo di 80.000 IOPS SSD per file system.</block>
  <block id="3ab61d0f90da3f61b5741ceb5eb191cc" category="list-text">Capacità di produzione.</block>
  <block id="94412c99e275ca9b650dc655a6e69119" category="list-text">Imposta la password dell'amministratore fsxadmin/vsadmin.  Necessario per l'automazione della configurazione FSx.</block>
  <block id="c9de3d23d86cd04ff4ebf9b1458d70c4" category="list-text">Backup e manutenzione.  Disattiva i backup giornalieri automatici; il backup dell'archiviazione del database viene eseguito tramite la pianificazione SnapCenter .</block>
  <block id="b2ad37d85471ba4bcaf2c2141b1a576d" category="list-text">Recuperare l'indirizzo IP di gestione SVM e gli indirizzi di accesso specifici del protocollo dalla pagina dei dettagli SVM.  Necessario per l'automazione della configurazione FSx.</block>
  <block id="55d51224def42d640a0be132106582ff" category="paragraph"><block ref="55d51224def42d640a0be132106582ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15d09dd6ced339d4022eb28264e99543" category="paragraph">Per configurare un cluster HA FSx primario o di standby, consultare le seguenti procedure dettagliate.</block>
  <block id="b2232ae7fcc8b0c89d7c5f62a079a0f9" category="list-text">Dalla console FSx, fare clic su Crea file system per avviare il flusso di lavoro di provisioning FSx.</block>
  <block id="250a7f2c6f37c1b8742c2f9c80b1ecfa" category="paragraph"><block ref="250a7f2c6f37c1b8742c2f9c80b1ecfa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9aede127a30ce55a2d9e4f2cb7042ae" category="list-text">Selezionare Amazon FSx ONTAP.  Quindi fare clic su Avanti.</block>
  <block id="6ba8ef4ba844b7ada7afd1a1553edce6" category="paragraph"><block ref="6ba8ef4ba844b7ada7afd1a1553edce6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a4912f49d35e15fbe2d9881db397feb" category="list-text">Selezionare Crea standard e, in Dettagli file system, assegnare al file system il nome Multi-AZ HA.  In base al carico di lavoro del database, scegli IOPS automatici o forniti dall'utente fino a 80.000 IOPS SSD.  Lo storage FSx è dotato di una cache NVMe fino a 2 TiB nel backend, in grado di fornire IOPS misurati ancora più elevati.</block>
  <block id="d62f0314bf0167fb43dd9ddcd752726e" category="paragraph"><block ref="d62f0314bf0167fb43dd9ddcd752726e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="463daf4dcf56c33aa1c738fb16d15a27" category="list-text">Nella sezione Rete e sicurezza, seleziona la VPC, il gruppo di sicurezza e le subnet.  Dovrebbero essere creati prima della distribuzione di FSx.  In base al ruolo del cluster FSx (primario o standby), posizionare i nodi di archiviazione FSx nelle zone appropriate.</block>
  <block id="1a1c5cdc2bde8e0520c4dc4b02b3e292" category="paragraph"><block ref="1a1c5cdc2bde8e0520c4dc4b02b3e292" category="inline-image-macro-rx" type="image"></block></block>
  <block id="461a86bccdfc4b32cbc62af43ea97bb3" category="list-text">Nella sezione Sicurezza e crittografia, accetta l'impostazione predefinita e inserisci la password fsxadmin.</block>
  <block id="aafb38759376e28459041f49b15ebd8d" category="paragraph"><block ref="aafb38759376e28459041f49b15ebd8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e500f789aeb2255be7988000eaff0e8" category="list-text">Immettere il nome SVM e la password vsadmin.</block>
  <block id="bc17f291805b3473ff6e4c6efaad8639" category="paragraph"><block ref="bc17f291805b3473ff6e4c6efaad8639" category="inline-image-macro-rx" type="image"></block></block>
  <block id="979fcc33806fd9594ae032fb4fe33c03" category="list-text">Lasciare vuota la configurazione del volume; non è necessario creare un volume in questa fase.</block>
  <block id="f67e874b530937585c7a2fbf20e8d047" category="paragraph"><block ref="f67e874b530937585c7a2fbf20e8d047" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18c8eecfeb7f2ef5acbe5fe3fc1eb398" category="list-text">Rivedere la pagina Riepilogo e fare clic su Crea file system per completare il provisioning del file system FSx.</block>
  <block id="d7c2040c9b4298bee8d62c101cd5a0ec" category="paragraph"><block ref="d7c2040c9b4298bee8d62c101cd5a0ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="edbcb61873336784ce88a841052fa45e" category="section-title">Provisioning di volumi di database per il database Oracle</block>
  <block id="003fd66f6ee23f3e87e5a00abe37d156" category="inline-link-macro">Gestione dei volumi FSx ONTAP : creazione di un volume</block>
  <block id="c1740f1ff7568be214d03a87d85702ce" category="paragraph">Vedere<block ref="3c4534b1959e09af227c8901c380f1ae" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="ca3a40f13fd000ce8baf0adbf73ee561" category="list-text">Dimensionare adeguatamente i volumi del database.</block>
  <block id="383e4b0acf358da05802b9571408fa27" category="list-text">Disabilitazione del criterio di suddivisione in livelli del pool di capacità per la configurazione delle prestazioni.</block>
  <block id="086994099a77453bffc426910b6c783b" category="list-text">Abilitazione di Oracle dNFS per volumi di archiviazione NFS.</block>
  <block id="814d7476ebeabfd3208ed0432cb5ea38" category="list-text">Impostazione di percorsi multipli per volumi di archiviazione iSCSI.</block>
  <block id="398cf8d5f0d4c7da2b945809849b5105" category="section-title">Crea volume di database dalla console FSx</block>
  <block id="6afbf36a53c717018bd3d99a6d735c98" category="paragraph">Dalla console AWS FSx è possibile creare tre volumi per l'archiviazione dei file del database Oracle: uno per il binario Oracle, uno per i dati Oracle e uno per il log Oracle.  Per una corretta identificazione, assicurarsi che la denominazione del volume corrisponda al nome host Oracle (definito nel file hosts nel toolkit di automazione).  In questo esempio, utilizziamo db1 come nome host Oracle EC2 anziché un tipico nome host basato sull'indirizzo IP per un'istanza EC2.</block>
  <block id="a89d3ef473fd5bb4c5d761f42139781d" category="paragraph"><block ref="6632a3121206f73f9b2aa945d969e320" category="inline-image-macro-rx" type="image"></block> <block ref="807dd675c0484b13e292cf2ca8bfab28" category="inline-image-macro-rx" type="image"></block> <block ref="fa24877b03b6bac4112b0e2674054547" category="inline-image-macro-rx" type="image"></block></block>
  <block id="05980643a3cf9b987fd426669d474257" category="admonition">La creazione di LUN iSCSI non è attualmente supportata dalla console FSx.  Per la distribuzione di LUN iSCSI per Oracle, i volumi e le LUN possono essere creati utilizzando l'automazione per ONTAP con NetApp Automation Toolkit.</block>
  <block id="09ee5fa03999e48e0789df07dd602d40" category="section-title">Installa e configura Oracle su un'istanza EC2 con volumi di database FSx</block>
  <block id="9f92271be71e4bc6eb96033a9ca6d798" category="paragraph">Il team di automazione NetApp fornisce un kit di automazione per eseguire l'installazione e la configurazione di Oracle su istanze EC2 secondo le best practice.  La versione corrente del kit di automazione supporta Oracle 19c su NFS con la patch RU predefinita 19.8.  Se necessario, il kit di automazione può essere facilmente adattato ad altre patch RU.</block>
  <block id="61790d4e19b846282d97e8ceb58e84e0" category="section-title">Preparare un controller Ansible per eseguire l'automazione</block>
  <block id="20f3b4bca246eb128d1c7a63ca954276" category="paragraph">Seguire le istruzioni nella sezione "<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block> " per predisporre una piccola istanza EC2 Linux per eseguire il controller Ansible.  Invece di usare RedHat, dovrebbe essere sufficiente Amazon Linux t2.large con 2 vCPU e 8 GB di RAM.</block>
  <block id="6d42906c67a4432124b27f032f56e4dc" category="section-title">Recupera il toolkit di automazione della distribuzione NetApp Oracle</block>
  <block id="7beb3cf1c62df8d836bddc0d2b6a3e57" category="paragraph">Accedi all'istanza del controller EC2 Ansible fornita dal passaggio 1 come ec2-user e dalla directory home di ec2-user, esegui il comando<block ref="aebfab4ae394171a00d2e86fff2ff38b" prefix=" " category="inline-code"></block> comando per clonare una copia del codice di automazione.</block>
  <block id="49130c144c12238cfeca4888e29fbef6" category="section-title">Eseguire la distribuzione automatizzata di Oracle 19c utilizzando il toolkit di automazione</block>
  <block id="2d643b6077dec7f26021f6390dc51dc1" category="paragraph">Vedi queste istruzioni dettagliate<block ref="5e50dfea2ac36766ecf96728ad279b3a" category="inline-link-macro-rx"></block> per distribuire Oracle 19c con automazione CLI.  C'è una piccola modifica nella sintassi dei comandi per l'esecuzione del playbook perché si utilizza una coppia di chiavi SSH anziché una password per l'autenticazione dell'accesso all'host.  L'elenco seguente è un riepilogo di alto livello:</block>
  <block id="dc8e3956f25fc431225feacc016616b5" category="list-text">Per impostazione predefinita, un'istanza EC2 utilizza una coppia di chiavi SSH per l'autenticazione dell'accesso.  Dalle directory radice dell'automazione del controller Ansible<block ref="4a1bfa90833e8fe6c82ca6f61f31d147" prefix=" " category="inline-code"></block> , E<block ref="a1d1fcb426260f0fdb7febffa690e21c" prefix=" " category="inline-code"></block> , crea una copia della chiave SSH<block ref="956c187b3d0c7dcff5b113900e032874" prefix=" " category="inline-code"></block> per l'host Oracle distribuito nel passaggio "<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block> ."</block>
  <block id="9391c5feaa671121befe114951f00442" category="list-text">Accedi all'host DB dell'istanza EC2 come ec2-user e installa la libreria python3.</block>
  <block id="85e9698f3736149506cd49ab88086364" category="list-text">Creare uno spazio di swap da 16 GB dall'unità disco radice.  Per impostazione predefinita, un'istanza EC2 non crea spazio di swap.  Segui questa documentazione AWS:<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> .</block>
  <block id="be82130abf6bfa8956a5648b39ad4aa8" category="list-text">Torna al controller Ansible<block ref="e97a9e3bee0cbfb89ba75f3695725fba" prefix="(" category="inline-code"></block> ), ed eseguire il playbook preclone con i requisiti appropriati e<block ref="7ee7ce51db32cbf806a0c21c648f4c2b" prefix=" " category="inline-code"></block> tag.</block>
  <block id="83e233b8fca25fb162266daf344246e4" category="list-text">Passare a<block ref="127b3ddd6eac38dd05a00b88b9348ff5" prefix=" " category="inline-code"></block> directory, leggere il file README e popolare il globale<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> file con i parametri globali rilevanti.</block>
  <block id="aed4b8eabfef5056093412d8609b5b9a" category="list-text">Popola il<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> file con i parametri rilevanti nel<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="4b8d8efa08e1060a3db2c7693c4de645" category="list-text">Eseguire il playbook per Linux e premere Invio quando viene richiesta la password vsadmin.</block>
  <block id="4d552f393608513441eb151998098b4a" category="list-text">Eseguire il playbook per Oracle e premere Invio quando viene richiesta la password vsadmin.</block>
  <block id="af392a54b9a2464fdd334372589f1a39" category="paragraph">Se necessario, modificare il bit di autorizzazione sul file chiave SSH su 400.  Cambia l'host Oracle<block ref="e15cba2a55d1c830968665125de5abf6" prefix="(" category="inline-code"></block> nel<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> file) Indirizzo IP all'indirizzo pubblico della tua istanza EC2.</block>
  <block id="ac52b3f8d77eb6814ddf5c761b019c22" category="section-title">Impostazione di SnapMirror tra il cluster FSx HA primario e quello di standby</block>
  <block id="3798adb983c6ffabbcf459359d5ddd4c" category="paragraph">Per un'elevata disponibilità e il ripristino di emergenza, è possibile impostare la replica SnapMirror tra il cluster di archiviazione FSx primario e quello di standby.  A differenza di altri servizi di archiviazione cloud, FSx consente all'utente di controllare e gestire la replicazione dell'archiviazione con la frequenza e la velocità di replica desiderate.  Consente inoltre agli utenti di testare HA/DR senza alcun effetto sulla disponibilità.</block>
  <block id="5414f0571ab88c4269ee945ce4291f65" category="paragraph">I passaggi seguenti mostrano come impostare la replica tra un cluster di archiviazione FSx primario e uno di standby.</block>
  <block id="006c42f009ead3331b1f69ac1979609d" category="list-text">Impostare il peering del cluster primario e di standby.  Accedere al cluster primario come utente fsxadmin ed eseguire il seguente comando.  Questo processo di creazione reciproco esegue il comando di creazione sia sul cluster primario che su quello di standby.  Sostituire<block ref="33c864f25bec561bad1458ab06ec3177" prefix=" " category="inline-code"></block> con il nome appropriato per il tuo ambiente.</block>
  <block id="c725d46c724a573eb994f08a1f309eec" category="list-text">Impostare il peering vServer tra il cluster primario e quello di standby.  Accedi al cluster primario come utente vsadmin ed esegui il seguente comando.  Sostituire<block ref="f826cd2f4a01fe594ea3f06fc8e9a764" prefix=" " category="inline-code"></block> ,<block ref="73483be5a30a2604d22183209c74149e" prefix=" " category="inline-code"></block> ,<block ref="33c864f25bec561bad1458ab06ec3177" prefix=" " category="inline-code"></block> con i nomi appropriati per il tuo ambiente.</block>
  <block id="91ba2ff3a22b9830c626441ad69c84ce" category="list-text">Verificare che i peering del cluster e del vserver siano configurati correttamente.</block>
  <block id="3e7d69bad8d7a20978d112dacf7e3d9a" category="paragraph"><block ref="3e7d69bad8d7a20978d112dacf7e3d9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4cb6743e20f6b87b419d9386d784acc" category="list-text">Creare volumi NFS di destinazione nel cluster FSx di standby per ciascun volume di origine nel cluster FSx primario.  Sostituisci il nome del volume in base al tuo ambiente.</block>
  <block id="8f65518a43c3a1ba084510438fa2d7d3" category="list-text">È anche possibile creare volumi iSCSI e LUN per il binario Oracle, i dati Oracle e il registro Oracle se per l'accesso ai dati viene utilizzato il protocollo iSCSI.  Lasciare circa il 10% di spazio libero nei volumi per gli snapshot.</block>
  <block id="43aea99cd4b66a7a2f8efdc090e3a5ad" category="paragraph">vol create -volume dr_db1_log -aggregate aggr1 -size 250G -state online -policy default -unix-permissions ---rwxr-xr-x -type RW</block>
  <block id="18274474e00c13f064a0b4df0b516185" category="list-text">Per i LUN iSCSI, creare una mappatura per l'iniziatore host Oracle per ciascun LUN, utilizzando il LUN binario come esempio.  Sostituire igroup con un nome appropriato per il proprio ambiente e incrementare lun-id per ogni LUN aggiuntivo.</block>
  <block id="0c2c0f6ddcbbbf39434893162abce545" category="list-text">Creare una relazione SnapMirror tra i volumi del database primario e di standby.  Sostituisci il nome SVM appropriato per il tuo ambiente.</block>
  <block id="a25539ee33148e6d4880b87e1378cafe" category="paragraph">Questa configurazione SnapMirror può essere automatizzata con un NetApp Automation Toolkit per volumi di database NFS.  Il toolkit può essere scaricato dal sito pubblico GitHub NetApp .</block>
  <block id="f9f129d1122f9209f8f27fa07a5ee4b2" category="paragraph">Leggere attentamente le istruzioni README prima di tentare la configurazione e il test di failover.</block>
  <block id="03b2167f2383aa796f361c5c1c689a49" category="admonition">La replica del binario Oracle dal cluster primario a uno standby potrebbe avere implicazioni sulla licenza Oracle.  Per chiarimenti, contattare il rappresentante delle licenze Oracle.  L'alternativa è installare e configurare Oracle al momento del ripristino e del failover.</block>
  <block id="fa697481d9c5655bd57d6ee69f0e9f07" category="section-title">Distribuzione di SnapCenter</block>
  <block id="3f4b23cd1391b97e8a33f3973471103b" category="section-title">Installazione SnapCenter</block>
  <block id="4c88778182d61374292e3c4ad43ae50e" category="inline-link-macro">Installazione del server SnapCenter</block>
  <block id="282e73196d7c89bb5ec3820592ecee7c" category="paragraph">Seguire<block ref="9cac1dd5d049b670d2cd847d9e42d30c" category="inline-link-macro-rx"></block> per installare il server SnapCenter .  Questa documentazione spiega come installare un server SnapCenter autonomo.  Una versione SaaS di SnapCenter è in fase di revisione beta e potrebbe essere disponibile a breve.  Se necessario, verificare la disponibilità con il proprio rappresentante NetApp .</block>
  <block id="a4c2182f79a7834db47fccf9c264332d" category="section-title">Configurare il plugin SnapCenter per l'host Oracle EC2</block>
  <block id="8d0edf4e55e8bc1a96862466762dcdd6" category="list-text">Dopo l'installazione automatica SnapCenter , accedi a SnapCenter come utente amministratore per l'host Windows su cui è installato il server SnapCenter .</block>
  <block id="8f668537cbf52258e84a7a6ce939a8ef" category="paragraph"><block ref="8f668537cbf52258e84a7a6ce939a8ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4af2386526da94f1d101d825c0a623e0" category="list-text">Dal menu a sinistra, fare clic su Impostazioni, quindi su Credenziali e Nuovo per aggiungere le credenziali ec2-user per l'installazione del plugin SnapCenter .</block>
  <block id="d6076dcc82bc4f161579194baa45edfb" category="paragraph"><block ref="d6076dcc82bc4f161579194baa45edfb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37fc637fcb7f9b2e4336350dd7d4775e" category="list-text">Reimposta la password ec2-user e abilita l'autenticazione SSH tramite password modificando<block ref="07b421e5f5e0300b1a0fd6cc22745306" prefix=" " category="inline-code"></block> file sull'host dell'istanza EC2.</block>
  <block id="c1e0ecc2d0f187a040af9ef1e783314d" category="list-text">Verificare che la casella di controllo "Usa privilegi sudo" sia selezionata.  Nel passaggio precedente hai appena reimpostato la password ec2-user.</block>
  <block id="0ff3f2bdc438a09baa2923bff3f95132" category="paragraph"><block ref="0ff3f2bdc438a09baa2923bff3f95132" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3326cea52418b74168243fb56340785" category="list-text">Aggiungere il nome del server SnapCenter e l'indirizzo IP al file host dell'istanza EC2 per la risoluzione dei nomi.</block>
  <block id="59c8e627359bc3d4ce92126cbb1356cc" category="list-text">Sull'host Windows del server SnapCenter , aggiungere l'indirizzo IP dell'host dell'istanza EC2 al file host Windows<block ref="803976de87f6862821bd3c4d94e0ff2b" prefix=" " category="inline-code"></block> .</block>
  <block id="4f91fe76ef9595ef98ee3b0c06a43160" category="list-text">Nel menu a sinistra, seleziona Host &gt; Host gestiti, quindi fai clic su Aggiungi per aggiungere l'host dell'istanza EC2 a SnapCenter.</block>
  <block id="ff5d8f256e74373151ee7a2100cb0bf2" category="paragraph"><block ref="ff5d8f256e74373151ee7a2100cb0bf2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb20727c22e9cab381fd0cd7e817ab85" category="paragraph">Selezionare Oracle Database e, prima di inviare, fare clic su Altre opzioni.</block>
  <block id="4eb361a16d33899c0fc3b10c2943775d" category="paragraph"><block ref="4eb361a16d33899c0fc3b10c2943775d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e249b54031e8a30915659857356cab" category="paragraph">Selezionare Salta controlli preinstallazione.  Confermare l'opzione "Salta controlli preinstallazione", quindi fare clic su Invia dopo aver salvato.</block>
  <block id="34adef73c610d7f47f7516fe148485bc" category="paragraph"><block ref="34adef73c610d7f47f7516fe148485bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d66b31e61ce12ed5022484588882f5f" category="paragraph">Verrà richiesto di confermare l'impronta digitale, quindi fare clic su Conferma e invia.</block>
  <block id="3918d470baf0da4baa81d1e4a923c0b4" category="paragraph"><block ref="3918d470baf0da4baa81d1e4a923c0b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99177ab734274d9f5f703761e4b2deef" category="paragraph">Dopo aver configurato correttamente il plugin, lo stato generale dell'host gestito viene visualizzato come In esecuzione.</block>
  <block id="1237480cd3e6dbf50504959514d44334" category="paragraph"><block ref="1237480cd3e6dbf50504959514d44334" category="inline-image-macro-rx" type="image"></block></block>
  <block id="112fdeb0eaa93f627cf0effc06f49c76" category="section-title">Configurare la policy di backup per il database Oracle</block>
  <block id="2ee003954aaf76b1b587794f035a1c37" category="paragraph">Fare riferimento a questa sezione<block ref="2865fb6e58969a69bf88ca19f541e1ed" category="inline-link-macro-rx"></block> per i dettagli sulla configurazione della policy di backup del database Oracle.</block>
  <block id="6bfb2a8edb5f9cfb06059a588dda9cc0" category="paragraph">In genere è necessario creare una policy per il backup completo dello snapshot del database Oracle e una policy per il backup snapshot solo del log di archivio Oracle.</block>
  <block id="708ae75a87a6997af6838bc2e5149a28" category="admonition">È possibile abilitare la potatura del log di archivio Oracle nella policy di backup per controllare lo spazio di archiviazione del log.  Selezionare "Aggiorna SnapMirror dopo aver creato una copia Snapshot locale" in "Seleziona opzione di replica secondaria" poiché è necessario replicare in una posizione di standby per HA o DR.</block>
  <block id="acea2698961ae21a708203b9a9b86b94" category="section-title">Configurare il backup e la pianificazione del database Oracle</block>
  <block id="56f3e355b3a4359c9a0808d978ca484c" category="paragraph">Il backup del database in SnapCenter è configurabile dall'utente e può essere impostato individualmente o come gruppo in un gruppo di risorse.  L'intervallo di backup dipende dagli obiettivi RTO e RPO.  NetApp consiglia di eseguire un backup completo del database ogni poche ore e di archiviare il backup del registro con una frequenza maggiore, ad esempio ogni 10-15 minuti, per un ripristino rapido.</block>
  <block id="806fc242f41a4e085a01998d89fe8307" category="paragraph">Fare riferimento alla sezione Oracle di<block ref="aeb62962db52b5cda2e30513aa3f3cdb" category="inline-link-macro-rx"></block> per una procedura dettagliata passo dopo passo per l'implementazione della policy di backup creata nella sezione<block ref="f2afcb5a9b8ad2d8fe33e91cb4edb80f" category="inline-xref-macro-rx"></block> e per la pianificazione dei lavori di backup.</block>
  <block id="b47b1d2e2c373fd6c07f22a130e90a41" category="paragraph">L'immagine seguente fornisce un esempio dei gruppi di risorse configurati per eseguire il backup di un database Oracle.</block>
  <block id="b28d5da0b6799981e7a13e679afeaa8d" category="paragraph"><block ref="b28d5da0b6799981e7a13e679afeaa8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a7ba809855186bf7ed82cff9d5e1cdf" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione di Oracle in VMware Cloud in AWS con FSx ONTAP come storage del database primario e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="8c21b1cb48bb75d39598b2efc8c1246d" category="doc">TR-4979: Oracle semplificato e autogestito in VMware Cloud su AWS con FSx ONTAP montato su guest</block>
  <block id="a04492f0064c628fae333a55f7d89e9a" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione di Oracle in VMware Cloud in AWS con FSx ONTAP come storage del database primario e database Oracle configurato in ReStart autonomo utilizzando asm come gestore dei volumi.</block>
  <block id="7264a2b4e10eabab45caef5d892ac1a8" category="paragraph">Da decenni le aziende utilizzano Oracle su VMware nei data center privati.  VMware Cloud (VMC) su AWS offre una soluzione immediata per portare il software Software-Defined Data Center (SDDC) di classe enterprise di VMware sull'infrastruttura bare-metal dedicata ed elastica di AWS Cloud.  AWS FSx ONTAP offre storage premium a VMC SDDC e un data fabric che consente ai clienti di eseguire applicazioni business-critical come Oracle in ambienti cloud privati, pubblici e ibridi basati su vSphere, con accesso ottimizzato ai servizi AWS.  Che si tratti di un carico di lavoro Oracle nuovo o esistente, VMC su AWS fornisce un ambiente Oracle familiare, semplificato e autogestito su VMware con tutti i vantaggi del cloud AWS, delegando al contempo a VMware tutta la gestione e l'ottimizzazione della piattaforma.</block>
  <block id="e73bc10aceb8a9e7c4ac45f0d1d0da5b" category="paragraph">Questa documentazione illustra la distribuzione e la protezione di un database Oracle in un ambiente VMC con Amazon FSx ONTAP come storage del database primario.  Il database Oracle può essere distribuito su VMC su storage FSx come LUN montate direttamente su guest VM o dischi datastore VMware VMDK montati su NFS.  Questo rapporto tecnico si concentra sulla distribuzione del database Oracle come storage FSx montato direttamente sugli ospiti nelle VM nel cluster VMC con il protocollo iSCSI e Oracle ASM.  Mostreremo inoltre come utilizzare lo strumento NetApp SnapCenter UI per eseguire il backup, il ripristino e la clonazione di un database Oracle per lo sviluppo/test o altri casi d'uso per operazioni di database efficienti in termini di storage nella VMC su AWS.</block>
  <block id="1bcbe40dab06a9681d7e0fcf5e561941" category="list-text">Distribuzione del database Oracle in VMC su AWS con Amazon FSx ONTAP come storage del database primario</block>
  <block id="8652360c0a7d6cf650f303d3611a363c" category="list-text">Backup e ripristino del database Oracle in VMC su AWS utilizzando lo strumento NetApp SnapCenter</block>
  <block id="cf30ea590ca185afdd551e920e4fade2" category="list-text">Clone del database Oracle per sviluppo/test o altri casi d'uso in VMC su AWS utilizzando lo strumento NetApp SnapCenter</block>
  <block id="ef8cc3b3b7c4616678cc6819452f021a" category="list-text">Un DBA che vorrebbe distribuire Oracle in VMC su AWS con Amazon FSx ONTAP</block>
  <block id="796c3d4a6179f628784371e4fb7fa9d9" category="list-text">Un architetto di soluzioni di database che vorrebbe testare i carichi di lavoro Oracle in VMC sul cloud AWS</block>
  <block id="cb94ba9e822edf8670a9aedebc0852c1" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle distribuito su VMC su AWS con Amazon FSx ONTAP</block>
  <block id="b2777eda52c529f2b03fa9eced1c9680" category="list-text">Un proprietario di un'applicazione che vorrebbe creare un database Oracle in VMC sul cloud AWS</block>
  <block id="43b43702bc731c576655a9cbe9d3cb20" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio con VMC su AWS che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f517d0b17cd7ff6e33d06962dfbfea41" category="paragraph"><block ref="f517d0b17cd7ff6e33d06962dfbfea41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="968ee2170dde4e5744b413462ee41e35" category="cell">Un cluster FSx ONTAP HA nella stessa VPC e zona di disponibilità della VMC</block>
  <block id="a19ad08a54b29b409555bf1681f098ee" category="cell">Cluster VMC SDDC</block>
  <block id="cad01e8ce0c8a902e41beab182a6fe81" category="cell">Nodo singolo Amazon EC2 i3.metal/CPU Intel Xeon E5-2686, 36 core/512G RAM</block>
  <block id="392bcaf841ff67a89aefe2473cff840b" category="cell">10,37 TB di spazio di archiviazione vSAN</block>
  <block id="7f65285e967e5d62effe7b87198351bc" category="cell">BlueXP backup and recovery per VM</block>
  <block id="2d2a0d505d952b5fcde17cab075157a3" category="cell">Versione 1.0</block>
  <block id="af6552ad45cff98ac3271a6c92ff6d19" category="cell">Distribuito come VM del plugin ova vSphere</block>
  <block id="8887a9a417a1629326acdb917d224337" category="cell">VMware vSphere</block>
  <block id="6644cd5d665b50522c19c606bd2b1bde" category="cell">Versione 8.0.1.00300</block>
  <block id="f7c55f54e2022628f07d7e62a55eec78" category="section-title">Configurazione del database Oracle in VMC su AWS</block>
  <block id="84e8b41cc4a43202bd012704510bd6b6" category="cell">cdb1(cdb1_pdb1,cdb1_pdb2,cdb1_pdb3)</block>
  <block id="f1566e01e42cd3da5d95437ef837891d" category="cell">Archivio dati VMDK su FSx ONTAP</block>
  <block id="3e17b19d4466b08c46121ab170ec8b1d" category="cell">cdb2(cdb2_pdb)</block>
  <block id="be2e4558b7d000c11b6d37e9ed3f40c8" category="cell">cdb3(cdb3_pdb1,cdb3_pdb2,cdb3_pdb3)</block>
  <block id="127cba96fa239f4b6e7834fe0c898c23" category="cell">FSx ONTAP montato direttamente dall'ospite</block>
  <block id="9b7c2c624034bf5c8ad48b5e15db2c29" category="cell">cdb4(cdb4_pdb)</block>
  <block id="b2a0d74c269419c5b4c81fb601201eb3" category="list-text">*Connettività da FSx a VMC.*  Quando distribuisci il tuo SDDC su VMware Cloud su AWS, questo viene creato all'interno di un account AWS e di una VPC dedicata alla tua organizzazione e gestita da VMware.  È inoltre necessario connettere l'SDDC a un account AWS di tua proprietà, denominato account AWS del cliente.  Questa connessione consente al tuo SDDC di accedere ai servizi AWS appartenenti al tuo account cliente.  FSx ONTAP è un servizio AWS distribuito nel tuo account cliente.  Una volta che VMC SDDC è connesso al tuo account cliente, lo storage FSx è disponibile per le VM in VMC SDDC per il montaggio guest diretto.</block>
  <block id="8a5846077434bed7f75867e0bbea031d" category="list-text">*Distribuzione di cluster HA di storage FSx a zona singola o multizona.*  In questi test e convalide, abbiamo distribuito un cluster FSx HA in una singola zona di disponibilità AWS.  NetApp consiglia inoltre di distribuire FSx ONTAP e VMware Cloud su AWS nella stessa zona di disponibilità per ottenere prestazioni migliori ed evitare costi di trasferimento dati tra zone di disponibilità.</block>
  <block id="8f7bae5e54635f314c4287e399c587b2" category="list-text">*Dimensionamento del cluster di archiviazione FSx.*  Un file system di storage Amazon FSx ONTAP fornisce fino a 160.000 IOPS SSD raw, fino a 4 GBps di throughput e una capacità massima di 192 TiB.  Tuttavia, è possibile dimensionare il cluster in termini di IOPS forniti, velocità effettiva e limite di archiviazione (minimo 1.024 GiB) in base alle esigenze effettive al momento della distribuzione.  La capacità può essere regolata dinamicamente al volo senza compromettere la disponibilità dell'applicazione.</block>
  <block id="be0ce32710988ccdcfd841a8218afb1a" category="list-text">*Layout dei dati e dei log di Oracle.*  Nei nostri test e nelle nostre convalide, abbiamo distribuito due gruppi di dischi ASM rispettivamente per i dati e i log.  All'interno del gruppo di dischi asm +DATA, abbiamo predisposto quattro LUN in un volume di dati.  All'interno del gruppo di dischi asm +LOGS, abbiamo predisposto due LUN in un volume di registro.  In generale, più LUN disposte all'interno di un volume Amazon FSx ONTAP garantiscono prestazioni migliori.</block>
  <block id="10fd1c6c748022c4eac81e0e7815e3c9" category="list-text">*Configurazione iSCSI.*  Le VM del database in VMC SDDC si connettono allo storage FSx tramite il protocollo iSCSI.  È importante valutare il requisito di throughput I/O di picco del database Oracle analizzando attentamente il report Oracle AWR per determinare i requisiti di throughput del traffico iSCSI e dell'applicazione.  NetApp consiglia inoltre di allocare quattro connessioni iSCSI a entrambi gli endpoint iSCSI FSx con multipath configurato correttamente.</block>
  <block id="5fa486195592a222708baf1d0d84b596" category="list-text">*Livello di ridondanza di Oracle ASM da utilizzare per ogni gruppo di dischi Oracle ASM creato.*  Poiché FSx ONTAP esegue già il mirroring dello storage a livello di cluster FSx, è necessario utilizzare la ridondanza esterna, il che significa che l'opzione non consente a Oracle ASM di eseguire il mirroring del contenuto del gruppo di dischi.</block>
  <block id="f02a238998ba2723f4626a5994f00464" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione di Oracle 19c in VMC su AWS con storage FSx ONTAP montato direttamente sulla VM DB in un singolo nodo. Riavviare la configurazione con Oracle ASM come gestore dei volumi del database.</block>
  <block id="4950c77542ffaf6f7c4295f413cd34bf" category="inline-link-macro">Introduzione a VMware Cloud su AWS</block>
  <block id="3ebe73caee30b8d941aa7da02afb494d" category="list-text">È stato creato un data center definito dal software (SDDC) utilizzando VMware Cloud su AWS.  Per istruzioni dettagliate su come creare un SDDC in VMC, fare riferimento alla documentazione VMware<block ref="8f2441f58c4fdf4959e58cb9afc7d8c0" category="inline-link-macro-rx"></block></block>
  <block id="8be484f960dc0192a878263a8ac3c41d" category="list-text">È stato configurato un account AWS e sono stati creati i segmenti di rete e VPC necessari all'interno del tuo account AWS.  L'account AWS è collegato al tuo VMC SDDC.</block>
  <block id="de6ab74344a23dabdc076c1be8775ed2" category="list-text">Dalla console AWS EC2, distribuzione di cluster HA di storage Amazon FSx ONTAP per ospitare i volumi del database Oracle.  Se non hai familiarità con la distribuzione dell'archiviazione FSx, consulta la documentazione<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="c7480d38cc7c53dd45b4135ac24c2e50" category="list-text">Il passaggio precedente può essere eseguito utilizzando il seguente toolkit di automazione Terraform, che crea un'istanza EC2 come host jump per SDDC nell'accesso VMC tramite SSH e un file system FSx.  Prima dell'esecuzione, rivedere attentamente le istruzioni e modificare le variabili in base all'ambiente.</block>
  <block id="ab75bf4284ff33ce0dff4b433e5cc77f" category="list-text">Crea VM in VMware SDDC su AWS per ospitare il tuo ambiente Oracle da distribuire in VMC.  Nella nostra dimostrazione, abbiamo creato due VM Linux come server Oracle DB, un server Windows per il server SnapCenter e un server Linux opzionale come controller Ansible per l'installazione o la configurazione automatizzata di Oracle, se desiderato.  Di seguito è riportata un'istantanea dell'ambiente di laboratorio per la convalida della soluzione.</block>
  <block id="0ca3188ea78762727379ffff3db432b9" category="inline-image-macro">Screenshot che mostra l'ambiente di test VMC SDDC.</block>
  <block id="a3cc6ff7f98780903b3eee75f4b050be" category="paragraph"><block ref="a3cc6ff7f98780903b3eee75f4b050be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c9fce41c09b59cd817f89c3d5828ccc" category="list-text">Facoltativamente, NetApp fornisce anche diversi toolkit di automazione per eseguire la distribuzione e la configurazione di Oracle, ove applicabile.</block>
  <block id="d50fb02d2ad265b4dc8ea5d6a329f52c" category="admonition">Assicurati di aver allocato almeno 50 G nel volume root di Oracle VM per avere spazio sufficiente per organizzare i file di installazione di Oracle.</block>
  <block id="7b73a23b90df52ef2a02ef00b5200773" category="section-title">Configurazione del kernel della VM DB</block>
  <block id="9144d3423aec7a4a79da57105f06a978" category="paragraph">Una volta soddisfatti i prerequisiti, accedi alla Oracle VM come utente amministratore tramite SSH e digita sudo come utente root per configurare il kernel Linux per l'installazione di Oracle.  I file di installazione di Oracle possono essere archiviati in un bucket AWS S3 e trasferiti nella VM.</block>
  <block id="5fa261bdb9bdacac6f1656fc0febc8c5" category="paragraph">Vedere il seguente elenco di file di installazione da indicare in<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> sulla VM del database.</block>
  <block id="3f09cc7324f8c1244747932eaf3dc3ce" category="list-text">Installare<block ref="c8dff58175a7ddfedf00d77953ef42dd" prefix=" " category="inline-code"></block> .</block>
  <block id="9b044ccb441d52e3c435f781b8c3488d" category="list-text">Installa sg3_utils.</block>
  <block id="6e92674c0bf485348ed8c0cc3f038b5f" category="list-text">Installa device-mapper-multipath.</block>
  <block id="5d1e157d7edb057e0d33d878529ef182" category="list-text">Aggiungere le seguenti righe in<block ref="08561da4afe8299be4016c92bfe83435" prefix=" " category="inline-code"></block> disabilitare<block ref="d78ade61a64b6a278ed6278e7cfd91f3" prefix=" " category="inline-code"></block> dopo il riavvio.</block>
  <block id="b9104e6156e755e4d417f51a5619e651" category="list-text">Aggiungere le seguenti righe a<block ref="8b5eec1c5f63341b700263cc37cbae02" prefix=" " category="inline-code"></block> per impostare il limite del descrittore di file e la dimensione dello stack.</block>
  <block id="258d4c0ff1dcaaa41c50d5706b27500e" category="list-text">Aggiungere spazio di swap alla VM DB se non è configurato alcuno spazio di swap con questa istruzione:<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> La quantità esatta di spazio da aggiungere dipende dalla dimensione della RAM, fino a 16 GB.</block>
  <block id="554a8b968dbbeb452b0d18a4f8d31077" category="list-text">Aggiungere i gruppi asm per l'utente di gestione asm (Oracle).</block>
  <block id="d979e8c8a06dddf190cfc1c00bdbb48b" category="list-text">Modificare l'utente Oracle per aggiungere gruppi ASM come gruppi secondari (l'utente Oracle avrebbe dovuto essere creato dopo l'installazione di Oracle Preinstall RPM).</block>
  <block id="25cbc423fe11e7d196553da546d785d1" category="list-text">Arrestare e disattivare il firewall Linux se è attivo.</block>
  <block id="1ee999f15fe9c423eb377e0090aad2bf" category="list-text">Abilita sudo senza password per l'utente amministratore rimuovendo il commento<block ref="1cb32f4855eb0834d64969fe24edd26d" prefix=" " category="inline-code"></block> riga nel file /etc/sudoers.  Cambiare i permessi del file per effettuare la modifica.</block>
  <block id="e05fc5da4fb01e91a42e8baab993c77f" category="section-title">Fornire e mappare le LUN FSx ONTAP alla VM del database</block>
  <block id="20767a279b850aa7f1bcaef1c31a5834" category="paragraph">Eseguire il provisioning di tre volumi dalla riga di comando effettuando l'accesso al cluster FSx come utente fsxadmin tramite ssh e l'IP di gestione del cluster FSx.  Creare LUN all'interno dei volumi per ospitare i file binari, di dati e di registro del database Oracle.</block>
  <block id="a4d17921e42af0c865a419c2383fc24e" category="list-text">Convalidare i volumi creati.</block>
  <block id="fe34db0a054599cd0a406e3502d0ef5c" category="paragraph">Output del comando:</block>
  <block id="907146434a35238d633ca6753dd9c615" category="list-text">Mappare i LUN sull'igroup creato sopra.  Incrementare l'ID LUN in sequenza per ogni LUN aggiuntivo.</block>
  <block id="223bac04448ebaf5c7f63e60fcdb0498" category="section-title">Configurazione dell'archiviazione DB VM</block>
  <block id="a50ba1970162deb2e69ba6ac5cd43b03" category="paragraph">Ora, importa e configura lo storage FSx ONTAP per l'infrastruttura Oracle Grid e l'installazione del database sulla VM del database VMC.</block>
  <block id="25129372dcdad77bdf8f853444a467a1" category="list-text">Accedere alla VM del database tramite SSH come utente amministratore utilizzando Putty dal jump server di Windows.</block>
  <block id="159ce09d3368d57420a832ccbf7ef199" category="list-text">Scopri gli endpoint iSCSI FSx utilizzando l'indirizzo IP iSCSI SVM.  Modifica l'indirizzo del portale specifico del tuo ambiente.</block>
  <block id="669ffba4950ab12059582a3c3fa10940" category="list-text">Accedi al cluster FSx ONTAP come utente fsxadmin tramite SSH per recuperare il numero seriale esadecimale per ogni LUN che inizia con 6c574xxx...; il numero esadecimale inizia con 3600a0980, che è l'ID del fornitore AWS.</block>
  <block id="c44eb19dc7906a6753272e8a1de9b1cb" category="list-text">Modifica<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> la proprietà del punto di montaggio spetta all'utente Oracle e al gruppo primario associato.</block>
  <block id="ebf44954c543813531faf671e318bdc9" category="list-text">Accedi alla VM del DB come utente amministratore tramite SSH e abilita l'autenticazione tramite password rimuovendo il commento<block ref="cd94e87e5216cd088acdc4de0e9c30f1" prefix=" " category="inline-code"></block> e poi commentando<block ref="f18918133cfc22e041baab71b051c41f" prefix=" " category="inline-code"></block> .</block>
  <block id="d36d86c204f6126a4742f3c17a52b50a" category="list-text">Preparare un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> file per l'installazione silenziosa e posizionare il file rsp nel<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> elenco.  Il file rsp dovrebbe comprendere le sezioni A, B e G con le seguenti informazioni:</block>
  <block id="9bd3ed1deb734d02d4b9004adb88c1ed" category="list-text">Inizializza i dispositivi disco per l'utilizzo con il driver del filtro Oracle ASM.</block>
  <block id="f0c1c255ad4ee079686c5de8b56372a2" category="list-text">Convalida lo stato del servizio HA.</block>
  <block id="d4d4203c3b64386ed31cefd3e527f1fc" category="list-text">Creare la directory home di Oracle DB e modificarne la directory.</block>
  <block id="51fbc23284cfef48739fa117053b0496" category="list-text">Da DB home, rivedere<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> e rimuovi il commento e sostituisci<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> con<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="900c7011e47a25c71c72d7baa3d4786b" category="list-text">Dalla home di cdb3 /u01/app/oracle/product/19.0.0/cdb3, eseguire l'installazione silenziosa del DB solo software.</block>
  <block id="77ca17b9b0d011a8a9693dea585ec113" category="list-text">Come utente root, eseguire il comando<block ref="08030ad08b2b991d61b424afd8828758" prefix=" " category="inline-code"></block> script dopo l'installazione del solo software.</block>
  <block id="c4cf035e92613b739d2fdb8f3f864b6e" category="list-text">Come utente Oracle, crea il<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> file con le seguenti voci:</block>
  <block id="29362c5952e8a273a25c1d86fc91d838" category="list-text">Come utente Oracle, avvia la creazione del DB con dbca.</block>
  <block id="5483ea94e6740cb9506d49c7b420197b" category="paragraph">produzione:</block>
  <block id="519ad91eddb5ee99b4c197b4172c79cf" category="list-text">Ripetere le stesse procedure dal passaggio 2 per creare un database contenitore cdb4 in un ORACLE_HOME /u01/app/oracle/product/19.0.0/cdb4 separato con un singolo PDB.</block>
  <block id="3a3a87b9aff1fff5afe3fd3a13cf4bec" category="list-text">Come utente Oracle, convalidare i servizi Oracle Restart HA dopo la creazione del DB affinché tutti i database (cdb3, cdb4) siano registrati con i servizi HA.</block>
  <block id="1d891a18ce35238aed4ee18804d6c368" category="list-text">Convalida il CDB/PDB creato per cdb3.</block>
  <block id="2fa6ba00439ae530528e2071b0cae3b6" category="list-text">Convalida il CDB/PDB creato per cdb4.</block>
  <block id="7f1463c4022e8bf5ef77ee7b4272d57e" category="list-text">Accedere a ciascun cdb come sysdba con sqlplus e impostare la dimensione della destinazione di ripristino del DB sulla dimensione del gruppo di dischi +LOGS per entrambi i cdb.</block>
  <block id="d2dff87fed5b165c0917439bd2348ee6" category="list-text">Accedere a ciascun cdb come sysdba con sqlplus e abilitare la modalità di registro di archivio con i seguenti comandi impostati in sequenza.</block>
  <block id="059230c3af2be97f2f14287139b3cae4" category="paragraph">Questo completa la distribuzione di Oracle 19c versione 19.18 Restart su uno storage Amazon FSx ONTAP e una VM VMC DB.  Se lo si desidera, NetApp consiglia di spostare il file di controllo Oracle e i file di registro online nel gruppo di dischi +LOGS.</block>
  <block id="d4c868638655b6a0f05ff19eb2dc90b3" category="section-title">Configurazione SnapCenter</block>
  <block id="43b9d4da02f11505dff89d05efea04c6" category="inline-link-macro">Cosa puoi fare con il plug-in per Oracle Database</block>
  <block id="c6dd5b1c74dacee8c5ea6ea24ec47c61" category="paragraph">SnapCenter si basa su un plug-in lato host sulla macchina virtuale del database per eseguire attività di gestione della protezione dei dati basate sulle applicazioni.  Per informazioni dettagliate sul plugin NetApp SnapCenter per Oracle, fare riferimento a questa documentazione<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Di seguito sono riportati i passaggi principali per configurare SnapCenter per il backup, il ripristino e la clonazione del database Oracle.</block>
  <block id="68f9ff06ec00760816a8852081d652a9" category="inline-link-macro">Download del supporto NetApp</block>
  <block id="9f3f125ee631455138d3f4f0e7e3eab6" category="list-text">Scarica l'ultima versione del SnapCenter software dal sito di supporto NetApp :<block ref="3cca19c7256555824970f142627f53d3" category="inline-link-macro-rx"></block> .</block>
  <block id="4e26d4a1dcc35c4e1d2dfd9c3b78e535" category="inline-link-macro">Ottieni Java per le applicazioni desktop</block>
  <block id="a6e522693361323d4999a459b325b038" category="list-text">Come amministratore, installa l'ultimo Java JDK da<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> sull'host Windows del server SnapCenter .</block>
  <block id="02e32891e3de53a22cecc990dca68e55" category="admonition">Se il server Windows è distribuito in un ambiente di dominio, aggiungere un utente di dominio al gruppo di amministratori locali del server SnapCenter ed eseguire l'installazione SnapCenter con l'utente di dominio.</block>
  <block id="d71146f6c986dedfe7a80892a16bf95a" category="list-text">Accedi all'interfaccia utente SnapCenter tramite la porta HTTPS 8846 come utente di installazione per configurare SnapCenter per Oracle.</block>
  <block id="ce9b8e01e17b619f7f8a43211a1ffd57" category="list-text">Aggiornamento<block ref="6b2d6702a0358e8df43b31cf0890a30f" prefix=" " category="inline-code"></block> in contesti globali.</block>
  <block id="10f89a6808c7ca8a60e377ea9537da91" category="inline-image-macro">Screenshot che mostra la configurazione SnapCenter .</block>
  <block id="5b013854b310272734f6e4f9b63e2cba" category="paragraph"><block ref="5b013854b310272734f6e4f9b63e2cba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c933eebaf80d285dfac08fec41a6a6b" category="list-text">Creare policy di backup del database Oracle.  L'ideale sarebbe creare una policy di backup separata per i registri di archivio, per consentire intervalli di backup più frequenti e ridurre al minimo la perdita di dati in caso di errore.</block>
  <block id="38e88a98d97ddbbc6fad69f518cd012e" category="paragraph"><block ref="38e88a98d97ddbbc6fad69f518cd012e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="638c0eb2b08e7f1a3e5f520754df2492" category="list-text">Aggiungi server di database<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> per l'accesso SnapCenter alla VM DB.  Le credenziali devono avere privilegi sudo su una macchina virtuale Linux o privilegi di amministratore su una macchina virtuale Windows.</block>
  <block id="ef566c9965e38f71bfe1626a6394c61c" category="paragraph"><block ref="ef566c9965e38f71bfe1626a6394c61c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd00724bb50c560f784951b9675078a9" category="list-text">Aggiungere il cluster di archiviazione FSx ONTAP a<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> con IP di gestione del cluster e autenticato tramite ID utente fsxadmin.</block>
  <block id="ca11147de8c392ae9e43aab81e70f743" category="paragraph"><block ref="ca11147de8c392ae9e43aab81e70f743" category="inline-image-macro-rx" type="image"></block></block>
  <block id="026ec4d6f3dd2407e2e1278ccc1eb4de" category="list-text">Aggiungere la VM del database Oracle in VMC a<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> con le credenziali del server create nel passaggio 6 precedente.</block>
  <block id="0b11f9f53a89cd9db21cc85ddd53ff52" category="paragraph"><block ref="0b11f9f53a89cd9db21cc85ddd53ff52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="363544b94b5ce99f22af62c11cdfb685" category="admonition">Assicurarsi che il nome del server SnapCenter possa essere risolto nell'indirizzo IP della VM DB e che il nome della VM DB possa essere risolto nell'indirizzo IP del server SnapCenter .</block>
  <block id="025cf2f18f2e268b39a9e3b95afe5c03" category="section-title">Backup del database</block>
  <block id="569cda6ea25c5dbb40dbe351743ff809" category="paragraph">SnapCenter sfrutta lo snapshot del volume FSx ONTAP per un backup, un ripristino o una clonazione del database molto più rapidi rispetto alla metodologia tradizionale basata su RMAN.  Gli snapshot sono coerenti con l'applicazione poiché il database viene messo in modalità di backup Oracle prima di uno snapshot.</block>
  <block id="edf9da3decc598bb9b93dc595dfb701a" category="list-text">Dal<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, tutti i database sulla VM vengono rilevati automaticamente dopo che la VM è stata aggiunta a SnapCenter.  Inizialmente, lo stato del database viene visualizzato come<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="b10e208514bf3d9b1d5b81372d142337" category="paragraph"><block ref="b10e208514bf3d9b1d5b81372d142337" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a671953c31e073dfa8b0ed9da13f596" category="list-text">Creare un gruppo di risorse per eseguire il backup del database in un raggruppamento logico, ad esempio per DB VM ecc. In questo esempio, abbiamo creato un gruppo ora_02_data per eseguire un backup completo del database online per tutti i database sulla VM ora_02.  Il gruppo di risorse ora_02_log esegue il backup dei log archiviati solo sulla VM.  La creazione di un gruppo di risorse definisce anche una pianificazione per l'esecuzione del backup.</block>
  <block id="cad29c3db25d24da4bbee5aea60736da" category="paragraph"><block ref="cad29c3db25d24da4bbee5aea60736da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b0d69d2347240232ff1724962274d17" category="list-text">Il backup del gruppo di risorse può anche essere attivato manualmente facendo clic su<block ref="9af892ad254c844922acba8e89078d6d" prefix=" " category="inline-code"></block> ed eseguendo il backup con la policy definita nel gruppo di risorse.</block>
  <block id="bd9aa9cb7e810fe9ca3fc51853357011" category="paragraph"><block ref="bd9aa9cb7e810fe9ca3fc51853357011" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ddf172cecda6c976fecf4c27819e241" category="list-text">Il processo di backup può essere monitorato al<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda cliccando sul lavoro in esecuzione.</block>
  <block id="3743613408568cbb8fffc38bd611ec56" category="paragraph"><block ref="3743613408568cbb8fffc38bd611ec56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d972f47eb27d37493fd1b73f1c799699" category="list-text">Dopo un backup riuscito, lo stato del database mostra lo stato del processo e l'ora del backup più recente.</block>
  <block id="029dc816f654fac31766bc14a31f524c" category="paragraph"><block ref="029dc816f654fac31766bc14a31f524c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b29d7776717c0a002b1cfb23bba6ede" category="list-text">Fare clic sul database per esaminare i set di backup per ciascun database.</block>
  <block id="df8e6bed53d8cc6da01aedd9bad46e52" category="paragraph"><block ref="df8e6bed53d8cc6da01aedd9bad46e52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="381a4da48b283cb83eaca25d4d82a5a0" category="section-title">Recupero del database</block>
  <block id="5586b3dfa8d7aaa4771cba0c795dcc1c" category="paragraph">SnapCenter offre numerose opzioni di ripristino e recupero per i database Oracle dal backup snapshot.  In questo esempio, mostriamo un ripristino puntuale per recuperare una tabella eliminata per errore.  Sulla VM ora_02, due database cdb3 e cdb4 condividono gli stessi gruppi di dischi +DATA e +LOGS.  Il ripristino di un database non influisce sulla disponibilità dell'altro database.</block>
  <block id="7cc816f478b8fdfd718bae0b9383c204" category="list-text">Per prima cosa, crea una tabella di prova e inserisci una riga nella tabella per convalidare un ripristino puntuale.</block>
  <block id="10196ada2a83568ea4b23ac007abb3e1" category="list-text">Eseguiamo un backup manuale degli snapshot da SnapCenter.  Poi lascia cadere il tavolo.</block>
  <block id="5ab664c5c8573a6f098f67e573077ddb" category="list-text">Dal set di backup creato nell'ultimo passaggio, prendere nota del numero SCN del backup del log.  Clicca su<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> per avviare il flusso di lavoro di ripristino-recupero.</block>
  <block id="03643ecb408a04d6369807964f4c0a00" category="paragraph"><block ref="03643ecb408a04d6369807964f4c0a00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4d348e917d1812ea79e94ee7799918a" category="list-text">Selezionare l'ambito di ripristino.</block>
  <block id="5d9ddfd10a0595c3b37570e907352e03" category="paragraph"><block ref="5d9ddfd10a0595c3b37570e907352e03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d1ae3afc2dfbd2dfa9b6aa0b4557161" category="list-text">Selezionare l'ambito di ripristino fino al registro SCN dall'ultimo backup completo del database.</block>
  <block id="cc84b4e33c4183f620a20594ccb185e3" category="paragraph"><block ref="cc84b4e33c4183f620a20594ccb185e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c70ff881ea5d29e3a88b724e098e9d66" category="list-text">Specificare eventuali pre-script facoltativi da eseguire.</block>
  <block id="910015a1b5f4e9328499121c55217a8a" category="paragraph"><block ref="910015a1b5f4e9328499121c55217a8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81bc29b1b95871e6d5d7d76b917a005a" category="list-text">Specificare eventuali script successivi facoltativi da eseguire.</block>
  <block id="e6e6b6d865c940446e8b169418e324b5" category="paragraph"><block ref="e6e6b6d865c940446e8b169418e324b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="550a7e596b298565d43b08bbdc9e9502" category="list-text">Se lo desideri, invia un rapporto sul lavoro.</block>
  <block id="b67c26325aa28b8194fd13b45c842e2b" category="paragraph"><block ref="b67c26325aa28b8194fd13b45c842e2b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c30b39b40cf957f005a8d97554cb792" category="list-text">Rivedi il riepilogo e clicca su<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per avviare il restauro e il recupero.</block>
  <block id="19d3b39cada554662e288d920070f33b" category="paragraph"><block ref="19d3b39cada554662e288d920070f33b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b097285b35ac926b6e3a30da709b120" category="list-text">Dal controllo della griglia di riavvio di Oracle, osserviamo che mentre cdb3 è in fase di ripristino e recupero, cdb4 è online e disponibile.</block>
  <block id="bbbd2ca379f212b84f7d2f83633ac2e2" category="paragraph"><block ref="bbbd2ca379f212b84f7d2f83633ac2e2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b011ed6e72e83b31014ed609b024d671" category="list-text">Da<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda, apri il lavoro per rivedere i dettagli.</block>
  <block id="86579fa281ba9b8a24f9ff5532d39cb3" category="paragraph"><block ref="86579fa281ba9b8a24f9ff5532d39cb3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8dc42fb122639d83a29d4d65e2b815e" category="list-text">Da DB VM ora_02, convalidare che la tabella eliminata venga recuperata dopo un ripristino riuscito.</block>
  <block id="82459660e8d561fc463b49540987f53f" category="section-title">Clonazione del database</block>
  <block id="f6e7e97c5e19c813d868b9fef1ce8249" category="paragraph">In questo esempio, gli stessi set di backup vengono utilizzati per clonare un database sulla stessa VM in un ORACLE_HOME diverso.  Le procedure sono ugualmente applicabili per clonare un database dal backup a una VM separata in VMC, se necessario.</block>
  <block id="166b0369d9dcd60c22b00908c9989b23" category="list-text">Aprire l'elenco di backup del database cdb3.  Da un backup dei dati di tua scelta, clicca su<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione del database.</block>
  <block id="e2a86ae93a090b1427ebaa2f9e665b9a" category="paragraph"><block ref="e2a86ae93a090b1427ebaa2f9e665b9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26e18e582adb0a52168bd3417e7e507d" category="list-text">Assegnare un nome al SID del database clone.</block>
  <block id="19fd68eefe67673d5c21f0d1f5c4498b" category="paragraph"><block ref="19fd68eefe67673d5c21f0d1f5c4498b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1864ca75c3d9655e9c9c1fb1fea390df" category="list-text">Selezionare una VM in VMC come host del database di destinazione.  Sull'host avrebbe dovuto essere installata e configurata una versione identica di Oracle.</block>
  <block id="81968b66a2163518ccc07aca74632b47" category="paragraph"><block ref="81968b66a2163518ccc07aca74632b47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c1b5c3a41783f4011163cf3a7694f36d" category="list-text">Selezionare l'ORACLE_HOME, l'utente e il gruppo corretti sull'host di destinazione.  Mantieni le credenziali predefinite.</block>
  <block id="2a9ceba13cac6834a121165b7655e1eb" category="paragraph"><block ref="2a9ceba13cac6834a121165b7655e1eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="991df28ae4ba0a10c1ae7d1cc1ea3292" category="list-text">Modificare i parametri del database clone per soddisfare i requisiti di configurazione o di risorse del database clone.</block>
  <block id="874b012adbaf6abb809a521380d7d5ae" category="paragraph"><block ref="874b012adbaf6abb809a521380d7d5ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="73ec64d1d5561a05f8953f32ccc418e3" category="list-text">Scegli l'ambito di ripristino.<block ref="e6cb3190c21226943d9002045ab8a93a" prefix=" " category="inline-code"></block> recupera il clone fino all'ultimo file di registro disponibile nel set di backup.</block>
  <block id="d1cd045c499c1a3d105a5e07aa3cc551" category="paragraph"><block ref="d1cd045c499c1a3d105a5e07aa3cc551" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f940cd9350acca488dc054b4cb0fd9e" category="list-text">Rivedi il riepilogo e avvia il processo di clonazione.</block>
  <block id="f502097b54b49b204de60be9cd20bac7" category="paragraph"><block ref="f502097b54b49b204de60be9cd20bac7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6aaccd301944bbd2ed25852fb0e705a" category="list-text">Monitorare l'esecuzione del lavoro di clonazione da<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda.</block>
  <block id="610db5fbae96fe01b535030f25c6783c" category="paragraph"><block ref="610db5fbae96fe01b535030f25c6783c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4eb7f9133e0f7dd8abfb2b1a117e57d8" category="list-text">Il database clonato viene immediatamente registrato in SnapCenter.</block>
  <block id="a8e66d0947ba9e06f66044daff62637d" category="paragraph"><block ref="a8e66d0947ba9e06f66044daff62637d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65640816580ff72a56a1081922993c9f" category="list-text">Da DB VM ora_02, il database clonato viene registrato anche in Oracle Restart Grid Control e la tabella di test eliminata viene recuperata nel database clonato cdb3tst come mostrato di seguito.</block>
  <block id="9f6329a70dd516951fa70a4f7a3a10ea" category="paragraph">Questo completa la dimostrazione del backup, del ripristino e della clonazione di SnapCenter del database Oracle in VMC SDDC su AWS.</block>
  <block id="ac9c0a61f41745e8c77a713ddf6821eb" category="list-text">Documentazione di VMware Cloud su AWS</block>
  <block id="c795642cf5dd34e946fb3142d8f52288" category="inline-link-macro"><block ref="c795642cf5dd34e946fb3142d8f52288" category="inline-link-rx"></block></block>
  <block id="450d2faa3005c2b5ef481da0fa99a49c" category="paragraph"><block ref="450d2faa3005c2b5ef481da0fa99a49c" category="inline-link-macro-rx"></block></block>
  <block id="f6fe5f65828d55c1f997c1bf7b8bacf2" category="summary">Questa soluzione fornisce una panoramica e dettagli per abilitare l'alta disponibilità (HA) di Oracle in AWS EC2 con clustering Pacemaker su Redhat Enterprise Linux (RHEL) e Amazon FSx ONTAP per l'archiviazione HA del database tramite protocollo NFS.</block>
  <block id="5bde66b68ed65b6f3e2143184fa4e287" category="doc">TR-4998: Oracle HA in AWS EC2 con Pacemaker Clustering e FSx ONTAP</block>
  <block id="df71fa68d5ae3b4067c539f59f41a3c8" category="paragraph">Molti clienti che desiderano autogestire e gestire Oracle nel cloud pubblico devono superare alcune sfide.  Una di queste sfide è garantire un'elevata disponibilità per il database Oracle.  Tradizionalmente, i clienti Oracle si affidano a una funzionalità del database Oracle denominata "Real Application Cluster" o RAC per il supporto delle transazioni attive-attive su più nodi del cluster.  Un nodo guasto non bloccherebbe l'elaborazione dell'applicazione.  Sfortunatamente, l'implementazione di Oracle RAC non è prontamente disponibile o supportata in molti cloud pubblici diffusi, come AWS EC2.  Sfruttando il clustering Pacemaker (PCS) integrato in RHEL e Amazon FSx ONTAP, i clienti possono ottenere un'alternativa valida senza i costi di licenza Oracle RAC per il clustering attivo-passivo sia su elaborazione che su storage per supportare carichi di lavoro di database Oracle mission-critical nel cloud AWS.</block>
  <block id="63215125560b028e48edb3ec01c2d19f" category="paragraph">Questa documentazione illustra i dettagli della configurazione del clustering Pacemaker su RHEL, della distribuzione del database Oracle su EC2 e Amazon FSx ONTAP con protocollo NFS, della configurazione delle risorse Oracle in Pacemaker per HA e del completamento della demo con la convalida negli scenari HA più comuni.  La soluzione fornisce inoltre informazioni sul backup, il ripristino e la clonazione rapidi del database Oracle con lo strumento NetApp SnapCenter UI.</block>
  <block id="bda70cbd46213e517a6edf6b7aca7cf6" category="list-text">Impostazione e configurazione del clustering HA di Pacemaker in RHEL.</block>
  <block id="2c4a0092362fe73af31befdf5d1c58e8" category="list-text">Distribuzione HA del database Oracle in AWS EC2 e Amazon FSx ONTAP.</block>
  <block id="98b89d6751f11213b0c71acef2d2227d" category="list-text">Un DBA che desidera distribuire Oracle in AWS EC2 e Amazon FSx ONTAP.</block>
  <block id="e3a4f5d5a5924c80fbf8279dcf5b5eb4" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle in AWS EC2 e Amazon FSx ONTAP.</block>
  <block id="ba778845e9fce67c9a4599f51a6c3c24" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle in AWS EC2 e Amazon FSx ONTAP.</block>
  <block id="d2887edb936539802aa0e0fc7411ec17" category="list-text">Un proprietario di un'applicazione che vorrebbe installare un database Oracle in AWS EC2 e Amazon FSx ONTAP.</block>
  <block id="28c3179b4d645d4a8ebc13e3ed582398" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato di Oracle HA in AWS EC2 con Pacemaker Clustering e FSx ONTAP.</block>
  <block id="1f70e23f0ae234400604a123ef00354c" category="paragraph"><block ref="1f70e23f0ae234400604a123ef00354c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e39aec7105afeabde4a61beac5b9371" category="cell">Single-AZ in us-east-1, capacità 1024 GiB, throughput 128 MB/s</block>
  <block id="9d7649826cfffa4c830a594a2aa28395" category="cell">Istanze EC2 per server DB</block>
  <block id="36912d3138028b9cb8254223bad05e5a" category="cell">Due istanze EC2 T2 xlarge EC2, una come server DB primario e l'altra come server DB di standby</block>
  <block id="77433b1c395ee065d09c9624e81afe87" category="cell">VM per il controller Ansible</block>
  <block id="3f6661478b267ff8048d072baab710db" category="cell">Una VM Linux per eseguire il provisioning automatizzato di AWS EC2/FSx e la distribuzione Oracle su NFS</block>
  <block id="d95adee972ae170512bd3bdbce557054" category="cell">Pacemaker</block>
  <block id="34471ee52af721273e94a36bef5caa59" category="cell">Versione 0.10.18</block>
  <block id="6c2ce2341d501454a799e87145719e3e" category="cell">Componente aggiuntivo ad alta disponibilità per RHEL 8.0 di RedHat</block>
  <block id="c5153aca08b1a4db2e223c59c1e1c5ae" category="section-title">Configurazione attiva/passiva del database Oracle nell'ambiente di laboratorio AWS EC2/FSx</block>
  <block id="01aa7c49c1ceb37acc19c17632442e0c" category="cell">nodo primario: orapm01/ip-172.30.15.111</block>
  <block id="1f9855ba163e5821776108e92a90f96a" category="cell">NTAP(NTAP_PDB1,NTAP_PDB2,NTAP_PDB3)</block>
  <block id="2b4cf5ad813d81fa5e527e5f6899451a" category="cell">/u01, /u02, /u03 Montaggi NFS su volumi Amazon FSx ONTAP</block>
  <block id="e3669ef59cda4f01bf9c932d0dff7668" category="cell">nodo di standby: orapm02/ip-172.30.15.5</block>
  <block id="b14f37c5307f4d6bb24900e4c2e788e3" category="cell">NTAP(NTAP_PDB1,NTAP_PDB2,NTAP_PDB3) in caso di failover</block>
  <block id="240df300f65d57468935936d05d26adf" category="cell">/u01, /u02, /u03 NFS montati durante il failover</block>
  <block id="6e05562cdd87776b39b57d6ea61382c0" category="list-text">* Amazon FSx ONTAP HA.*  Per impostazione predefinita, Amazon FSx ONTAP viene fornito in una coppia HA di controller di storage in una o più zone di disponibilità.  Fornisce ridondanza di archiviazione in modalità attiva/passiva per carichi di lavoro di database critici.  Il failover dell'archiviazione è trasparente per l'utente finale.  In caso di failover dell'archiviazione non è richiesto l'intervento dell'utente.</block>
  <block id="861110a6d0268877bf71e63396fc9e4e" category="list-text">*Gruppo di risorse PCS e ordinamento delle risorse.*  Un gruppo di risorse consente l'esecuzione di più risorse con dipendenza sullo stesso nodo del cluster.  L'ordine delle risorse applica l'ordine di avvio delle risorse e l'ordine di arresto in senso inverso.</block>
  <block id="dab6e7e29838a88473d5e17ba5e5e521" category="list-text">*Nodo preferito.*  Il cluster Pacemaker è volutamente distribuito in clustering attivo/passivo (non un requisito di Pacemaker) ed è sincronizzato con il clustering FSx ONTAP .  L'istanza EC2 attiva è configurata come nodo preferito per le risorse Oracle quando disponibile con un vincolo di posizione.</block>
  <block id="2ea34e3a63928ab0fdb7e04ddd4d15c3" category="list-text">*Ritardo di recinzione sul nodo di standby.*  In un cluster PCS a due nodi, il quorum viene impostato artificialmente su 1.  In caso di problemi di comunicazione tra i nodi del cluster, uno dei due nodi potrebbe tentare di isolare l'altro, il che potrebbe potenzialmente causare il danneggiamento dei dati.  L'impostazione di un ritardo sul nodo di standby attenua il problema e consente al nodo primario di continuare a fornire servizi mentre il nodo di standby è isolato.</block>
  <block id="fca5f3354258ffe645a350badc238fa7" category="list-text">*Considerazioni sulla distribuzione multi-az.*  La soluzione viene distribuita e convalidata in un'unica zona di disponibilità.  Per la distribuzione multi-az, sono necessarie risorse di rete AWS aggiuntive per spostare l'IP flottante PCS tra le zone di disponibilità.</block>
  <block id="315fd44657ba26625ec59b3ca9603a6b" category="list-text">*Layout di archiviazione del database Oracle.*  In questa dimostrazione della soluzione, forniamo tre volumi di database per il database di prova NTAP per ospitare i dati binari, i dati e il registro di Oracle.  I volumi vengono montati sul server Oracle DB come /u01 - binario, /u02 - dati e /u03 - registro tramite NFS.  Per ridondanza, i file di controllo doppi sono configurati sui punti di montaggio /u02 e /u03.</block>
  <block id="23188bdc56a2b92fa7841dae55934d55" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione e la configurazione dell'HA del database Oracle in AWS EC2 con clustering Pacemaker e Amazon FSx ONTAP per la protezione dell'archiviazione del database.</block>
  <block id="7605a49783b639ba27403968d49af9df" category="paragraph">Abilita l'autenticazione tramite chiave pubblica/privata SSH tra il controller Ansible e le VM del database dell'istanza EC2.</block>
  <block id="0eaa3793e51fa525898cb2f3dbfe5220" category="section-title">Fornire istanze EC2 e cluster di storage Amazon FSx ONTAP</block>
  <block id="76036f5d77a2071a9ee5be7c9c35f955" category="paragraph">Sebbene sia possibile effettuare il provisioning manuale delle istanze EC2 e Amazon FSx ONTAP dalla console AWS, si consiglia di utilizzare il toolkit di automazione basato su NetApp Terraform per automatizzare il provisioning delle istanze EC2 e del cluster di storage FSx ONTAP .  Di seguito sono riportate le procedure dettagliate.</block>
  <block id="33d7ca25ee45cd96931f23c9254c331b" category="list-text">Da AWS CloudShell o dalla VM del controller Ansible, clonare una copia del toolkit di automazione per EC2 e FSx ONTAP.</block>
  <block id="bae7d0ac03ac455bfcc3c6965e07fd88" category="admonition">Se il toolkit non viene eseguito da AWS CloudShell, è richiesta l'autenticazione AWS CLI con il tuo account AWS utilizzando la coppia di chiavi segrete/accesso all'account utente AWS.</block>
  <block id="5f2c834acd2fc60dd30f480c88d72c6a" category="list-text">Esaminare il file READme.md incluso nel toolkit.  Rivedere main.tf e i file dei parametri associati secondo necessità per le risorse AWS richieste.</block>
  <block id="6820b23ea86b25919f28516f7308f210" category="list-text">Convalidare ed eseguire il piano Terraform.  Un'esecuzione corretta creerebbe due istanze EC2 e un cluster di storage FSx ONTAP nell'account AWS di destinazione.  L'output di automazione visualizza l'indirizzo IP dell'istanza EC2 e gli endpoint del cluster FSx ONTAP .</block>
  <block id="9dbaac18b2c0a62ca302a3d4049bd869" category="paragraph">Questo completa il provisioning delle istanze EC2 e di FSx ONTAP per Oracle.</block>
  <block id="bc0092fea092d857c0eac1aff350982a" category="section-title">Configurazione del cluster pacemaker</block>
  <block id="400fa5b3553e14023887fe32071cb892" category="paragraph">L'High Availability Add-On per RHEL è un sistema clusterizzato che fornisce affidabilità, scalabilità e disponibilità ai servizi di produzione critici, come i servizi di database Oracle.  In questa dimostrazione di caso d'uso, un cluster Pacemaker a due nodi viene impostato e configurato per supportare l'elevata disponibilità di un database Oracle in uno scenario di clustering attivo/passivo.  </block>
  <block id="30453ea8c03108a1df11c8020b608029" category="paragraph">Accedi alle istanze EC2, come ec2-user, completa le seguenti attività su<block ref="f6cb3e816496528d4187db53bc66567f" prefix=" " category="inline-code"></block> Istanze EC2:</block>
  <block id="11c43481efb37bab52c1fc10fdaf286e" category="list-text">Rimuovere il client AWS Red Hat Update Infrastructure (RHUI).</block>
  <block id="fd95ba94bf17e8ede3044fc8bf0cbde6" category="list-text">Registrare le VM dell'istanza EC2 con Red Hat.</block>
  <block id="3f50d2362440491c14aaa712a76820f2" category="list-text">Abilita gli RPM ad alta disponibilità RHEL.</block>
  <block id="e0170f80226fcadbd154e86dbc54b61c" category="list-text">Installare un pacemaker e recintare di fronte.</block>
  <block id="b3c710ebe88703e176f0de3e34dd53d4" category="list-text">Creare una password per l'utente hacluster su tutti i nodi del cluster.  Utilizzare la stessa password per tutti i nodi.</block>
  <block id="38132b685379ed7c5d770105bb06e07b" category="list-text">Avviare il servizio pcs e abilitarne l'avvio all'avvio.</block>
  <block id="0329cc41f4fb7250dd4f6b96a75226c0" category="list-text">Convalida il servizio pcsd.</block>
  <block id="758390b315fd9d53cb04208c4635b0b7" category="list-text">Aggiungere nodi del cluster ai file host.</block>
  <block id="dbf3cc886cd97491079b0587b3377a12" category="list-text">Installa e configura awscli per la connettività all'account AWS.</block>
  <block id="89eaeefddfdf7b4d5bebb16e171483e1" category="list-text">Installare il pacchetto resource-agents se non è già installato.</block>
  <block id="3cf61f05d0f1b9598e3b14a255f8a783" category="paragraph">SU<block ref="72bfdbba8247124dd972fab874e80dd8" prefix=" " category="inline-code"></block> del nodo del cluster, completare le seguenti attività per creare il cluster pcs.</block>
  <block id="44b47b8c48ef4f3470b9faf0e6efc810" category="list-text">Autenticare l'utente pcs hacluster.</block>
  <block id="e8139e328342798e7c83f51be338504c" category="list-text">Creare il cluster pcs.</block>
  <block id="3a3e520deb19f19a8fcda0c6f49e33b9" category="list-text">Abilitare il cluster.</block>
  <block id="d11744358f5ffeade8c06909f641d769" category="list-text">Avviare e convalidare il cluster.</block>
  <block id="032be6bb7f19b9d2fb3c069d566c441d" category="paragraph">Questo completa l'installazione del cluster Pacemaker e la configurazione iniziale.</block>
  <block id="3b1994e964aa61b410b6f38e103d3189" category="section-title">Configurazione della recinzione del cluster di pacemaker</block>
  <block id="23c40eb683eeb7db4cac735d3ddfab3c" category="paragraph">La configurazione del pacemaker è obbligatoria per un cluster di produzione.  Garantisce che un nodo malfunzionante sul cluster AWS EC2 venga automaticamente isolato, impedendo così al nodo di consumare le risorse del cluster, compromettendone la funzionalità o danneggiando i dati condivisi.  Questa sezione illustra la configurazione del cluster fencing utilizzando l'agente di fencing fence_aws.</block>
  <block id="9adac4e18fdb6bc6c6d20cd25a34ed54" category="list-text">Come utente root, immetti la seguente query di metadati AWS per ottenere l'ID istanza per ciascun nodo di istanza EC2.</block>
  <block id="c532bf7c739b85f33a78f8d1bd76b094" category="list-text">Immettere il seguente comando per configurare il dispositivo di recinzione.  Utilizzare il comando pcmk_host_map per mappare il nome host RHEL all'ID istanza.  Utilizza la chiave di accesso AWS e la chiave di accesso segreta AWS dell'account utente AWS utilizzato in precedenza per l'autenticazione AWS.</block>
  <block id="5f0b6ec64cccad3b96045ea05f880b6c" category="list-text">Convalidare la configurazione della recinzione.</block>
  <block id="f80fd70e49653634da7db6e9fcf5129f" category="list-text">Impostare stonith-action su off anziché riavviare a livello di cluster.</block>
  <block id="e9f501afd2041cd58df97b0583dcd5c5" category="admonition">Se stonith-action è impostato su off, il nodo del cluster recintato verrà inizialmente arrestato.  Dopo il periodo definito in stonith power_timeout (240 secondi), il nodo recintato verrà riavviato e si ricongiungerà al cluster.</block>
  <block id="2d4e52ec684e0496b8b669638984a1f2" category="list-text">Imposta il ritardo di recinzione a 10 secondi per il nodo di standby.</block>
  <block id="7f83d93e1b45e39bd9baf5a031bf7824" category="admonition">Eseguire<block ref="b73e50698314b7708ccfe8c580213f8f" prefix=" " category="inline-code"></block> comando per aggiornare l'agente di recinzione Stonith arrestato o cancellare le azioni di risorsa Stonith non riuscite.</block>
  <block id="13cacfcb812b5bc8a9fc592092c5995f" category="section-title">Distribuisci il database Oracle nel cluster PCS</block>
  <block id="7505bd43d8d0a896a8f9d8061c336d18" category="paragraph">Si consiglia di sfruttare il playbook Ansible fornito da NetApp per eseguire attività di installazione e configurazione del database con parametri predefiniti sul cluster PCS.  Per questa distribuzione Oracle automatizzata, tre file di parametri definiti dall'utente necessitano dell'input dell'utente prima dell'esecuzione del playbook.</block>
  <block id="1afdf2aa5719a9cf66c9e973b6ccfe18" category="paragraph">Oltre a questi file di variabili definiti dall'utente, esistono diversi file di variabili predefiniti che contengono parametri predefiniti che non richiedono modifiche, a meno che non siano strettamente necessari.  Di seguito sono riportati i dettagli della distribuzione automatizzata di Oracle in AWS EC2 e FSx ONTAP in una configurazione di clustering PCS.</block>
  <block id="9468708dadd17ad76f8fb38774edd999" category="admonition">Il controller Ansible può essere posizionato nella stessa VPC dell'istanza EC2 del database oppure in locale, a condizione che vi sia connettività di rete tra di essi.</block>
  <block id="3e7e6a965de97453e2fa8339bdb1b7b3" category="list-text">Inserire i parametri definiti dall'utente nei file dei parametri degli host.  Di seguito sono riportati esempi di configurazione tipica del file host.</block>
  <block id="25bbc03c03b8ad5879510656f4079f84" category="list-text">Inserire i parametri definiti dall'utente nei file dei parametri vars/vars.yml.  Di seguito sono riportati alcuni esempi di configurazione tipica del file vars.yml.</block>
  <block id="55c818c334d47e7e8570fb9feb5f9a4e" category="list-text">Inserire i parametri definiti dall'utente nei file dei parametri host_vars/host_name.yml.  Di seguito sono riportati alcuni esempi di configurazione tipica del file host_vars/host_name.yml.</block>
  <block id="3264b3d0627e431413788a124f2270c4" category="admonition">L'indirizzo nfs_lif può essere recuperato dagli endpoint del cluster FSx ONTAP in uscita dalla distribuzione automatizzata di EC2 e FSx ONTAP nella sezione precedente.</block>
  <block id="cef8253b1f832596540379c7b88cc27a" category="list-text">Crea volumi di database dalla console AWS FSx.  Assicurarsi di utilizzare il nome host del nodo primario PCS (orapm01) come prefisso per i volumi, come illustrato di seguito.</block>
  <block id="8cced4f39d58cbb3da3808e604055fab" category="inline-image-macro">Questa immagine fornisce il provisioning del volume Amazon FSx ONTAP dalla console AWS FSx</block>
  <block id="b39fd6187aa37a145506e6fe671ceeb2" category="paragraph"><block ref="c2cc58ca5ff864287877e6b75f65aa25" category="inline-image-macro-rx" type="image"></block> <block ref="55613e8b2928d9873cd3acef6f8fbaff" category="inline-image-macro-rx" type="image"></block> <block ref="ceb2c3de85ceb358c94c69728e641e66" category="inline-image-macro-rx" type="image"></block> <block ref="a366ab3b01c29619bdc42c19f12992ab" category="inline-image-macro-rx" type="image"></block> <block ref="c8e3f46863543587223da73f887daeb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65bde4078ad12efa34bcae373d3bde6b" category="list-text">Fase successiva ai file di installazione di Oracle 19c sulla directory ip-172-30-15-111.ec2.internal /tmp/archive del nodo primario PCS con autorizzazione 777.</block>
  <block id="b3eee025ca84eef55bc15d2e0f412531" category="list-text">Eseguire il playbook per la configurazione Linux per<block ref="7124a5aeb30c637048ce8626f71acc6a" prefix=" " category="inline-code"></block> .</block>
  <block id="7007a29eb9ab3cafbaf1d12cb32c54ef" category="list-text">Eseguire il playbook per la configurazione Oracle<block ref="d808cd1d70eb2b2def2f74c2bd9ca814" prefix=" " category="inline-code"></block> (commentare il nodo standby nel file hosts).</block>
  <block id="5a805d9dd13fd24f71ad968f59593c28" category="list-text">Dopo aver distribuito il database, commentare i mount /u01, /u02, /u03 in /etc/fstab sul nodo primario, poiché i punti di mount saranno gestiti solo da PCS.</block>
  <block id="e44937e4417d6ff68da3fb08262848e4" category="list-text">Copiare /etc/oratab /etc/oraInst.loc, /home/oracle/.bash_profile sul nodo standby.  Assicurarsi di mantenere la proprietà e le autorizzazioni corrette dei file.</block>
  <block id="63d57bfa5023c41791f5725885050e37" category="list-text">Arresta il database, l'ascoltatore e smonta /u01, /u02, /u03 sul nodo primario.</block>
  <block id="41ce4521050d987f08b357f0e1c5930f" category="list-text">Crea punti di montaggio sul nodo standby ip-172-30-15-5.</block>
  <block id="8899e9f5e3fc43dc59cab9af27e6bb78" category="list-text">Montare i volumi del database FSx ONTAP sul nodo standby ip-172-30-15-5.</block>
  <block id="8cae050271cc272a6223658a50a078fc" category="list-text">Modificato in utente Oracle, ricollegamento binario.</block>
  <block id="3e727d182815595c8aa0f834b957dfbb" category="list-text">Copiare la libreria dnfs nella cartella odm.  Il ricollegamento potrebbe comportare la perdita del file della libreria dfns.</block>
  <block id="53d01b5a2f17c92a3464146a38ee9a92" category="list-text">Avviare il database per convalidare sul nodo standby ip-172-30-15-5.</block>
  <block id="dd4d4715276de87327d00ae30c09bc49" category="list-text">Arresto del database e failback del database sul nodo primario ip-172-30-15-111.</block>
  <block id="e6627109370f2a2389b26634bf4c8cb2" category="section-title">Configurare le risorse Oracle per la gestione PCS</block>
  <block id="86fceef2e1fe5a76bec251d2427df4e0" category="paragraph">L'obiettivo della configurazione del clustering Pacemaker è quello di impostare una soluzione ad alta disponibilità attiva/passiva per l'esecuzione di Oracle in ambiente AWS EC2 e FSx ONTAP con un intervento minimo da parte dell'utente in caso di errore.  Di seguito viene illustrata la configurazione delle risorse Oracle per la gestione PCS.</block>
  <block id="3968931e7d852a24a0fcf809ef574ba4" category="list-text">Come utente root sull'istanza EC2 primaria ip-172-30-15-111, crea un indirizzo IP privato secondario con un indirizzo IP privato non utilizzato nel blocco CIDR VPC come IP mobile.  Nel processo, crea un gruppo di risorse Oracle a cui apparterrà l'indirizzo IP privato secondario.</block>
  <block id="3e31ae60ed87a1024c88db250c74700c" category="admonition">Se il privilegio viene creato sul nodo del cluster di standby, spostarlo sul nodo primario come mostrato di seguito.</block>
  <block id="d9484c480d9d90288daf62a460c8f958" category="list-text">Spostare una risorsa tra i nodi del cluster.</block>
  <block id="8c92f4ca35c706bc98a0bf244638489f" category="list-text">Creare un IP virtuale (vip) per Oracle.  L'IP virtuale fluttuerà tra il nodo primario e quello di standby a seconda delle necessità.</block>
  <block id="556ab8c7a90097de9a951832131714d2" category="list-text">Come utente Oracle, aggiorna i file listener.ora e tnsnames.ora in modo che puntino all'indirizzo VIP.  Riavviare l'ascoltatore.  Eseguire il bounce del database se necessario affinché il database si registri con l'ascoltatore.</block>
  <block id="03a280adcdd4a9210b25d58d8125b4bc" category="list-text">Aggiungere i punti di montaggio /u01, /u02, /u03 al gruppo di risorse Oracle.</block>
  <block id="87a0ff18c3c2d3c6c3d94549dffae145" category="list-text">Creare un ID utente del monitor PCS in Oracle DB.</block>
  <block id="72211627ffb22aa251cd426be026459e" category="list-text">Aggiungere il database al gruppo di risorse Oracle.</block>
  <block id="67060db7add8a76c786404de04fbddb8" category="list-text">Aggiungere l'ascoltatore del database al gruppo di risorse Oracle.</block>
  <block id="267bd1a31bd7dde4dd53337cd3d96200" category="list-text">Aggiorna tutti i vincoli di posizione delle risorse nel gruppo di risorse Oracle sul nodo primario come nodo preferito.</block>
  <block id="afab9f8be9138ab622f0df16704326f4" category="list-text">Convalida la configurazione delle risorse Oracle.</block>
  <block id="fb93919fdb772ca2bcf8e85cd49c80f3" category="section-title">Convalida HA post-distribuzione</block>
  <block id="a7465490320b9eec820159c94e731033" category="paragraph">Dopo la distribuzione, è fondamentale eseguire alcuni test e convalide per garantire che il cluster di failover del database Oracle PCS sia configurato correttamente e funzioni come previsto.  La convalida del test include il failover gestito e la simulazione di guasti imprevisti delle risorse e il ripristino da parte del meccanismo di protezione del cluster.</block>
  <block id="b75b5e926d49413bee793b27e7970d16" category="list-text">Convalidare la recinzione del nodo attivando manualmente la recinzione del nodo standby e osservare che il nodo standby è stato portato offline e riavviato dopo un timeout.</block>
  <block id="6f85421f174c6ff87f28c58d29a55e01" category="list-text">Simula un errore dell'ascoltatore del database interrompendo il processo dell'ascoltatore e osserva che PCS ha monitorato l'errore dell'ascoltatore e lo ha riavviato in pochi secondi.</block>
  <block id="6b7e1d09ce4175230e6954de1fbacd5f" category="list-text">Simula un errore del database interrompendo il processo pmon e osserva che PCS ha monitorato l'errore del database e lo ha riavviato in pochi secondi.</block>
  <block id="d8064bf0ba112423ec7ead336f82e22d" category="list-text">Convalida un failover di database gestito dal nodo primario a quello di standby impostando il nodo primario in modalità standby per eseguire il failover delle risorse Oracle sul nodo di standby.</block>
  <block id="780b348917daf4928244ca4613cb1939" category="list-text">Convalida un failback del database gestito da standby a primario tramite un nodo primario non in standby e osserva che le risorse Oracle eseguono il failback automaticamente a causa dell'impostazione del nodo preferito.</block>
  <block id="9d7ebd8bfdc4020b80787b124334247c" category="paragraph">Questo completa la convalida di Oracle HA e la dimostrazione della soluzione in AWS EC2 con il clustering Pacemaker e Amazon FSx ONTAP come backend di archiviazione del database.</block>
  <block id="54b88dfac5142a6ef111d2804fcaefce" category="paragraph">NetApp consiglia lo strumento SnapCenter UI per gestire il database Oracle distribuito in AWS EC2 e Amazon FSx ONTAP.  Fare riferimento a TR-4979<block ref="0153a3553e83e4434512b51a9a7cbd13" category="inline-link-macro-rx"></block> sezione<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> per i dettagli sulla configurazione SnapCenter e sull'esecuzione dei flussi di lavoro di backup, ripristino e clonazione del database.</block>
  <block id="8d604ece9d10bedbcf9843723c4fcc5f" category="inline-link-macro">Configurazione e gestione di cluster ad alta disponibilità</block>
  <block id="53844bc49958d73d2cb9902888d2a99f" category="list-text"><block ref="53844bc49958d73d2cb9902888d2a99f" category="inline-link-macro-rx"></block></block>
  <block id="08308a5e75c5fd7dae81f458ca85ca02" category="list-text"><block ref="08308a5e75c5fd7dae81f458ca85ca02" category="inline-link-macro-rx"></block></block>
  <block id="376d4a8ab4b6448bdd9cf3e5b49152f3" category="summary">La soluzione fornisce una panoramica e dettagli per la configurazione di Oracle Data Guard utilizzando Microsoft Azure NetApp Files (ANF) come storage di database primario e di standby per ridurre i costi operativi e di licenza della soluzione Oracle Data Guard HA/DR nel cloud di Azure.</block>
  <block id="5199060bcbb7cb2e69ac426a05561630" category="doc">TR-5002: Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="74ea172c8d694033520176b5ddf098b7" category="paragraph">Se desideri ridurre i costi operativi del tuo database Oracle e stai pianificando di configurare Active Data Guard nel cloud Azure, dovresti prendere in considerazione un'alternativa.  Invece di Active Data Guard, utilizzare Data Guard per replicare dal database primario a un singolo database di standby fisico nell'archiviazione di Azure NetApp Files .  Successivamente, è possibile clonare più copie di questo database di standby e aprirle per l'accesso in lettura/scrittura, al fine di soddisfare molti altri casi d'uso, quali reporting, sviluppo, test, ecc. Il risultato finale fornisce in modo efficace le funzionalità di Active Data Guard, eliminando al contempo la licenza di Active Data Guard.  In questa documentazione, illustriamo come configurare Oracle Data Guard con il database primario esistente e il database standby fisico su storage ANF.  Il database di standby viene sottoposto a backup e clonato per l'accesso in lettura/scrittura per i casi d'uso desiderati tramite lo strumento di gestione del database NetApp SnapCenter .  Il team di NetApp Solutions Engineering fornisce inoltre un kit di strumenti di automazione per aggiornare i cloni in base alla pianificazione definita dall'utente, per una gestione completa e automatizzata del ciclo di vita dei cloni del database, senza necessità di intervento da parte dell'utente.</block>
  <block id="d46437a3c920e1a7e4d444db6e4ce8fe" category="list-text">Implementazione di Oracle Data Guard tra un database primario e un database di standby fisico su un archivio Microsoft Azure NetApp Files nelle regioni di Azure.</block>
  <block id="1c7854e2b1991ec817153c59c8e6cbbf" category="list-text">Eseguire il backup e la clonazione del database di standby fisico per soddisfare casi d'uso quali reporting, sviluppo, test, ecc.</block>
  <block id="6160e7e9069ff63c88e7673ce0d96873" category="list-text">Gestione del ciclo di vita dell'aggiornamento dei cloni del database Oracle tramite automazione.</block>
  <block id="6e7b364ff61e6c348bb1aabfb9887c34" category="list-text">Un DBA che configura Oracle Active Data Guard nel cloud Azure per garantire elevata disponibilità, protezione dei dati e ripristino di emergenza.</block>
  <block id="dc9db537596cd8dca3523aef65c7cd15" category="list-text">Architetto di soluzioni di database interessato alla configurazione di Oracle Active Data Guard nel cloud Azure.</block>
  <block id="79af86573852f19a3fb81d63d524468a" category="list-text">Un amministratore di storage che gestisce lo storage Azure NetApp Files che supporta Oracle Data Guard.</block>
  <block id="7483aba493aca4cae17203fc4f72e9b5" category="list-text">Un proprietario di applicazioni a cui piace installare Oracle Data Guard in un ambiente cloud Azure.</block>
  <block id="0f1e5763d303b05dc0c9f30135bb0d6e" category="paragraph">Il test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio cloud di Azure che potrebbe non corrispondere all'effettivo ambiente di distribuzione dell'utente. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="df427984e8736c269d2bd236d929f403" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione di Oracle Data Guard nel cloud Azure su ANF.</block>
  <block id="4213c90ad1dac07a7c15a3dbf4f86905" category="paragraph"><block ref="4213c90ad1dac07a7c15a3dbf4f86905" category="inline-image-macro-rx" type="image"></block></block>
  <block id="85dec17e5aae8074e9cc2265ba72e4f3" category="cell">Versione attuale offerta da Microsoft</block>
  <block id="bc62b56e4a468da879944f2fb5f5206f" category="cell">Due pool di capacità da 3 TiB, livello di servizio standard, QoS automatico</block>
  <block id="43ce18a6cfeb5b21b4398e16b32a7ae4" category="cell">Macchine virtuali di Azure per server DB</block>
  <block id="19acc071e88e4f4be6d6d2745aacfcdb" category="cell">Standard B4ms (4 vCPU, 16 GiB di memoria)</block>
  <block id="89d5fb7ce1143cba364c8e7e347d0b40" category="cell">Tre VM DB, una come server DB primario, una come server DB di standby e la terza come server DB clone</block>
  <block id="c5551760a04a6751873759596b08b4e8" category="cell">Red Hat Enterprise Linux 8.6 (LVM) - x64 Gen2</block>
  <block id="5c014f8939a89da0166a347a0237cf4f" category="cell">SnapCenter</block>
  <block id="55e907e9a7937a6e4e6f8b54b8fa57a6" category="cell">Versione 6.0.1</block>
  <block id="cbf18f668647ab0ec4b13d8ba8c954d2" category="cell">Versione 6.0.1.4487</block>
  <block id="8b6f240f1b498b5883fe067867c6f22b" category="cell">dNFS abilitato per Oracle</block>
  <block id="337b5233207b521e8991f995229f8051" category="cell">NTAP_NY</block>
  <block id="a8b409275df2e9ffeeebb09c97594c2f" category="cell">NTAP_NY.internal.cloudapp.net</block>
  <block id="2dbec34a65724db94f81e8533ee18192" category="cell">Stand-by</block>
  <block id="67de08426fc7abdaa5edc1a974106017" category="cell">NTAP_LA</block>
  <block id="31a7da2d9051b16899472698e665728e" category="cell">NTAP_LA.internal.cloudapp.net</block>
  <block id="04715e3bbf60dfad50a2b8b7f61b2637" category="list-text">*Clone del database di standby.*  Durante la ricezione e l'applicazione dei registri delle transazioni dal database primario, il database di standby fisico può essere clonato e montato su una VM DB per supportare altri carichi di lavoro quali DEV, TEST o Report.  Il clone può essere sottile o spesso.  Al momento, ANF supporta solo il thick clone, ovvero una copia completa del database standby.  L'opzione clone sottile ANF sarà rilasciata a breve.  Per copie clonate in modo sottile di volumi di database, condivide gli stessi volumi di database del database di standby e utilizza la tecnologia copy-on-write per gestire gli I/O di scrittura.  Pertanto, i cloni sono molto efficienti in termini di archiviazione e possono essere utilizzati per molti altri casi d'uso con una nuova allocazione di archiviazione minima e incrementale per i nuovi I/O di scrittura.  Ciò consente un notevole risparmio sui costi di archiviazione riducendo sostanzialmente l'ingombro di Active Data Guard.  NetApp consiglia di ridurre al minimo le attività FlexClone in caso di passaggio del database dallo storage primario allo storage ANF di standby, per mantenere elevate le prestazioni di Oracle.</block>
  <block id="6f5aee1606bc32b8cda116a18c44689a" category="list-text">*Requisiti software Oracle.*  In generale, un database standby fisico deve avere la stessa versione di Database Home del database primario, incluse le eccezioni del set di patch (PSE), gli aggiornamenti delle patch critiche (CPU) e gli aggiornamenti del set di patch (PSU), a meno che non sia in corso un processo di applicazione delle patch standby-first di Oracle Data Guard (come descritto nella nota 1265700.1 di My Oracle Support all'indirizzo<block ref="0ab5bd35a1fa5e1394476ebbb9c4d982" category="inline-link-macro-rx"></block> .</block>
  <block id="0e308fd71b0ee649913ca390cf02390a" category="list-text">*Dimensionamento delle VM di Azure.*  In questi test e convalide abbiamo utilizzato una VM di Azure - Standard_B4ms con 4 vCPU e 16 GiB di memoria.  È necessario dimensionare la VM di Azure DB in modo appropriato per il numero di vCPU e la quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="046a4224e07dc494210e5ccb905191d0" category="list-text">* Configurazione Azure NetApp Files .*  I Azure NetApp Files vengono allocati nell'account di archiviazione di Azure NetApp come<block ref="a74c45c38136d5cb4b7be385e3a8c24e" prefix=" " category="inline-code"></block> .  In questi test e convalide, abbiamo distribuito un pool di capacità da 3 TiB per ospitare Oracle Primary nella regione East e un database standby nella regione West 2.  Il pool di capacità ANF prevede tre livelli di servizio: Standard, Premium e Ultra.   La capacità IO del pool di capacità ANF si basa sulla dimensione del pool di capacità e sul suo livello di servizio.  Per l'implementazione in produzione, NetApp consiglia di effettuare una valutazione completa dei requisiti di throughput del database Oracle e di dimensionare di conseguenza il pool di capacità del database.  Durante la creazione di un pool di capacità, è possibile impostare QoS su Automatico o Manuale e la crittografia dei dati a riposo su Singola o Doppia.  </block>
  <block id="1aaa50d1be4baffceb38042371421cd8" category="list-text">*Configurazione dNFS.*  Utilizzando dNFS, un database Oracle in esecuzione su una macchina virtuale di Azure con storage ANF può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  La distribuzione Oracle automatizzata tramite il toolkit di automazione NetApp configura automaticamente dNFS su NFSv3.</block>
  <block id="338f920f41a055b87c208e43d2a356e4" category="paragraph">Si presuppone che il database Oracle primario sia già distribuito in un ambiente cloud Azure all'interno di una rete virtuale come punto di partenza per la configurazione di Oracle Data Guard.  Idealmente, il database primario viene distribuito su un archivio ANF con montaggio NFS.  Vengono creati tre punti di montaggio NFS per l'archiviazione del database Oracle: mount /u01 per i file binari Oracle, mount /u02 per i file di dati Oracle e un file di controllo, mount /u03 per i file di registro Oracle correnti e archiviati e un file di controllo ridondante.</block>
  <block id="476971b1fe4337b058f08247a46b4dc0" category="paragraph">Il database Oracle primario può anche essere eseguito su un archivio NetApp ONTAP o su qualsiasi altro archivio a scelta all'interno dell'ecosistema Azure o di un data center privato.  Nella sezione seguente vengono fornite procedure di distribuzione dettagliate per la configurazione di Oracle Data Guard tra un Oracle DB primario in Azure con storage ANF e un Oracle DB di standby fisico in Azure con storage ANF.</block>
  <block id="ffa369d3a2435033b454caec664bfafd" category="list-text">È stato configurato un account cloud Azure e sono state create le subnet di rete e la rete virtuale necessarie all'interno dell'account Azure.</block>
  <block id="ed826a0ea4b8d674a29a54acb3442471" category="inline-link-macro">Macchine virtuali di Azure</block>
  <block id="b40c72cf070584523ea9769beaa38246" category="list-text">Dalla console del portale cloud di Azure, è necessario distribuire almeno tre VM Azure Linux, una come server Oracle DB primario, una come server Oracle DB di standby e un server DB di destinazione clone per reporting, sviluppo, test ecc. Per maggiori dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.  Esaminare anche Microsoft<block ref="e2b42370d5c3948995fa1fb7ff8ecba8" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="ee71904859506ab4263b22bf4e8f4d97" category="list-text">Il database Oracle primario avrebbe dovuto essere installato e configurato nel server Oracle DB primario.  D'altro canto, nel server Oracle DB di standby o nel server Oracle DB clone, viene installato solo il software Oracle e non viene creato alcun database Oracle.  Idealmente, il layout delle directory dei file Oracle dovrebbe corrispondere esattamente su tutti i server Oracle DB.  Per maggiori dettagli sulle raccomandazioni NetApp per la distribuzione automatizzata di Oracle nel cloud Azure e ANF, fare riferimento ai seguenti report tecnici.</block>
  <block id="b69512ba398655f814ba260d85e13caf" category="list-text"><block ref="b69512ba398655f814ba260d85e13caf" category="inline-link-macro-rx"></block></block>
  <block id="674796d8d6c4f9b57ac77f0d52b9cdb6" category="admonition">Assicurati di aver allocato almeno 128 GB nel volume radice delle VM di Azure per avere spazio sufficiente per organizzare i file di installazione di Oracle.</block>
  <block id="8c060d9ae24c7bc4518e54cd5ed13098" category="inline-link-macro">Avvio rapido: configurare Azure NetApp Files e creare un volume NFS</block>
  <block id="06930c45b128808fe22a3ec3d6169a96" category="list-text">Dalla console del portale cloud di Azure, distribuire due pool di capacità di archiviazione ANF per ospitare i volumi del database Oracle.  I pool di capacità di archiviazione ANF devono essere situati in regioni diverse per imitare una vera configurazione DataGuard.  Se non si ha familiarità con la distribuzione dell'archiviazione ANF, consultare la documentazione<block ref="1bbe5611068f9dda0e0123e846af8b8b" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="e33c6d7db8a7a86db5ccfddecb81897f" category="inline-image-macro">Screenshot che mostra la configurazione dell'ambiente Azure.</block>
  <block id="0cde9322261368b3e9ada8dc4e45433d" category="paragraph"><block ref="0cde9322261368b3e9ada8dc4e45433d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5444565322807053cf9a28647b9dd806" category="list-text">Quando il database Oracle primario e il database Oracle di standby si trovano in due regioni diverse, è necessario configurare un gateway VPN per consentire il flusso del traffico dati tra due reti virtuali separate.  La configurazione dettagliata della rete in Azure esula dallo scopo di questo documento.  Gli screenshot seguenti forniscono alcuni riferimenti su come i gateway VPN sono configurati e connessi e su come il flusso del traffico dati viene confermato in laboratorio.</block>
  <block id="88f0b1bce53ef0373663761415061e8a" category="paragraph">Gateway VPN di laboratorio:<block ref="4f8175090220e33ac069ea5dcc8ae42c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="85ab9d24012e609a3c1d3ef2a3fd3c31" category="paragraph">Il gateway vnet primario:<block ref="dc4cd1d2627a831b684872669edaf1da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="652ec542aee86abb50fcf4a256e17377" category="paragraph">Stato della connessione del gateway Vnet:<block ref="05674beddf8c009b66f52c183f504bd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6c40030ae531d13cc6979f8ec327095" category="paragraph">Verificare che i flussi di traffico siano stabiliti (cliccare sui tre punti per aprire la pagina):<block ref="ccee1c77780b1e530d143226fe3a4a10" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23f6537ae49a0f2ea8867ca748da301c" category="paragraph">In questa dimostrazione, abbiamo configurato un database Oracle primario denominato NTAP sul server Azure DB primario con tre punti di montaggio NFS: /u01 per il binario Oracle, /u02 per i file di dati Oracle e un file di controllo Oracle, /u03 per i log attivi Oracle, i file di log archiviati e un file di controllo Oracle ridondante.  Di seguito vengono illustrate le procedure dettagliate per la configurazione del database primario per la protezione Oracle Data Guard.  Tutti i passaggi devono essere eseguiti come proprietario del database Oracle o come predefinito<block ref="a189c633d9995e11bf8607170ec9a4b8" prefix=" " category="inline-code"></block> utente.</block>
  <block id="e3233dee851571ab0b05882fd75b67ea" category="list-text">Il database primario NTAP sul server primario di Azure DB orap.internal.cloudapp.net viene inizialmente distribuito come database autonomo con ANF come archivio del database.</block>
  <block id="e55541d2bbbb4bdac3a112c6304e5a32" category="list-text">Accedi al server DB primario come utente Oracle.  Accedi al database tramite sqlplus, abilita la registrazione forzata sul database primario.</block>
  <block id="95b5a36409ab1e34b31ffb5261dda901" category="list-text">Da sqlplus, abilitare il flashback sul DB primario.  Flashback consente di ripristinare facilmente il database primario come standby dopo un failover.</block>
  <block id="10509c4f00df46bac19e4373e779e45a" category="list-text">Configurare l'autenticazione del trasporto redo utilizzando il file password di Oracle: creare un file pwd sul database primario utilizzando l'utility orapwd se non è impostata e copiarlo nella directory $ORACLE_HOME/dbs del database di standby.</block>
  <block id="da73c165e3e25888a132859361d1f8a9" category="list-text">Crea log redo di standby sul DB primario con le stesse dimensioni del file di log online corrente.  I gruppi di log sono un'aggiunta ai gruppi di file di log online.  Il database primario può quindi passare rapidamente al ruolo di standby quando si verifica un failover e inizia a ricevere dati redo.  Ripetere il seguente comando quattro volte per creare quattro file di registro di standby.</block>
  <block id="2d45e8c06ef3bf046ded76d84125ca0b" category="list-text">Da sqlplus, creare un pfile da spfile per la modifica.</block>
  <block id="cc6ca465b181bec842179c065162e3a6" category="list-text">Da sqlplus, ricrea spfile dal pfile rivisto per sovrascrivere lo spfile esistente nella directory $ORACLE_HOME/dbs.</block>
  <block id="a03784f83fc23eb62ecade006a307759" category="list-text">Modificare Oracle tnsnames.ora nella directory $ORACLE_HOME/network/admin per aggiungere db_unique_name per la risoluzione dei nomi.</block>
  <block id="3ee89a269c95cfc958d00e3526dfeb77" category="admonition">Se si sceglie di assegnare al server Azure DB un nome diverso da quello predefinito, aggiungere i nomi al file host locale per la risoluzione dei nomi host.</block>
  <block id="fc5c681a7e6a65cf78550259c1d37e4b" category="list-text">Aggiungere il nome del servizio Data Guard NTAP_NY_DGMGRL.internal.cloudapp.net per il database primario al file listener.ora.</block>
  <block id="97a5e95ee961b0668c21ee7d5a940f1c" category="list-text">Arrestare e riavviare il database tramite sqlplus e verificare che i parametri di Data Guard siano ora attivi.</block>
  <block id="38172db4ce82c686a901dc8b829c3b49" category="paragraph">Questa operazione completa la configurazione del database primario per Data Guard.</block>
  <block id="31a770fda8923c41827859c59367682f" category="paragraph">Oracle Data Guard richiede la configurazione del kernel del sistema operativo e gli stack software Oracle, inclusi i set di patch sul server DB di standby, per corrispondere al server DB primario.  Per una gestione semplice e intuitiva, la configurazione dell'archiviazione del database del server DB di standby dovrebbe idealmente corrispondere anche a quella del server DB primario, ad esempio il layout della directory del database e le dimensioni dei punti di montaggio NFS.  Di seguito sono riportate le procedure dettagliate per configurare il server Oracle DB di standby e attivare Oracle DataGuard per la protezione HA/DR.  Tutti i comandi devono essere eseguiti come ID utente proprietario Oracle predefinito<block ref="a189c633d9995e11bf8607170ec9a4b8" prefix=" " category="inline-code"></block> .</block>
  <block id="5446e5ec60d5b828279661d24c9f6b14" category="list-text">Per prima cosa, rivedere la configurazione del database primario sul server Oracle DB primario.  In questa dimostrazione, abbiamo configurato un database Oracle primario denominato NTAP nel server DB primario con tre mount NFS su storage ANF.</block>
  <block id="99b4b6acb33685f8fb85368acdcb8133" category="list-text">Se si segue la documentazione NetApp TR-4987 per configurare il server DB standby Oracle<block ref="b69512ba398655f814ba260d85e13caf" category="inline-link-macro-rx"></block> , usa un tag<block ref="086570090d3b94e251b875c9d59376ed" prefix=" " category="inline-code"></block> nel passaggio 2 di<block ref="3fde1508528c4b7e4e8ed67ccec6aa4a" prefix=" " category="inline-code"></block> per eseguire l'installazione automatizzata di Oracle.  Di seguito è riportata la sintassi rivista del comando.  Il tag consentirà l'installazione e la configurazione dello stack software Oracle, ma non consentirà la creazione di un database.</block>
  <block id="05fdbf2eee600ac1e9d9ec8e14c89001" category="list-text">Configurazione del server Oracle DB in standby nel sito in standby nel laboratorio dimostrativo.</block>
  <block id="9698d2d6ae189df8a801461a97af0ffa" category="list-text">Una volta installato e configurato il software Oracle, impostare la home e il percorso di Oracle.  Inoltre, dalla directory $ORACLE_HOME del database di standby, copiare la password Oracle dal database primario, se non lo si è ancora fatto.</block>
  <block id="0658232c21e84c1a41c357f4b3221af1" category="list-text">Aggiornare il file tnsnames.ora con le seguenti voci.</block>
  <block id="d2de60c5aa975f87f24cdf604bc2eda4" category="list-text">Avviare dbca per creare un'istanza del database standby dal database primario NTAP.</block>
  <block id="e5036187b6856f2313a16f0d4c3639c4" category="list-text">Convalidare il database standby duplicato.  Il database di standby appena duplicato viene inizialmente aperto in modalità SOLA LETTURA.</block>
  <block id="f303f4b598c44903d4f958a556e5754c" category="list-text">Riavviare il database di standby in<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> eseguire il comando seguente per attivare il ripristino gestito dal database di standby.</block>
  <block id="34d0e7c7d4594285d2ee3d8644d9772f" category="paragraph">In questo modo si completa la configurazione della protezione Data Guard per NTAP da primario a standby con il ripristino standby gestito abilitato.</block>
  <block id="ea9320283463d5e10b454d6d13459ba2" category="list-text">Avviare Data Guard Broker sia sul database primario che su quello di standby con il seguente comando tramite sqlplus.</block>
  <block id="5ee3dedda42b77708f990b7c7e931557" category="list-text">Convalidare lo stato del database all'interno del framework di gestione Data Guard Broker.</block>
  <block id="5581ee08deb0114467d7c62fb3cf7214" category="paragraph">In caso di errore, Data Guard Broker può essere utilizzato per eseguire il failover immediato del database primario su quello di standby.  Se<block ref="1f47cdf46667a47e70a7da64a4a59b8e" prefix=" " category="inline-code"></block> è abilitato, Data Guard Broker può eseguire il failover del database primario sullo standby quando viene rilevato un errore senza l'intervento dell'utente.</block>
  <block id="072f8b9b1892cf46bbd8ccc94c6525fd" category="paragraph">Il vantaggio principale dell'hosting del database Oracle standby sull'ANF nella configurazione Oracle Data Guard è che può essere rapidamente clonato per soddisfare molti altri casi d'uso con un investimento minimo di storage aggiuntivo se è abilitato un clone sottile.  NetApp consiglia di utilizzare lo strumento SnapCenter UI per gestire il database Oracle DataGuard.  Nella sezione seguente, illustreremo come creare snapshot e clonare i volumi del database di standby montati e in fase di ripristino sull'ANF per altri scopi, come DEV, TEST, REPORT, ecc., utilizzando lo strumento NetApp SnapCenter .</block>
  <block id="e8ddb61b1be0ffb488af296ef36654e9" category="paragraph">Di seguito sono riportate le procedure di alto livello per clonare un database READ/WRITE dal database standby fisico gestito in Oracle Data Guard utilizzando SnapCenter.  Per istruzioni dettagliate su come impostare e configurare SnapCenter per Oracle su ANF, fare riferimento a TR-4988<block ref="490ee9b45ffe73b572c2cdde5f32b530" category="inline-link-macro-rx"></block> per i dettagli.</block>
  <block id="2cd32452e5b7c1668ea7c770bac053fb" category="list-text">Iniziamo la convalida del caso d'uso creando una tabella di test e inserendo una riga nella tabella di test nel database primario.  Verificheremo quindi che la transazione passi allo standby e infine al clone.</block>
  <block id="27358749c7d27b33ef181e0416ab00af" category="list-text">Nella configurazione SnapCenter , è stato aggiunto un utente Unix (azureuser per la demo) e una credenziale Azure (azure_anf per la demo)<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> In<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block> .</block>
  <block id="b88ae4d9ca99ca902a87244a31166449" category="paragraph"><block ref="b88ae4d9ca99ca902a87244a31166449" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8506441a9cc9c598ec207da7d5483249" category="list-text">Utilizzare le credenziali azure_anf per aggiungere l'archiviazione ANF a<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> .  Se nel tuo abbonamento Azure sono presenti più account di archiviazione ANF, assicurati di fare clic sull'elenco a discesa per scegliere l'account di archiviazione corretto.  Per questa dimostrazione abbiamo creato due account di archiviazione Oracle dedicati.</block>
  <block id="83114dd89d8a4b3e299b9bafabe933ed" category="paragraph"><block ref="83114dd89d8a4b3e299b9bafabe933ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ad8e67e7e6ddf4f9059c84b3ef529db" category="list-text">Tutti i server Oracle DB sono stati aggiunti a SnapCenter<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> .</block>
  <block id="02ab2d789c472986838969bcb1d7b055" category="paragraph"><block ref="02ab2d789c472986838969bcb1d7b055" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b86d0a49c602ae82d6eab5152a65ec9" category="admonition">Il server DB clone deve avere stack software Oracle identici installati e configurati.  Nel nostro caso di prova, il software Oracle 19C è installato e configurato, ma non è stato creato alcun database.</block>
  <block id="851a04fb6142b36a0faa03412b54529e" category="paragraph"><block ref="851a04fb6142b36a0faa03412b54529e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53b8bf5236b6c7bd5de540264f9662cb" category="list-text">Applicare la politica di backup per proteggere il database di standby in<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda.  Quando viene inizialmente scoperto, lo stato del database viene visualizzato come<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="e6dccd80eeecc8522d016c50603f7c66" category="paragraph"><block ref="e6dccd80eeecc8522d016c50603f7c66" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1bdc3faaf34069dccd0ee53ae64e8930" category="list-text">È possibile attivare manualmente un backup oppure pianificarlo a un orario stabilito dopo l'applicazione di una policy di backup.</block>
  <block id="0b9638940486be86ab019291bcdf236d" category="paragraph"><block ref="0b9638940486be86ab019291bcdf236d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d8f3ae4ab4171c1cbd200327377acf2" category="list-text">Dopo un backup, fare clic sul nome del database per aprire la pagina dei backup del database.  Selezionare un backup da utilizzare per la clonazione del database e fare clic su<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione.</block>
  <block id="c1cdb3a269fd76cc7dfb2c77c98e9b22" category="paragraph"><block ref="c1cdb3a269fd76cc7dfb2c77c98e9b22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9321d07871449f3537267c6fddaede8a" category="list-text">Seleziona il<block ref="6d966589c645cae872f42060de0bbe70" prefix=" " category="inline-code"></block> e assegnare un nome SID all'istanza clone.</block>
  <block id="52be8ae8d2b018176d42b89ef57a3613" category="paragraph"><block ref="52be8ae8d2b018176d42b89ef57a3613" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7971008d84e34395fccaf6e7329449dc" category="list-text">Selezionare il server DB clone che ospita il database clonato dal DB standby.  Accetta l'impostazione predefinita per i file di dati e i redo log.  Inserire un file di controllo nel punto di montaggio /u03.</block>
  <block id="73f43b472e74c6289400f654cae3f68b" category="paragraph"><block ref="73f43b472e74c6289400f654cae3f68b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e26d07e217e7fb5469ae943c2ad43ab" category="list-text">Per l'autenticazione basata sul sistema operativo non sono necessarie credenziali del database.  Abbinare le impostazioni home di Oracle a quelle configurate sul server DB clone.</block>
  <block id="abcec197c9f755ec665ceab70ace785c" category="paragraph"><block ref="abcec197c9f755ec665ceab70ace785c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee66e850ff33ce8c5dcd87b850c6eb62" category="list-text">Se necessario, modificare i parametri del database clone, ad esempio riducendo le dimensioni PGA o SGA per un database clone.  Specificare gli script da eseguire prima del clone, se presenti.</block>
  <block id="99f228e767c81f60c164cfe312c99407" category="paragraph"><block ref="99f228e767c81f60c164cfe312c99407" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3a68f972884eacded1a347d684cde6e" category="list-text">Immettere SQL per eseguire il clone.  Nella demo, abbiamo eseguito comandi per disattivare la modalità di archiviazione del database per un database dev/test/report.</block>
  <block id="6d6e14846373f96586278facb479f46b" category="paragraph"><block ref="6d6e14846373f96586278facb479f46b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49eef0b2da7844e7c9217fd1a38fed2c" category="paragraph"><block ref="49eef0b2da7844e7c9217fd1a38fed2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="555609024b2674cfeaeede0ae73efd04" category="paragraph"><block ref="555609024b2674cfeaeede0ae73efd04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea157be665e5e852ad2af6c86e0b6a5e" category="list-text">Monitorare il lavoro di clonazione in<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda.  Abbiamo osservato che ci sono voluti circa 14 minuti per clonare un database di circa 950 GB di volume.</block>
  <block id="0b1e7ddf072c7fd62297ea971fa67a91" category="paragraph"><block ref="0b1e7ddf072c7fd62297ea971fa67a91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ed1cd7d9286032dc1d4d8c1cebc8c4fa" category="paragraph"><block ref="ed1cd7d9286032dc1d4d8c1cebc8c4fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6009b71b10a93975ded6c094cea08e7b" category="list-text">Interroga il database clone dal server del database clone.  Abbiamo convalidato che la transazione di prova avvenuta nel database primario era stata trasferita al database clone.</block>
  <block id="6de3ee6cf49309efa9ee555799d83dc9" category="paragraph">Questo completa la dimostrazione del clone del database standby Oracle in Oracle Data Guard su Azure ANF Storage per DEV, TEST, REPORT o qualsiasi altro caso d'uso.  È possibile clonare più database Oracle dallo stesso database standby in Oracle Data Guard su ANF.</block>
  <block id="2a5eba546233f90579d3260dd00dbd31" category="list-text">TR-4988: Backup, ripristino e clonazione del database Oracle su ANF con SnapCenter</block>
  <block id="244eaea39e1742e612ba3ce80558cb17" category="paragraph"><block ref="244eaea39e1742e612ba3ce80558cb17" category="inline-link-macro-rx"></block></block>
  <block id="cf47eb0008cf0223ebb97c83c23361d9" category="paragraph"><block ref="cf47eb0008cf0223ebb97c83c23361d9" category="inline-link-macro-rx"></block></block>
  <block id="ef024b787204cedd20ab38792eb8aa97" category="list-text">Concetti e amministrazione di Oracle Data Guard</block>
  <block id="300ff7c5525219cf0316ee35285ce086" category="summary">La soluzione fornisce una panoramica e dettagli per il ripristino rapido di Oracle VLDB distribuito nell'istanza di calcolo della macchina virtuale di Azure con montaggio NFS sul pool di capacità Azure NetApp Files per organizzare una copia del database in standby che viene unita in modo incrementale e costante tramite RMAN.</block>
  <block id="af9bda0d447d00102cfa07c616299ce9" category="doc">TR-4990: Ripristino rapido di Oracle VLDB con unione incrementale su ANF</block>
  <block id="22260d0205fff2334c6db0210fe74e87" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per il ripristino rapido di Oracle VLDB distribuito nell'istanza di calcolo della macchina virtuale di Azure con montaggio NFS sul pool di capacità Azure NetApp Files per organizzare una copia del database in standby che viene unita in modo incrementale e costante tramite RMAN.</block>
  <block id="36c33b5f7d9b9effb307d69b5d9bbfcd" category="paragraph">Se sei interessato a un SLA per il tuo VLDB e stai pensando di spostare il database Oracle su un cloud pubblico come Azure, puoi impostare una struttura di protezione del database simile utilizzando risorse come Microsoft Azure NetApp Files (ANF) per la gestione temporanea della copia dell'immagine del database di standby.  In questa documentazione, illustriamo come effettuare il provisioning ed esportare un file system NFS dal pool di capacità ANF da montare su un server di database Oracle per la preparazione di una copia di database in standby per un rapido ripristino in caso di errore dell'archiviazione primaria.</block>
  <block id="7c743caa66583893abbd5fd02fcd8c44" category="list-text">Un'unione incrementale di copie di immagini Oracle VLDB tramite RMAN su punto di montaggio NFS fuori dall'archiviazione del pool di capacità ANF di Microsoft.</block>
  <block id="c7b169899b3bf3e517397a1e66b1f9ba" category="list-text">Ripristino rapido di un Oracle VLDB in caso di errore sulla stessa VM del server di database Azure.</block>
  <block id="3ddf9d0387ffbe57231793a1a3a59444" category="list-text">Ripristino rapido di un Oracle VLDB in caso di errore su una VM del server di database Azure in standby.</block>
  <block id="96f297eca8d0059e7b41d63cbfa46bb8" category="list-text">Un DBA che imposta l'unione incrementale delle copie delle immagini Oracle VLDB tramite RMAN in Azure per un ripristino più rapido del database.</block>
  <block id="86cc76cfb1ceaac3aaa0bace96f788de" category="list-text">Architetto di soluzioni di database che testa i carichi di lavoro Oracle nel cloud pubblico Azure.</block>
  <block id="a92ab2bd86f06e76dca598f233e87f33" category="list-text">Un amministratore di storage che gestisce i database Oracle distribuiti nello storage del pool di capacità ANF.</block>
  <block id="96ffa3242f6ce78c662078c986d2dd13" category="list-text">Un proprietario di un'applicazione che vorrebbe installare database Oracle nell'ambiente cloud Azure.</block>
  <block id="a16384631c8a3c77092c08c44ebe3627" category="paragraph">Il test e la convalida di questa soluzione sono stati eseguiti in un ambiente di archiviazione con pool di capacità ANF di Microsoft e di elaborazione di macchine virtuali di Azure che potrebbero non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="df5be9cce2556109a991648585423150" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione dell'unione incrementale Oracle VLDB nel cloud pubblico di Azure con ANF.</block>
  <block id="5a582736ed938dddf357783a0920aa5d" category="paragraph"><block ref="5a582736ed938dddf357783a0920aa5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="952ad133c322e6ea15c7668391a420d8" category="cell">Deposito ANF</block>
  <block id="16f2328b190976509986f33db9227d85" category="cell">Storage pool con capacità ANF da 2 TiB con livello di servizio Premium</block>
  <block id="6d06f0bd5a2f3059a22e9257d7c1a905" category="cell">2 VM, una come server DB primario e l'altra come standby</block>
  <block id="2e705b831fd1a05f9ff862ccde72a99f" category="list-text">*Layout di archiviazione Oracle VLDB per unione incrementale RMAN.*  Nei nostri test e nelle nostre convalide, il volume NFS per il backup incrementale e l'unione di Oracle viene allocato da un singolo pool di capacità ANF, che ha 100 TiB per volume e un limite di capacità totale di 1000 TiB.  Per la distribuzione oltre le soglie, è possibile concatenare più volumi e pool di capacità ANF in parallelo con più punti di montaggio NFS per fornire una capacità maggiore.</block>
  <block id="fa44cff8a0d3a1bde3e39afbd57dc266" category="list-text">*Recuperabilità di Oracle tramite unione incrementale RMAN.*  Il backup incrementale e l'unione RMAN vengono generalmente eseguiti con una frequenza definita dall'utente in base agli obiettivi RTO e RPO.  In caso di perdita totale dell'archiviazione dei dati primari e/o dei registri archiviati, può verificarsi una perdita di dati.  Il database Oracle può essere ripristinato fino all'ultimo backup incrementale disponibile dalla copia dell'immagine di backup del database ANF.  Per ridurre al minimo la perdita di dati, l'area di ripristino flash di Oracle può essere impostata sul punto di montaggio ANF NFS e i log archiviati vengono sottoposti a backup sul punto di montaggio ANF NFS insieme alla copia dell'immagine del database.</block>
  <block id="30de34c3a06eca8594944e005f614d80" category="list-text">*Esecuzione di Oracle VLDB dal file system ANF NFS.*  A differenza di altri sistemi di archiviazione di massa per il backup di database, Microsoft ANF è uno storage di livello produttivo abilitato al cloud che offre elevati livelli di prestazioni ed efficienza di archiviazione.  Una volta che Oracle VLDB passa dall'archiviazione primaria alla copia dell'immagine sul file system ANF NFS, le prestazioni del database possono essere mantenute a un livello elevato mentre viene risolto il problema dell'archiviazione primaria.  Puoi stare tranquillo sapendo che l'esperienza utente delle applicazioni non viene compromessa da un guasto dell'archiviazione primaria.</block>
  <block id="98ba9c7927b5d14764e8115588d2d54d" category="list-text">*Istanze di calcolo di Azure.*  In questi test e convalide, abbiamo utilizzato le VM Azure Standard_B4ms come server di database Oracle.  Esistono altre VM di Azure che potrebbero essere ottimizzate e più adatte al carico di lavoro del database.  È inoltre necessario dimensionare la macchina virtuale di Azure in modo appropriato per il numero di vCPU e la quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="f09ca0335aec5f261a1b868e570f0505" category="list-text">*Livello di servizio del pool di capacità ANF.*  Il pool di capacità ANF offre tre livelli di servizio: Standard, Premium, Ultra.  Per impostazione predefinita, un QoS automatico si applica a un volume creato all'interno di un pool di capacità, il che limita la velocità effettiva sul volume.  La capacità di elaborazione di un volume può essere regolata manualmente in base alle dimensioni del pool di capacità e al livello di servizio.</block>
  <block id="4d189a9c9e5d55cc3a34938358e133d3" category="list-text">*Configurazione dNFS.* dNFS è integrato nel kernel di Oracle ed è noto per aumentare notevolmente le prestazioni del database Oracle quando Oracle viene distribuito su storage NFS. dNFS è incluso nel pacchetto binario di Oracle, ma non è attivato per impostazione predefinita.  Dovrebbe essere attivato per qualsiasi distribuzione di database Oracle su NFS.  Per l'implementazione di più pool di capacità ANF per un VLDB, è necessario configurare correttamente i percorsi multipli dNFS verso diversi storage di pool di capacità ANF.</block>
  <block id="5ae994fde73945264c47ce48647d57b2" category="paragraph">Si presume che Oracle VLDB sia già distribuito nell'ambiente cloud Azure all'interno di una rete virtuale.  Se hai bisogno di aiuto con la distribuzione di Oracle in Azure, consulta i seguenti report tecnici.</block>
  <block id="3914554f3e4d9e4c6db0b30795651877" category="inline-link-macro">Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS</block>
  <block id="3229de008a550a1b47ddb6964fa5485c" category="list-text"><block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block></block>
  <block id="879f2366c198b1fc05740657cacebcc1" category="inline-link-macro">Distribuzione e protezione del database Oracle su Azure NetApp Files</block>
  <block id="859aec84cfff3ac536a9719c48b75c30" category="list-text"><block ref="859aec84cfff3ac536a9719c48b75c30" category="inline-link-macro-rx"></block></block>
  <block id="a3f00a7e147e7b84aa2b711174f65541" category="paragraph">Il tuo Oracle VLDB può essere eseguito su un archivio ANF o su qualsiasi altro archivio di scelta all'interno dell'ecosistema cloud di Azure.  Nella sezione seguente vengono fornite procedure di distribuzione dettagliate per la configurazione dell'unione incrementale RMAN in una copia immagine di un Oracle VLDB in fase di staging in un montaggio NFS da uno storage ANF.</block>
  <block id="dda1820cbe40a6a04b7c08135677cb5f" category="list-text">È stato configurato un account Azure e sono stati creati i segmenti di rete e VNet di Azure necessari all'interno del tuo account Azure.</block>
  <block id="ee50869919154f8e0bb1c9a79b0e68bf" category="inline-link-macro">Serie di macchine virtuali di Azure</block>
  <block id="12b67dd937a6aa2aac9654fe14c80158" category="list-text">Dalla console del portale di Azure, è necessario distribuire due istanze di VM di Azure, una come server Oracle DB primario e un server DB di standby facoltativo.  Per maggiori dettagli sulla configurazione dell'ambiente, consultare il diagramma dell'architettura nella sezione precedente.  Rivedere anche il<block ref="0bcbff73d1e13f874b4c63b6603f9a12" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="2439b2fcc93766c923093f1c217cff51" category="list-text">Dalla console del portale di Azure, distribuire l'archiviazione ANF per ospitare i volumi NFS che archiviano la copia dell'immagine di standby del database Oracle.  Se non hai familiarità con la distribuzione di ANF, consulta la documentazione<block ref="1bbe5611068f9dda0e0123e846af8b8b" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="c78f04ded81296476b99e27cfcf8b81e" category="admonition">Assicurati di aver allocato almeno 128 GB nel volume radice della VM di Azure per avere spazio sufficiente per organizzare i file di installazione di Oracle.</block>
  <block id="57ce3e90b99a309ad26ec73de2896ff9" category="section-title">Fornire ed esportare il volume NFS da montare sul server Oracle VLDB primario</block>
  <block id="48e63302f12330ed309d536a92b3ff3d" category="paragraph">In questa sezione, illustriamo come effettuare il provisioning di un volume NFS da un pool di capacità ANF tramite la console del portale di Azure.  Ripetere le procedure sugli altri pool di capacità ANF se sono impostati più pool di capacità ANF per adattarsi alle dimensioni del database.</block>
  <block id="edc598e26c4191781ff6fb9a427f3e26" category="list-text">Innanzitutto, dalla console del portale di Azure, passare al pool di capacità ANF utilizzato per organizzare la copia dell'immagine Oracle VLDB.</block>
  <block id="db13e5cf484d3e563e6a6313426b51c3" category="inline-image-macro">Questa immagine fornisce la schermata di provisioning del volume ANF utilizzando la console del portale di Azure</block>
  <block id="1e83ea8a6e8cd0a02ac2c348ae00c565" category="paragraph"><block ref="1e83ea8a6e8cd0a02ac2c348ae00c565" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5ba92870c86eabfee4cc4cc8bd42317" category="list-text">Dal pool di capacità selezionato -<block ref="11e0eed8d3696c0a632f822df385ab3c" prefix=" " category="inline-code"></block> , clicca<block ref="c6f01c78bfe0a0a495cb5d3ed77824a9" prefix=" " category="inline-code"></block> poi,<block ref="da20d395d0cd59983278111b9c95d6c3" prefix=" " category="inline-code"></block> per avviare il flusso di lavoro di aggiunta volume.</block>
  <block id="8141b7ec7aec9bed8e05062ee1fd6a11" category="paragraph"><block ref="8141b7ec7aec9bed8e05062ee1fd6a11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1318d277156dfc7ca8b396a8bacab47d" category="list-text">Riempire<block ref="7ffce295d6c61cb38fd76a4e505cdb33" prefix=" " category="inline-code"></block> ,<block ref="d2d5c3e087f684e56b5b81d6212d7ccb" prefix=" " category="inline-code"></block> ,<block ref="bf76cafc47141522dca89c4d6e25b822" prefix=" " category="inline-code"></block> , E<block ref="48d32046f376779858d068d73d85f80e" prefix=" " category="inline-code"></block> trasferirsi a<block ref="888a77f5ac0748b6c8001822417df8b6" prefix=" " category="inline-code"></block> pagina.</block>
  <block id="3b8d4c9b49219e733e7e1caac71ea58b" category="paragraph"><block ref="3b8d4c9b49219e733e7e1caac71ea58b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ca80750436bdab142d2e43cd1ef42cf" category="list-text">Prendi nota del percorso del file, inserisci l'intervallo CIDR dei client consentiti e abilita<block ref="677c422f11e77a5df1d44e4f6c517954" prefix=" " category="inline-code"></block> per il volume.</block>
  <block id="79bf0eefa3fd47307e8b7e15e106cab7" category="paragraph"><block ref="79bf0eefa3fd47307e8b7e15e106cab7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3df3ccf0cba7ad3be7d9143f84d067b4" category="list-text">Se lo si desidera, aggiungere un tag volume.</block>
  <block id="eb782355945736b6c51aad301842df5d" category="paragraph"><block ref="eb782355945736b6c51aad301842df5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="427d09585c379ab8f0af7219a6cac2a1" category="list-text">Rivedere e creare il volume.</block>
  <block id="0d864297daf4cabd371c2a5d525d209b" category="paragraph"><block ref="0d864297daf4cabd371c2a5d525d209b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0f312ff08c789fc7e37000b9637b9c6" category="list-text">Accedere al server Oracle VLDB primario come utente con privilegio sudo e montare il volume NFS esportato dall'archiviazione ANF.  Modificare l'indirizzo IP del server ANF NFS e il percorso del file secondo necessità.  L'indirizzo IP del server NFS ANF può essere recuperato dalla pagina della console del volume ANF.</block>
  <block id="73304323457935ed833c76e67c23f068" category="section-title">Imposta l'unione incrementale di Oracle RMAN per copiare l'immagine su ANF</block>
  <block id="ec95b19db84d374be749fe05dbb34147" category="list-text">Accedere al server Oracle VLDB primario come utente Oracle.</block>
  <block id="9466e78eda574ac1c2b0373b37e691eb" category="list-text">Creare una directory oracopy nel punto di montaggio /nfsanf per memorizzare le copie delle immagini dei file di dati Oracle e la directory archlog per l'area di ripristino flash di Oracle.</block>
  <block id="94c15d2a6c277de2e60033355a135ffd" category="list-text">Accedi al database Oracle tramite sqlplus, abilita il monitoraggio delle modifiche dei blocchi per un backup incrementale più rapido e modifica l'area di ripristino flash di Oracle in mount ANF NFS se attualmente si trova sullo storage primario.  Ciò consente il backup automatico del file di controllo/spfile predefinito di RMAN e dei log archiviati sul mount ANF NFS per il ripristino.</block>
  <block id="d15e02bf0c54e008af2e8212aa7c7d4f" category="paragraph">Risultati attesi:</block>
  <block id="fb6dc8561460f909af465eb0cfcfd84d" category="list-text">Sul server Oracle VLDB primario, accedi a RMAN localmente come utente Oracle con o senza catalogo RMAN.  In questa dimostrazione non ci stiamo connettendo a un catalogo RMAN.</block>
  <block id="c937bbcfc1739e03f02ce386195ec2fc" category="list-text">Elenca la copia dell'immagine del database dopo il backup per verificare che sia stata creata una copia dell'immagine del database nel punto di montaggio ANF NFS.</block>
  <block id="7d3185dbec5bee3286899aa1908bdbc4" category="list-text">Segnalare lo schema dal prompt dei comandi Oracle RMAN per verificare che i file di dati VLDB correnti si trovino nell'archivio primario.</block>
  <block id="0c6f3c70d69fdbc10889c0bf3d54d400" category="paragraph">Questo completa la configurazione di un backup e di un'unione di copie di immagini di standby Oracle VLDB.</block>
  <block id="1afaba9f41e3dd6015389dd6a151412d" category="section-title">Passa Oracle VLDB alla copia dell'immagine per un rapido ripristino</block>
  <block id="dfba912cd166af4cfe8896146ef629da" category="paragraph">In caso di guasto dovuto a un problema di archiviazione primaria, come perdita o danneggiamento dei dati, il database può essere rapidamente convertito in una copia dell'immagine su mount ANF NFS e ripristinato allo stato corrente senza dover ripristinare il database.  L'eliminazione del ripristino dei supporti velocizza enormemente il ripristino del database per un VLDB.  Questo caso d'uso presuppone che il server Oracle VLDB DB sia intatto e che il file di controllo del database, i log archiviati e quelli correnti siano tutti disponibili per il ripristino.</block>
  <block id="15f67ba350e31e49f6aac9b603305228" category="list-text">Accedere all'host del server VLDB primario di Azure come utente Oracle e creare una tabella di prova prima del passaggio.</block>
  <block id="dce3cc3b84024400ca1056239e416340" category="list-text">Controllare la struttura del database da sqlplus dopo il ripristino per osservare che tutti i file di dati VLDB, ad eccezione dei file di controllo, temp e registro corrente, sono ora trasferiti per la copia sul file system ANF NFS.</block>
  <block id="bab07f680481d370684c7c7bb3717bae" category="list-text">Da SQL plus, controlla il contenuto della tabella di test che abbiamo inserito prima di passare alla copia.</block>
  <block id="26644cbe4753a4ade8012d2ba03e81e4" category="list-text">È possibile eseguire Oracle VLDB in un montaggio ANF NFS per un periodo di tempo prolungato mantenendo il livello di prestazioni previsto.  Una volta risolto il problema di archiviazione primaria, è possibile ripristinarlo invertendo i processi di unione dei backup incrementali con tempi di inattività minimi.</block>
  <block id="5a00ad02f147850c7af23fdfd27e0eaa" category="section-title">Ripristino Oracle VLDB dalla copia dell'immagine su un server DB di standby</block>
  <block id="17296cbb22286362e179c848e8e57295" category="paragraph">In caso di guasto che comporta la perdita sia dell'archiviazione primaria sia dell'host del server DB primario, non è possibile eseguire il ripristino dal server originale.  Tuttavia, la copia dell'immagine di backup del database Oracle disponibile sul file system ANF NFS può rivelarsi utile.  È possibile ripristinare rapidamente il database primario su un server DB di standby, se disponibile, utilizzando la copia dell'immagine di backup.  In questa sezione illustreremo passo dopo passo le procedure per tale recupero.</block>
  <block id="6936d296c2b811c489aca0e32d359fcd" category="list-text">Inserire una riga per testare la tabella creata in precedenza per il ripristino di Oracle VLDB sulla convalida host alternativa.</block>
  <block id="f18d7c57a5ebb3caa3ea2bfe276de7f2" category="list-text">Come utente Oracle, esegui il backup incrementale RMAN e unisci per svuotare la transazione nel set di backup sul mount ANF NFS.</block>
  <block id="cb94a5220dfad4d0aa2f693c894fb9e9" category="list-text">Arrestare l'host del server VLDB primario per simulare un guasto totale dell'host del server di archiviazione e del database.</block>
  <block id="e761e3a893aaa3520b400ce648ab8a6a" category="list-text">Sul server DB di standby ora-02 con lo stesso sistema operativo e la stessa versione, il kernel del sistema operativo dovrebbe essere patchato come host del server VLDB primario.  Inoltre, la stessa versione e le stesse patch di Oracle sono state installate e configurate sul server DB di standby con l'opzione solo software.</block>
  <block id="8c37710929190bb2d41b656aeceeae08" category="list-text">Configurare l'ambiente Oracle in modo simile al server VLDB primario ora_01, come oratab e l'utente Oracle .bash_profile ecc. È buona norma eseguire il backup di tali file sul punto di montaggio ANF NFS.</block>
  <block id="62b6592dd07cf67430eb62e8fa7a1134" category="list-text">La copia dell'immagine di backup del database Oracle sul file system ANF NFS viene quindi montata sul server DB di standby per il ripristino.  Le seguenti procedure illustrano i dettagli del processo.</block>
  <block id="d7ee3226eda2c84f098cd207f0d54f24" category="paragraph">Come azueruser, crea il punto di montaggio.</block>
  <block id="ad8e2a2e998153fae9d61ff8f9d9f743" category="paragraph">Come azureuser, monta il volume NFS in cui è archiviata la copia dell'immagine di backup di Oracle VLDB.</block>
  <block id="57037eb23ec9213da633092ef5499d2e" category="list-text">Convalida la copia dell'immagine di backup del database Oracle sul punto di montaggio ANF NFS.</block>
  <block id="ebb08557fe1c4afb90525797dd43db2e" category="list-text">Verificare i log archiviati Oracle disponibili sul mount ANF NFS per il ripristino e annotare l'ultimo numero di sequenza del file di log.  In questo caso è 10.  Il nostro punto di ripristino è fino al numero di sequenza del registro 11.</block>
  <block id="a4182a7080e9f6f2151069ccb62a5457" category="list-text">Come utente Oracle, impostare la variabile ORACLE_HOME sull'installazione Oracle corrente sul server DB standby ora-02, ORACLE_SID sul SID dell'istanza Oracle primaria.  In questo caso si tratta di NTAP1.</block>
  <block id="a0cf68f6b5b4902668150f7bd93de702" category="list-text">Come utente Oracle, crea un file init Oracle generico nella directory $ORACLE_HOME/dbs con le directory di amministrazione appropriate configurate.  La cosa più importante è avere Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> puntare al percorso di montaggio ANF NFS come definito nel server Oracle VLDB primario. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configurazione è dimostrata nella sezione<block ref="73304323457935ed833c76e67c23f068" prefix=" " category="inline-code"></block> .  Impostare il file di controllo Oracle sul file system ANF NFS.</block>
  <block id="a43978f8f72cfac9215264289dc0bbc5" category="paragraph">In caso di discrepanza, il file init sopra riportato dovrebbe essere sostituito dal file init di backup ripristinato dal server Oracle VLDB primario.</block>
  <block id="763216a4e00351ecca33c64834ed517e" category="list-text">Come utente Oracle, avviare RMAN per eseguire il ripristino Oracle sull'host del server DB in standby.  Per prima cosa, avvia l'istanza di Oracle in<block ref="b407a7f2e317a40388660332475e7643" prefix=" " category="inline-code"></block> stato.</block>
  <block id="8d54569996869aecad559c10bb1e2c87" category="list-text">Imposta l'ID del database.  L'ID del database può essere recuperato dal nome del file Oracle della copia dell'immagine sul punto di montaggio ANF NFS.</block>
  <block id="a36331bab1648a62444eb296287a6fdc" category="list-text">Ripristinare il file init da spfile in una cartella /tmp per aggiornare in seguito il file dei parametri in modo che corrisponda al VLDB primario.</block>
  <block id="245c0febb36259f78725542aabcf3a2c" category="list-text">Convalida la struttura del database ripristinata sul nuovo host, nonché la riga di test inserita prima dell'errore del VLDB primario.</block>
  <block id="5cfbf4ac8374e1dd5933aecbf7073072" category="list-text">Elimina i file temporanei non validi e aggiungi nuovi file temporanei agli spazi tabella temporanei.</block>
  <block id="b254731bf46f569e3541aea574a9240f" category="paragraph">In questo modo viene completato il ripristino del database Oracle VLDB dalla copia dell'immagine di backup sul file system ANF NFS a un host del server DB in standby.</block>
  <block id="d3f74ca8a0731f82353c037422b4a066" category="summary">La soluzione fornisce una panoramica e dettagli per la configurazione di Oracle Very Large Database (VLDB) ad alta velocità su Microsoft Azure NetApp Files (ANF) con Oracle Data Guard nel cloud Azure.</block>
  <block id="ea3f52ad072d0c22eef85e7718048f10" category="doc">TR-5003: Implementazione Oracle VLDB ad alta produttività su ANF</block>
  <block id="ac2a865a5ac3beffbb6e82feb1642f5d" category="paragraph">La soluzione fornisce una panoramica e dettagli per la configurazione di un Oracle Very Large Database (VLDB) ad alta produttività su Microsoft Azure NetApp Files (ANF) con Oracle Data Guard nel cloud di Azure.</block>
  <block id="bc44c54c1ace508b8c262b89414fc118" category="inline-link-macro">Prestazioni del database Oracle su più volumi Azure NetApp Files</block>
  <block id="7e91e431d0d705cb0deed644bfa3e158" category="paragraph">L'elevata produttività e l'Oracle VLDB mission-critical pongono una forte richiesta di storage del database back-end.  Per soddisfare l'accordo sul livello di servizio (SLA), l'archiviazione del database deve fornire la capacità richiesta e un elevato numero di operazioni di input/output al secondo (IOPS), mantenendo al contempo prestazioni con latenza inferiore ai millisecondi.  Ciò risulta particolarmente impegnativo quando si distribuisce un carico di lavoro di database di questo tipo nel cloud pubblico con un ambiente di risorse di archiviazione condivise.  Non tutte le piattaforme di archiviazione sono uguali.  L'archiviazione Premium Azure NetApp Files in combinazione con l'infrastruttura di Azure può soddisfare le esigenze di un carico di lavoro Oracle così esigente.  In un benchmark di prestazioni convalidato (<block ref="9ab2ff2b4b0ce4e627f3b2b61c4c51e7" category="inline-link-macro-rx"></block> ), ANF ha erogato 2,5 milioni di IOPS di lettura con una latenza di 700 microsecondi in un carico di lavoro sintetico con selezione casuale al 100% tramite lo strumento SLOB.  Con una dimensione di blocco standard di 8k, ciò si traduce in una capacità di elaborazione di circa 20 GiB/s.</block>
  <block id="40bb9e52a428c50e9d4260327ae36ae0" category="paragraph">In questa documentazione, illustriamo come impostare un Oracle VLDB con configurazione Data Guard su storage ANF con più volumi NFS e Oracle ASM per il bilanciamento del carico di storage.  Il database di standby può essere sottoposto a backup rapido (in pochi minuti) tramite snapshot e clonato per l'accesso in lettura/scrittura per i casi d'uso desiderati.  Il team di NetApp Solutions Engineering fornisce un toolkit di automazione per creare e aggiornare cloni con facilità, secondo una pianificazione definita dall'utente.</block>
  <block id="6426a2ab6b3d824d1a657f76ce59af76" category="list-text">Implementazione di Oracle VLDB in un'impostazione Data Guard su un archivio Microsoft Azure NetApp Files in tutte le regioni di Azure.</block>
  <block id="2bbb6519cb42fb5ad193cbb08504b0ea" category="list-text">Eseguire il backup degli snapshot e clonare il database di standby fisico per soddisfare casi d'uso quali reporting, sviluppo, test, ecc. tramite l'automazione.</block>
  <block id="576e227dcb1e0d80713bcf3c26196c6f" category="list-text">Un DBA che configura Oracle VLDB con Data Guard nel cloud Azure per garantire elevata disponibilità, protezione dei dati e ripristino di emergenza.</block>
  <block id="5753258a78d8f3a9beb9cc106e6f9034" category="list-text">Architetto di soluzioni di database interessato a Oracle VLDB con configurazione Data Guard nel cloud Azure.</block>
  <block id="5274e960c7dd428c75a6144ebb308bce" category="list-text">Un amministratore di storage che gestisce l'archiviazione Azure NetApp Files che supporta il database Oracle.</block>
  <block id="703068f950e0ca65139d87b49eb83e6f" category="list-text">Un proprietario di applicazioni a cui piace installare Oracle VLDB con Data Guard in un ambiente cloud Azure.</block>
  <block id="cc4e806c11d730c592dbbbbbe13e7e65" category="paragraph"><block ref="cc4e806c11d730c592dbbbbbe13e7e65" category="inline-image-macro-rx" type="image"></block></block>
  <block id="958e567b3c1c55ffc247da958c959bb0" category="cell">Due pool di capacità da 4 TiB, livello di servizio Premium, QoS automatico</block>
  <block id="48cd7e2a04cc7a2c0db818d222feb3d9" category="cell">Patch dNFS OneOff</block>
  <block id="0a47877dcb480736ed911404e6680808" category="cell">p32931941_190000_Linux-x86-64.zip</block>
  <block id="5f71efbefae6963d850d2f98f4eb45a7" category="cell">Applicato sia alla griglia che al database</block>
  <block id="ed04a43e0d6fd50cdfb484c753725112" category="cell">Versione core 2.16.2</block>
  <block id="8b4fa9fd84c38bb567a32f6a0529234a" category="cell">versione python - 3.10.13</block>
  <block id="e8194910cb10ca7dabc8efc9910a19ac" category="section-title">Configurazione di Oracle VLDB Data Guard con una configurazione DR simulata da NY a LA</block>
  <block id="63fee887d948a555fc7e7fa0e4048d52" category="list-text">* Configurazione Azure NetApp Files .*  I Azure NetApp Files vengono allocati nell'account di archiviazione di Azure NetApp come<block ref="a74c45c38136d5cb4b7be385e3a8c24e" prefix=" " category="inline-code"></block> .  In questi test e convalide, abbiamo distribuito un pool di capacità da 2 TiB per ospitare Oracle Primary nella regione East e un pool di capacità da 4 TiB per ospitare il database standby e il clone del DB nella regione West 2.  Il pool di capacità ANF prevede tre livelli di servizio: Standard, Premium e Ultra.  La capacità IO del pool di capacità ANF si basa sulla dimensione del pool di capacità e sul suo livello di servizio.  Durante la creazione di un pool di capacità, è possibile impostare QoS su Automatico o Manuale e la crittografia dei dati a riposo su Singola o Doppia.</block>
  <block id="469fbba4b0f5f2060092292911ed8af8" category="list-text">*Dimensionamento dei volumi del database.*  Per l'implementazione in produzione, NetApp consiglia di effettuare una valutazione completa dei requisiti di throughput del database Oracle dal report Oracle AWR.  Quando si dimensionano i volumi ANF per il database, tenere in considerazione sia le dimensioni del database sia i requisiti di throughput.  Con la configurazione automatica QoS per ANF, la larghezza di banda è garantita a 128 MiB/s per capacità di volume TiB assegnata con Ultra Service Level.  Una maggiore produttività potrebbe richiedere dimensioni di volume maggiori per soddisfare i requisiti.</block>
  <block id="e169ef58267a44a036a2431b258bb8bb" category="list-text">*Volume singolo o volumi multipli.*  Un singolo volume di grandi dimensioni può fornire un livello di prestazioni simile a quello di più volumi con le stesse dimensioni aggregate, poiché la qualità del servizio è rigorosamente applicata in base alle dimensioni del volume e al livello di servizio del pool di capacità.  Si consiglia di implementare più volumi (più punti di montaggio NFS) per Oracle VLDB per utilizzare al meglio il pool di risorse di archiviazione ANF del backend condiviso.  Implementare Oracle ASM per il bilanciamento del carico IO su più volumi NFS.</block>
  <block id="13405dddab4bfc8f05bf4cef70d4ba34" category="list-text">*Gruppo di volumi dell'applicazione.*  Distribuisci Application Volume Group (AVG) per Oracle per ottimizzare le prestazioni.  I volumi distribuiti dal gruppo di volumi dell'applicazione vengono posizionati nell'infrastruttura regionale o zonale per ottenere latenza e produttività ottimizzate per le VM dell'applicazione.</block>
  <block id="e3abfd4444bd3673edd8bcaf154ef1b7" category="list-text">*Considerazioni sulle VM di Azure.*  In questi test e convalide abbiamo utilizzato una VM di Azure - Standard_B4ms con 4 vCPU e 16 GiB di memoria.  È necessario scegliere la VM di Azure DB in modo appropriato per Oracle VLDB con requisiti di throughput elevati.  Oltre al numero di vCPU e alla quantità di RAM, la larghezza di banda della rete VM (ingresso e uscita o limite di throughput della NIC) può diventare un collo di bottiglia prima che venga raggiunta la capacità di archiviazione del database.</block>
  <block id="3e3ac9cab9c622b8cdc90f392ca12717" category="list-text">*Configurazione dNFS.*  Utilizzando dNFS, un database Oracle in esecuzione su una macchina virtuale di Azure con storage ANF può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  Assicurarsi che la patch p32931941 di Oracle dNFS venga applicata per risolvere potenziali bug.</block>
  <block id="0dc065cc938849ffd984d61b209b4102" category="paragraph">Si presuppone che il database Oracle primario sia già distribuito in un ambiente cloud Azure all'interno di una rete virtuale come punto di partenza per la configurazione di Oracle Data Guard.  Idealmente, il database primario viene distribuito su un archivio ANF con montaggio NFS.  Il database Oracle primario può anche essere eseguito su un archivio NetApp ONTAP o su qualsiasi altro archivio a scelta all'interno dell'ecosistema Azure o di un data center privato.  Nella sezione seguente viene illustrata la configurazione per Oracle VLDB su ANF in un'impostazione Oracle Data Guard tra un Oracle DB primario in Azure con storage ANF e un Oracle DB di standby fisico in Azure con storage ANF.</block>
  <block id="b6a8795b89427b9bcedb329706ce612e" category="inline-link-macro">Distribuisci il gruppo di volumi dell'applicazione per Oracle</block>
  <block id="f288dca98de9fd8f68cabce75de41f63" category="list-text">Fare riferimento a questa documentazione<block ref="92fe001805609a088a0730df6826e443" category="inline-link-macro-rx"></block> per distribuire Application Volume Group per Oracle.</block>
  <block id="6de56926cf16ae7e5acadafffe9cebaa" category="section-title">Configurazione primaria di Oracle VLDB per Data Guard</block>
  <block id="3ad9c4c8e99ed69f2aabbca53120048e" category="paragraph">In questa dimostrazione, abbiamo configurato un database Oracle primario denominato NTAP sul server Azure DB primario con sei punti di montaggio NFS: /u01 per il binario Oracle, /u02, /u04, /u05, /u06 per i file di dati Oracle e un file di controllo Oracle, /u03 per i log attivi Oracle, i file di log archiviati e un file di controllo Oracle ridondante.  Questa configurazione serve come riferimento.  L'effettiva distribuzione dovrebbe tenere in considerazione le esigenze e i requisiti specifici in termini di dimensionamento del pool di capacità, livello di servizio, numero di volumi di database e dimensionamento di ciascun volume.</block>
  <block id="d51ded5e9f753b1b0f2beb2d3abbb5b0" category="inline-link-macro">TR-5002 - Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="a83e8767090057c4cce3ba759abbcdf5" category="inline-link-macro">TR-4974 - Oracle 19c in riavvio autonomo su AWS FSx/EC2 con NFS/ASM</block>
  <block id="e816473ee6c7a0f05babc405986f6f79" category="paragraph">Per procedure dettagliate passo passo per la configurazione di Oracle Data Guard su NFS con ASM, fare riferimento a<block ref="b1d6ef03bcdcd359f71dd4154c9cceb7" category="inline-link-macro-rx"></block> E<block ref="20283444534604ae8bcc997636416590" category="inline-link-macro-rx"></block> sezioni pertinenti.  Sebbene le procedure in TR-4974 siano state convalidate su Amazon FSx ONTAP, sono ugualmente applicabili ad ANF.  Di seguito sono illustrati i dettagli di un Oracle VLDB primario in una configurazione Data Guard.</block>
  <block id="c45548c59f7dad91372bcd725f152c39" category="list-text">Il database primario NTAP sul server primario di Azure DB orap.internal.cloudapp.net viene inizialmente distribuito come database autonomo con ANF su NFS e ASM come archivio del database.</block>
  <block id="7bf1a0c80391c93f6f892d9092d39902" category="list-text">Accedi al server DB primario come utente Oracle.  Convalida la configurazione della griglia.</block>
  <block id="3ad7f7aa34443fba49a951acd20290a3" category="list-text">Configurazione del gruppo di dischi ASM.</block>
  <block id="3cf4fb8a73e23748b1f4113ab35d63b1" category="list-text">Impostazione dei parametri per Data Guard sul DB primario.</block>
  <block id="4af7aad920d7b025faecb6b1df125c0a" category="list-text">Configurazione del DB primario.</block>
  <block id="e3bd7dd107adfa986e5c56078ffece74" category="list-text">Configurazione dNFS sul database primario.</block>
  <block id="82d34c5b758259ddb431fbc68f3c1258" category="paragraph">Ciò completa la dimostrazione di una configurazione Data Guard per VLDB NTAP nel sito primario su ANF con NFS/ASM.</block>
  <block id="ee7ea56a90c6257d42a731fa2163e414" category="section-title">Configurazione di standby Oracle VLDB per Data Guard</block>
  <block id="073b26f74075ded1047f17ed2fb3f4e4" category="paragraph">Oracle Data Guard richiede la configurazione del kernel del sistema operativo e gli stack software Oracle, inclusi i set di patch sul server DB di standby, per corrispondere al server DB primario.  Per una gestione semplice e intuitiva, la configurazione dell'archiviazione del database del server DB di standby dovrebbe idealmente corrispondere anche a quella del server DB primario, ad esempio il layout della directory del database e le dimensioni dei punti di montaggio NFS.</block>
  <block id="b13373feb0d0480cb26331702f9f72ab" category="inline-link-macro">TR-5002 - Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="78aa914b3586201e6f7371f59227aea6" category="inline-link-macro">TR-4974 - Oracle 19c in riavvio autonomo su AWS FSx/EC2 con NFS/ASM</block>
  <block id="cf3a78e2385d868ecef44d6d54172850" category="paragraph">Di nuovo, per procedure dettagliate passo passo per la configurazione di Oracle Data Guard standby su NFS con ASM, fare riferimento a<block ref="94a03fa05762772c643d935de8449f7a" category="inline-link-macro-rx"></block> E<block ref="179b88d7d08fc36b4d4a3783382a72e4" category="inline-link-macro-rx"></block> sezioni pertinenti.  Di seguito sono illustrati i dettagli della configurazione di Oracle VLDB in standby sul server DB in standby in un'impostazione Data Guard.</block>
  <block id="edda20f8b9d369d8982c572e12f17fa5" category="list-text">Configurazione dell'infrastruttura di griglia sul server DB di standby.</block>
  <block id="5bf53e0e8e47a0543347995a8936912f" category="list-text">Configurazione dei gruppi di dischi ASM sul server DB di standby.</block>
  <block id="b8b919859dcfe201ff05ad4c99c2757f" category="list-text">Impostazione dei parametri per Data Guard sul DB di standby.</block>
  <block id="179f52441082fa066322c1655150ce66" category="list-text">Configurazione del DB di standby.</block>
  <block id="dc769e77c3d823a7a27acf7ecd475281" category="list-text">Configurazione dNFS sul DB di standby.</block>
  <block id="ab12cfbfb1418ea24706a0a5bd7644dd" category="paragraph">Ciò completa la dimostrazione di una configurazione Data Guard per VLDB NTAP con ripristino standby gestito abilitato nel sito di standby.</block>
  <block id="f8e190301bfcaa06e179b533dfde6240" category="section-title">Clona il database di standby per altri casi d'uso tramite automazione</block>
  <block id="b3d01b085ffe63145776626c2de38e93" category="paragraph">Il seguente toolkit di automazione è specificamente progettato per creare o aggiornare cloni di un database standby Oracle Data Guard distribuito su ANF con configurazione NFS/ASM per una gestione completa del ciclo di vita del clone.</block>
  <block id="117ea9c26563c0caf3f390559197cd2f" category="paragraph"><block ref="117ea9c26563c0caf3f390559197cd2f" category="inline-link-macro-rx"></block></block>
  <block id="f67f058c75bbff16c69f4bd1d435df34" category="paragraph"><block ref="f67f058c75bbff16c69f4bd1d435df34" category="inline-link-macro-rx"></block></block>
  <block id="b985336298cf9391b91c898572090625" category="summary">Questa sezione illustra un'architettura di soluzione di distribuzione e protezione dei dati di database Oracle con macchina virtuale di Azure e archiviazione Azure NetApp Files .</block>
  <block id="91e17bfb5f535513b5320d68f6afe1fc" category="paragraph">Il seguente diagramma di architettura illustra una distribuzione di database Oracle ad alta disponibilità su istanze di macchine virtuali di Azure e sull'archiviazione Azure NetApp Files .</block>
  <block id="520c5c426000f1dbbd8ac385d5547603" category="paragraph">All'interno dell'ambiente, l'istanza di elaborazione Oracle viene distribuita tramite una console VM dei servizi Azure.  Sono disponibili più tipi di istanze di Azure dalla console.  NetApp consiglia di distribuire un'istanza di Azure VM orientata al database che soddisfi il carico di lavoro previsto.</block>
  <block id="9e20ded809aa2fa1bd072f48ceacfdd8" category="paragraph">L'archiviazione del database Oracle, invece, viene distribuita con il servizio Azure NetApp Files disponibile dalla console di Azure.  Successivamente, i volumi binari, di dati o di registro di Oracle vengono presentati e montati su un host Linux dell'istanza di Azure VM.</block>
  <block id="6b5cae77dbc9c4b759bf654b117eb10b" category="inline-image-macro">Questa immagine illustra la relazione tra il sito primario, il sito di standby e il peering vNet di ciascuno di questi siti.  In questo modo si formano quattro reti virtuali separate.</block>
  <block id="bddd62b850dfe65861a140dee07a77c4" category="paragraph"><block ref="bddd62b850dfe65861a140dee07a77c4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03aa17a1290e1122adecd07d53463cde" category="paragraph">Per molti aspetti, l'implementazione di Azure NetApp Files nel cloud di Azure è molto simile a un'architettura di archiviazione dati ONTAP locale con numerose ridondanze integrate, come RAID e doppi controller.  Per il ripristino di emergenza, è possibile configurare un sito di standby in regioni diverse e sincronizzare il database con il sito primario utilizzando la replica a livello di applicazione (ad esempio, Oracle Data Guard).</block>
  <block id="6f1714a5ced243b141295d01d4038364" category="paragraph">Nella nostra convalida dei test per la distribuzione del database Oracle e la protezione dei dati, il database Oracle viene distribuito su una singola macchina virtuale di Azure, come illustrato nel diagramma seguente:</block>
  <block id="fef3344ae2f384e724a169b6e9d90be7" category="inline-image-macro">Questa immagine illustra l'organizzazione di una singola macchina virtuale di Azure con peering vNet per creare due reti virtuali separate.</block>
  <block id="066919795ab4c6c94fe9a4aef67a4607" category="paragraph"><block ref="066919795ab4c6c94fe9a4aef67a4607" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3c70c58c925177cc6e4034cfa1006c0" category="paragraph">L'ambiente Azure Oracle può essere gestito con un nodo controller Ansible per l'automazione utilizzando i kit di strumenti forniti da NetApp per la distribuzione, il backup, il ripristino e la migrazione del database.  Tutti gli aggiornamenti al kernel del sistema operativo dell'istanza Oracle Azure VM o le patch Oracle possono essere eseguiti in parallelo per mantenere sincronizzati il sistema primario e quello di standby.  Infatti, i toolkit iniziali possono essere facilmente ampliati per eseguire le attività quotidiane di Oracle, se necessario.  Se hai bisogno di aiuto per configurare un controller Ansible CLI, vedi<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block> per iniziare.</block>
  <block id="cffc2899d8dda4926e6563cef4e76608" category="summary">Questa sezione fornisce dettagli sui fattori da considerare quando si distribuisce un database Oracle su una macchina virtuale di Azure e sull'archiviazione Azure NetApp Files .</block>
  <block id="1a6a6241c0105da34f664d1e12534598" category="paragraph">Nelle sezioni seguenti vengono descritte le considerazioni principali da tenere a mente quando si distribuisce un database Oracle nel cloud pubblico di Azure su un'istanza di macchina virtuale di Azure con archiviazione Azure NetApp Files .</block>
  <block id="c2b3b1e82aa97a133f0f6bbc12843085" category="section-title">Tipo e dimensionamento della VM</block>
  <block id="4ca9712a9cd82ea80c8e225977fae1bb" category="inline-link-macro">Dimensioni per le macchine virtuali in Azure</block>
  <block id="7c4a17715675ccfa7ce507eea6098318" category="paragraph">Per ottenere prestazioni ottimali di un database relazionale in un cloud pubblico è importante selezionare il tipo e le dimensioni corretti della VM.  Una macchina virtuale di Azure fornisce una varietà di istanze di elaborazione che possono essere utilizzate per ospitare carichi di lavoro del database Oracle.  Consulta la documentazione Microsoft<block ref="d854faa84ea41d8819c42ca3741a3561" category="inline-link-macro-rx"></block> per diversi tipi di macchine virtuali di Azure e il loro dimensionamento.  In generale, NetApp consiglia di utilizzare una macchina virtuale Azure generica per la distribuzione di database Oracle di piccole e medie dimensioni.  Per la distribuzione di database Oracle di dimensioni maggiori, è appropriata una VM Azure con memoria ottimizzata.  Con più RAM disponibile, è possibile configurare una cache Oracle SGA o una cache flash intelligente più grande per ridurre l'I/O fisico, il che a sua volta migliora le prestazioni del database.</block>
  <block id="84942a15b69259aab0ff7c2620afcaf6" category="inline-link-macro">TR-4780: Database Oracle su Microsoft Azure</block>
  <block id="760a7b6c1bd4f6ebab6918d42feb4825" category="paragraph">Azure NetApp Files funziona come un montaggio NFS collegato a una macchina virtuale di Azure, che offre una maggiore velocità effettiva e supera il limite di velocità effettiva della VM ottimizzata per l'archiviazione con archiviazione locale.  Pertanto, l'esecuzione di Oracle su Azure NetApp Files potrebbe ridurre il numero di core della CPU Oracle concedibili in licenza e i costi di licenza.  Vedere<block ref="b46cbe9b7b18b9ff8101a014c206465f" category="inline-link-macro-rx"></block> , Sezione 7 - Come funziona la licenza Oracle?</block>
  <block id="71b93ac808ac25bb511ebcbb028e32e8" category="paragraph">Altri fattori da considerare sono i seguenti:</block>
  <block id="592bc946b588ad0e83c05f528895bcc8" category="list-text">Scegliere la combinazione corretta di vCPU e RAM in base alle caratteristiche del carico di lavoro.  Con l'aumentare della dimensione della RAM sulla VM, aumenta anche il numero di core vCPU.  A un certo punto dovrebbe esserci un equilibrio, poiché le tariffe delle licenze Oracle vengono addebitate in base al numero di core vCPU.</block>
  <block id="fb9844eb7ee0ff341d6f7066f78918ff" category="list-text">Aggiungere spazio di swap a una VM.  La distribuzione predefinita della macchina virtuale di Azure non crea uno spazio di swap, il che non è ottimale per un database.</block>
  <block id="81afc696937e3786d5701212de79c536" category="section-title">Prestazioni Azure NetApp Files</block>
  <block id="c7bc5faed38f5284386f25a6fc3a5752" category="paragraph">I volumi Azure NetApp Files vengono allocati da un pool di capacità che il cliente deve predisporre nel proprio account di archiviazione Azure NetApp Files .  Ogni pool di capacità è assegnato come segue:</block>
  <block id="3af20f4cec87eac026d0990a8a3f4169" category="list-text">A un livello di servizio che definisce la capacità prestazionale complessiva.</block>
  <block id="dd1fb66595c069d1b267fb8ca87e46eb" category="list-text">La capacità di archiviazione inizialmente fornita o la suddivisione in livelli per quel pool di capacità.  Un livello di qualità del servizio (QoS) che definisce la velocità massima complessiva per spazio fornito.</block>
  <block id="9dc50220b7e70511b5aeebb862346fad" category="paragraph">Il livello di servizio e la capacità di archiviazione inizialmente fornita determinano il livello di prestazioni per un determinato volume di database Oracle.</block>
  <block id="59b8b6b998c3c0fcd2f1b107a68c290a" category="section-title">1. Livelli di servizio per Azure NetApp Files</block>
  <block id="f02ad1a8080bf1b50f8a15cb346ed483" category="paragraph">Azure NetApp Files supporta tre livelli di servizio: Ultra, Premium e Standard.</block>
  <block id="3eec40f71dc46b07f32031c9703968ec" category="list-text">*Ultra spazio di archiviazione.*  Questo livello fornisce fino a 128 MiBps di throughput per 1 TiB di quota di volume assegnata.</block>
  <block id="1b0fa75a1e8b815e03fb38f8a90d2a73" category="list-text">*Archiviazione Premium.*  Questo livello fornisce fino a 64 MiBps di throughput per 1 TiB di quota di volume assegnata.</block>
  <block id="00792f6ec40d3e2833834d90802a7aa5" category="list-text">*Archiviazione standard.*  Questo livello fornisce fino a 16 MiBps di throughput per 1 TiB di quota di volume assegnata.</block>
  <block id="7a720602d11a97fd37964c9979e2f1a5" category="section-title">2. Capacità di accumulo e qualità del servizio</block>
  <block id="36ac84521252c58a4238292bf0c21d92" category="paragraph">A ciascuno dei livelli di servizio desiderati è associato un costo per la capacità fornita e include un livello di qualità del servizio (QoS) che definisce la velocità massima complessiva per lo spazio fornito.</block>
  <block id="7a93db9cf06fd65415faf241927e2087" category="paragraph">Ad esempio, un pool a capacità singola con provisioning da 10 TiB e livello di servizio premium fornisce una capacità effettiva complessiva disponibile per tutti i volumi in questo pool di capacità pari a 10x 64 MBps, ovvero 640 MBps con 40.000 (16 K) IOP o 80.000 (8 K) IOP.</block>
  <block id="18dc8b2cbfb938a0ba32c141664fba0e" category="paragraph">La dimensione minima del pool di capacità è 4 TiB.  È possibile modificare le dimensioni di un pool di capacità con incrementi di 1 TiB in risposta alle variazioni dei requisiti del carico di lavoro per gestire le esigenze e i costi di archiviazione.</block>
  <block id="8a26494cf7b0c3c3ca7cd38e89c068eb" category="section-title">3. Calcola il livello di servizio in un volume di database</block>
  <block id="9ce59559a0b99338ee0bad0c153c961a" category="paragraph">Il limite di throughput per un volume di database Oracle è determinato da una combinazione dei seguenti fattori: il livello di servizio del pool di capacità a cui appartiene il volume e la quota assegnata al volume.</block>
  <block id="b87e1c6e437216fc2d3719c3dad93cb8" category="paragraph">Il diagramma seguente mostra come viene calcolato il limite di throughput per un volume di database Oracle.</block>
  <block id="1624b6f83446cd1719c94bae28cbbeb7" category="inline-image-macro">Questa immagine illustra l'equazione applicata ai tre livelli di capacità per determinare la produttività lorda.</block>
  <block id="2b9f85feb56e3ff5f26a18665197efe9" category="paragraph"><block ref="2b9f85feb56e3ff5f26a18665197efe9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ce3321601c29c87cb29ae9817843b8d" category="paragraph">Nell'esempio 1, a un volume di un pool di capacità con livello di archiviazione Premium a cui sono assegnati 2 TiB di quota viene assegnato un limite di throughput di 128 MiBps (2 TiB * 64 MiBps).  Questo scenario si applica indipendentemente dalle dimensioni del pool di capacità o dal consumo di volume effettivo.</block>
  <block id="69da5d3e48cc26414a9177d843bd55d9" category="paragraph">Nell'esempio 2, a un volume di un pool di capacità con livello di archiviazione Premium a cui sono assegnati 100 GiB di quota viene assegnato un limite di throughput di 6,25 MiBps (0,09765625 TiB * 64 MiBps).  Questo scenario si applica indipendentemente dalle dimensioni del pool di capacità o dal consumo di volume effettivo.</block>
  <block id="def2c2ae4fa72ee296eada07b44a0cc9" category="paragraph">Si prega di notare che la dimensione minima del volume è 100 GiB.</block>
  <block id="78ad659ec79d8ee9e7432271167d18d3" category="list-text">Per database di piccole dimensioni, utilizzare il layout a volume singolo per tutti i file Oracle.</block>
  <block id="51672f1f7a65c28f28e5e113376309bd" category="inline-image-macro">Questa immagine mostra tre database (DB1, DB2 e DB3), ognuno dei quali contiene file di dati, log redo, log di archivio e file di controllo, tutti all'interno di un unico pool di capacità.</block>
  <block id="17b01d05a8624b76c9c3e11c01a97fe1" category="paragraph"><block ref="17b01d05a8624b76c9c3e11c01a97fe1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="816445ad7ba016a8c0be293c985f068b" category="list-text">Per i database di grandi dimensioni, il layout del volume consigliato è costituito da più volumi: uno per i dati Oracle e un file di controllo duplicato e uno per il log attivo di Oracle, il log archiviato e il file di controllo.  NetApp consiglia vivamente di allocare un volume per il binario Oracle anziché l'unità locale, in modo che il database possa essere spostato su un nuovo host e ripristinato rapidamente.</block>
  <block id="955db4ecf8716abf17a3ea3f8e113671" category="inline-image-macro">Questa immagine raffigura due database con due volumi ciascuno.  Il primo volume contiene i file di dati, mentre il secondo volume di ciascun database contiene i log redo, i log di archivio e i file di controllo.  Tutto all'interno di un unico bacino di capacità.</block>
  <block id="3db3356640f2324630385dfbbdb66aca" category="paragraph"><block ref="3db3356640f2324630385dfbbdb66aca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="efeaafaa286e164985a0c325f0727cf1" category="paragraph">Linux, il sistema operativo più diffuso, include funzionalità NFS native.  Oracle offre un client NFS diretto (dNFS) integrato nativamente in Oracle.  Oracle dNFS ignora la cache del sistema operativo e consente l'elaborazione parallela per migliorare le prestazioni del database.  Oracle supporta NFSv3 da oltre 20 anni, mentre NFSv4 è supportato da Oracle 12.1.0.2 e versioni successive.</block>
  <block id="be5ef2ba2540e077db09ca784b1ac18f" category="paragraph">Utilizzando dNFS (disponibile a partire da Oracle 11g), un database Oracle in esecuzione su una macchina virtuale di Azure può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  La distribuzione Oracle automatizzata tramite il toolkit di automazione NetApp configura automaticamente dNFS su NFSv3.</block>
  <block id="632bf0b812e05925eff22d7d0a7677c2" category="paragraph">Il diagramma seguente illustra il benchmark SLOB su Azure NetApp Files con Oracle dNFS.</block>
  <block id="08826656fd88155bdfaebbb292320e33" category="inline-image-macro">Questo grafico dimostra in modo significativo che dNFS migliora la latenza dei file sequenziali del DB (ms) rispetto a KNFS.</block>
  <block id="a2503533a9982cdf2864cc90fe439f25" category="paragraph"><block ref="a2503533a9982cdf2864cc90fe439f25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="24019b0d54b5da3a46b400c6a6dfee77" category="paragraph">Per ottenere prestazioni ottimali e prevenire problemi di prestazioni, impostare i parametri del kernel che controllano le tabelle degli slot TCP su 128.</block>
  <block id="754e164c2de7ed1f02667d5f74297a0e" category="list-text">Nella tabella seguente sono riportate le opzioni di montaggio NFS consigliate per una singola istanza di Linux NFSv3.</block>
  <block id="fa7abb28d1b83f9ee23d95aff1d3123b" category="inline-image-macro">Questa tabella mostra le opzioni di montaggio NFS dettagliate per i seguenti tipi di file: file di controllo, file di dati, redo log, ORACLE_HOME e ORACLE_BASE.</block>
  <block id="26a8ec6fc2bf7ef2dbfdef2c7cf0e0f6" category="paragraph"><block ref="26a8ec6fc2bf7ef2dbfdef2c7cf0e0f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="41f2543265fcbcf566ce925409c1bfbb" category="summary">Questa sezione fornisce dettagli su come migrare il database Oracle da locale ad Azure NetApp Files e viceversa.</block>
  <block id="3c2b924258f32094eb64883db57a778a" category="paragraph">In seguito alla decisione di Oracle di eliminare gradualmente i database a istanza singola, molte organizzazioni hanno convertito i database Oracle a istanza singola in database container multitenant.  Ciò consente di trasferire facilmente un sottoinsieme di database container denominato PDB sul cloud con l'opzione di massima disponibilità, riducendo al minimo i tempi di inattività durante la migrazione.</block>
  <block id="a221bb2d4b0b28bb7e9aa40527e36333" category="paragraph">Tuttavia, se si dispone ancora di una singola istanza di un database Oracle, è possibile convertirla prima in un database contenitore multitenant prima di tentare la rilocazione del PDB.</block>
  <block id="3312d9383c6e42558bb6c7ffa86498b5" category="paragraph">Le sezioni seguenti forniscono dettagli sulla migrazione dei database Oracle locali al cloud di Azure in entrambi gli scenari.</block>
  <block id="b65ba7cc82289837e3a44b6025b8a104" category="paragraph">Se si dispone ancora di un database Oracle a istanza singola, è necessario convertirlo in un database contenitore multitenant, indipendentemente dal fatto che si desideri migrarlo sul cloud o meno, perché Oracle smetterà presto di supportare i database a istanza singola.</block>
  <block id="60a4157f0722b484d4ce9ec02662db31" category="paragraph">Le seguenti procedure collegano un singolo database di istanza a un database contenitore come database collegabile o PDB.</block>
  <block id="aefccbe3e9382cbdd83d84fee06a408d" category="list-text">Creare un database contenitore shell sullo stesso host del database a istanza singola in un ambiente separato<block ref="e1f651debac4f720c13ae930ff3ca14a" prefix=" " category="inline-code"></block> .</block>
  <block id="182e093a477c76844c12680be3deb7a4" category="list-text">Arrestare il database a istanza singola e riavviarlo in modalità di sola lettura.</block>
  <block id="48270a516aeb2dd47c2b7f5d897c3182" category="list-text">Esegui il<block ref="707fc638546e97f4dca068fcf2fbe277" prefix=" " category="inline-code"></block> procedura per generare i metadati del database.</block>
  <block id="61c2d2d903cc3e2bc374cc66b3a1572d" category="list-text">Arrestare il database a istanza singola.</block>
  <block id="d0e90ac40083de7010746f1c7afa8680" category="list-text">Avviare il database del contenitore.</block>
  <block id="c9b14b140c5af8df85a71e71e823fcd9" category="list-text">Esegui il<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> funzione per determinare se il non-CDB è compatibile con il CDB.</block>
  <block id="b4579eff709cfd4a9e9d9b3c7823a470" category="paragraph">Se l'output è SÌ, il file non-CDB è compatibile e puoi procedere con il passaggio successivo.</block>
  <block id="b788542aadbeda07cae67fad51f01ecf" category="paragraph">Se l'output è NO, allora il non-CDB non è compatibile e puoi controllare<block ref="40bcd9431704d488bfba8de25bdd0469" prefix=" " category="inline-code"></block> visualizza per vedere perché non è compatibile.  Tutte le violazioni devono essere corrette prima di continuare.  Ad esempio, eventuali incongruenze di versione o patch dovrebbero essere risolte eseguendo un aggiornamento o l'utilità opatch.  Dopo aver corretto le violazioni, eseguire<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> ancora una volta per garantire che il non-CDB sia compatibile con il CDB.</block>
  <block id="3dc81f6d88ee2f38ca30676e4b371634" category="list-text">Inserire la singola istanza non-CDB.</block>
  <block id="10a9ce9a6e151e6ff04bee976e0cb1de" category="admonition">Se non c'è spazio sufficiente sull'host, il<block ref="4777c7eb130280b37f5b4b3abde7c586" prefix=" " category="inline-code"></block> L'opzione può essere utilizzata per creare il PDB.  In tal caso, un non-CDB a istanza singola non è utilizzabile dopo il plug-in come PDB perché i file di dati originali sono stati utilizzati per il PDB.  Assicuratevi di creare un backup prima della conversione, in modo da avere un punto di riferimento nel caso in cui qualcosa vada storto.</block>
  <block id="03d9f2c68151dce9edd03b346e5b110c" category="list-text">Avviare l'aggiornamento del PDB dopo la conversione se la versione tra il CDB non-CDB di origine a istanza singola e il CDB di destinazione è diversa.  Per la conversione della stessa versione, questo passaggio può essere saltato.</block>
  <block id="81954d0087f2bc7590c39792b2d3ff79" category="paragraph">Esaminare il file di registro dell'aggiornamento nel<block ref="8940bd010306ed7bc730469a2815003c" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="65f9a981d9b9caaa37a227c9d787c280" category="list-text">Aprire il database collegabile, verificare la presenza di violazioni del plug-in pdb e ricompilare gli oggetti non validi.</block>
  <block id="f4d5586e12195159e664b1f0a78cccd3" category="list-text">Eseguire<block ref="30636d635a272a80dff68679e08f1c7a" prefix=" " category="inline-code"></block> per aggiornare il dizionario dei dati.</block>
  <block id="182d7c995640cc8ef16b728a670fbe58" category="paragraph">Arrestare e riavviare il database del contenitore.  Il ncdb viene disattivato dalla modalità limitata.</block>
  <block id="d6af386b8be94481db3de6778b3fc24a" category="section-title">Migrazione di database Oracle locali su Azure con rilocazione PDB</block>
  <block id="8ba045e8292f88863e71268ec6dabc53" category="paragraph">La rilocazione di Oracle PDB con l'opzione di massima disponibilità utilizza la tecnologia di clonazione a caldo del PDB, che consente la disponibilità del PDB sorgente mentre il PDB viene copiato sulla destinazione.  Al momento del passaggio, le connessioni utente vengono reindirizzate automaticamente al PDB di destinazione.  In questo modo, i tempi di inattività vengono ridotti al minimo, indipendentemente dalle dimensioni del PDB.  NetApp fornisce un toolkit basato su Ansible che automatizza la procedura di migrazione.</block>
  <block id="a8efacce1c06e5f64504448dec25740a" category="list-text">Creare un CDB nel cloud pubblico di Azure su una macchina virtuale di Azure con la stessa versione e lo stesso livello di patch.</block>
  <block id="0f09a4e81820f79a89d0b433bb0de6ca" category="list-text">Dal controller Ansible, clonare una copia del toolkit di automazione.</block>
  <block id="33abd0ac6a3fb7ef8c104725e8360e85" category="list-text">Leggere le istruzioni nel file README.</block>
  <block id="59082266ab8171963eb8785041055ee1" category="list-text">Configurare i file delle variabili host Ansible per i server Oracle di origine e di destinazione e il file di configurazione dell'host del server DB per la risoluzione dei nomi.</block>
  <block id="166811e58fa2fd17b3ab3305ca4b1948" category="list-text">Installare i prerequisiti del controller Ansible sul controller Ansible.</block>
  <block id="e40dd1f176a77cef20eb421dee4fea9f" category="list-text">Eseguire tutte le attività di pre-migrazione sul server locale.</block>
  <block id="aba7f3209eb8c49aca729c7368fb42fe" category="admonition">L'utente admin è l'utente di gestione sull'host del server Oracle locale con privilegi sudo.  L'utente amministratore viene autenticato con una password.</block>
  <block id="a1da14dd2e192d36a7fe7bae327c2b23" category="list-text">Eseguire la rilocazione di Oracle PDB dall'host locale all'host Azure Oracle di destinazione.</block>
  <block id="39f1871870cabd138bd313c450662e67" category="admonition">Il controller Ansible può essere installato in locale o nel cloud di Azure.  Il controller necessita di connettività all'host del server Oracle locale e all'host della macchina virtuale Oracle di Azure.  La porta del database Oracle (ad esempio 1521) è aperta tra l'host del server Oracle locale e l'host della VM Oracle di Azure.</block>
  <block id="63a48a0f7ee4b39ef32c11b92acc2baa" category="section-title">Ulteriori opzioni di migrazione del database Oracle</block>
  <block id="7619081ba13aebf0c83d5660f9bf01bb" category="inline-link-macro">Processo decisionale per la migrazione del database Oracle</block>
  <block id="0257ad9cf0c221fcf0c611f835c027ca" category="paragraph">Per ulteriori opzioni di migrazione, consultare la documentazione Microsoft:<block ref="421a85ebca6e289a6eff559e7e35faf8" category="inline-link-macro-rx"></block> .</block>
  <block id="cf2fb9f52eae11aaa1b6818cc22ade30" category="section-title">Distribuisci una VM di Azure con ANF per Oracle tramite la console del portale di Azure</block>
  <block id="5e89dc82cb54763baa7cece42e7c3189" category="paragraph">Se non hai familiarità con Azure, devi prima configurare un ambiente account Azure.  Ciò include la registrazione della tua organizzazione per utilizzare Azure Active Directory.  La sezione seguente è un riepilogo di questi passaggi.  Per maggiori dettagli, consultare la documentazione specifica di Azure collegata.</block>
  <block id="c743c9c56cd6cc2acf874405ef178af3" category="section-title">Crea e consuma risorse di Azure</block>
  <block id="cc59653114a0ca329e90c87f8de8f2da" category="paragraph">Dopo aver configurato l'ambiente Azure e creato un account e associato a una sottoscrizione, è possibile accedere al portale di Azure con l'account per creare le risorse necessarie per eseguire Oracle.</block>
  <block id="4848dfd418cc69fdc8a92da472ac41b8" category="section-title">1. Creare una rete virtuale o VNet</block>
  <block id="dd587303db328c6fc30f15fbf133eade" category="paragraph">Azure Virtual Network (VNet) è l'elemento fondamentale per la tua rete privata in Azure.  VNet consente a molti tipi di risorse di Azure, come le macchine virtuali (VM) di Azure, di comunicare in modo sicuro tra loro, con Internet e con le reti locali.  Prima di effettuare il provisioning di una VM di Azure, è necessario configurare una rete virtuale (VNet) in cui viene distribuita la VM.</block>
  <block id="2b9029fce84bbf7056c94e4b86015679" category="inline-link-macro">Creare una rete virtuale utilizzando il portale di Azure</block>
  <block id="698a842fc17e080abbf6b6796628879b" category="paragraph">Vedere<block ref="f497c9708f9505977884a23053323735" category="inline-link-macro-rx"></block> per creare una rete virtuale.</block>
  <block id="66d98f4e89afee6dc557332b0e9ebe43" category="section-title">2. Creare un account di archiviazione NetApp e un pool di capacità per ANF</block>
  <block id="fecd60b0aedf111caefb4cf98b8d7be5" category="paragraph">In questo scenario di distribuzione, il sistema operativo di una macchina virtuale di Azure viene predisposto utilizzando l'archiviazione di Azure standard, ma i volumi ANF vengono predisposti per eseguire il database Oracle tramite NFS.  Per prima cosa, è necessario creare un account di archiviazione NetApp e un pool di capacità per ospitare i volumi di archiviazione.</block>
  <block id="76dc01e3f39d83b88a3d3ad36c338654" category="inline-link-macro">Configurare Azure NetApp Files e creare un volume NFS</block>
  <block id="8a57d5f988c678cd141c2f704e110472" category="paragraph">Vedere<block ref="2337ae471c0cc5402cdba65ad3b4dc78" category="inline-link-macro-rx"></block> per istituire un pool di capacità ANF.</block>
  <block id="ed39ba49be7769bdf483ae876d88cdff" category="section-title">3. Provisioning di VM di Azure per Oracle</block>
  <block id="acb4908e71af4ce0945c90f9039d0fc2" category="paragraph">In base al carico di lavoro, determina il tipo di VM di Azure di cui hai bisogno e le dimensioni della vCPU e della RAM della VM da distribuire per Oracle.  Quindi, dalla console di Azure, fare clic sull'icona della macchina virtuale per avviare il flusso di lavoro di distribuzione della macchina virtuale.</block>
  <block id="20d1e12ba2a72916f3917e44ff29b40a" category="list-text">Nella pagina Azure VM, fare clic su *Crea* e quindi scegliere *Macchina virtuale di Azure*.</block>
  <block id="94f088d23454b3c408a17cfff3cb8989" category="inline-image-macro">Questa schermata mostra l'elenco delle VM di Azure disponibili.</block>
  <block id="8c5cf454eabef1850ea0ffb2653a77c6" category="paragraph"><block ref="8c5cf454eabef1850ea0ffb2653a77c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78ba4b8df4acae5536f056217b16c353" category="list-text">Selezionare l'ID di sottoscrizione per la distribuzione, quindi scegliere il gruppo di risorse, la regione, il nome host, l'immagine della VM, le dimensioni e il metodo di autenticazione.  Vai alla pagina Disco.</block>
  <block id="cbbcba216ab68f94c8fab62d9c907a00" category="inline-image-macro">Questa schermata mostra l'input per la pagina Crea una macchina virtuale.</block>
  <block id="825d4c0973e48f04ab75cc30df85bbdc" category="inline-image-macro">Questa schermata mostra input aggiuntivi per la pagina Crea una macchina virtuale.</block>
  <block id="1da34b0dc20dafeba216b1017d6c0cdc" category="paragraph"><block ref="d343b3f21a3b8445ef0630fc7fd303c4" category="inline-image-macro-rx" type="image"></block> <block ref="55fdb72bee907ff2263eb8949e6ebba9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c435f9a03a03e7cff44b06c9efafa31" category="list-text">Scegli *SSD premium* per la ridondanza locale del sistema operativo e lascia il disco dati vuoto perché i dischi dati vengono montati dall'archiviazione ANF.  Vai alla pagina Networking.</block>
  <block id="04faa74bfe9ea34a9831d24d039dc159" category="inline-image-macro">Questa schermata mostra l'input per la pagina Crea dischi macchina virtuale.</block>
  <block id="7670b911047caf1456c4e5a1cdea2099" category="paragraph"><block ref="7670b911047caf1456c4e5a1cdea2099" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c5742f2bffff7dd4a50e578bfb093b" category="list-text">Selezionare la rete virtuale e la subnet.  Assegna un IP pubblico per l'accesso alla VM esterna.  Quindi vai alla pagina Gestione.</block>
  <block id="0c0077e9a9d4700a64e70d30e9d110df" category="inline-image-macro">Questa schermata mostra ulteriori input per la pagina Crea una macchina virtuale.</block>
  <block id="4b018590f08f314594692835596b90aa" category="paragraph"><block ref="4b018590f08f314594692835596b90aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d5e4bb7568c6e8fb6a1f49aea08e975" category="list-text">Mantenere tutte le impostazioni predefinite per Gestione e passare alla pagina Avanzate.</block>
  <block id="45291c6293e8de1084c3b8de71bfe120" category="inline-image-macro">Questa schermata mostra l'input per la pagina di gestione Crea una macchina virtuale.</block>
  <block id="db42c8205ca730413e7d4b544635768b" category="paragraph"><block ref="db42c8205ca730413e7d4b544635768b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22b5d3beb0289dfe21618d5664538321" category="list-text">Mantenere tutte le impostazioni predefinite per la pagina Avanzate, a meno che non sia necessario personalizzare una VM dopo la distribuzione con script personalizzati.  Quindi vai alla pagina Tag.</block>
  <block id="1a911a2f1237ad150a29236bcfe044a0" category="inline-image-macro">Questa schermata mostra l'input per la pagina Crea una macchina virtuale avanzata.</block>
  <block id="7b193f52167fe62720e1191e3efa2f05" category="paragraph"><block ref="7b193f52167fe62720e1191e3efa2f05" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46dfe2059392afeb84a872afb7cd09d5" category="list-text">Se lo si desidera, aggiungere un tag per la VM.  Quindi, vai alla pagina Revisione + creazione.</block>
  <block id="85e3843de649be49b63e3b04c6887bcd" category="inline-image-macro">Questa schermata mostra l'input per la pagina Crea tag macchina virtuale.</block>
  <block id="1965d4b328b0678fe742226c1592b886" category="paragraph"><block ref="1965d4b328b0678fe742226c1592b886" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57a6346e9ebfe8164361d5e2facffb62" category="list-text">Il flusso di lavoro di distribuzione esegue una convalida sulla configurazione e, se la convalida ha esito positivo, fare clic su *Crea* per creare la VM.</block>
  <block id="dec1fd75845506029d8751bb7979c797" category="inline-image-macro">"Questa schermata mostra l'input per la revisione e la creazione della pagina Crea una macchina virtuale".</block>
  <block id="2f823056bdc8319f09d63c5d35397828" category="paragraph"><block ref="2f823056bdc8319f09d63c5d35397828" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c18c3fe2e695bda0cb8b3e7ecccbdc4e" category="section-title">4. Fornire volumi di database ANF per Oracle</block>
  <block id="f162c2b2b89920293c1f24ac435c520e" category="paragraph">È necessario creare tre volumi NFS per un pool di capacità ANF rispettivamente per i volumi binario, dati e log di Oracle.</block>
  <block id="09d8c19d5844128b31e1fa195808b215" category="list-text">Dalla console di Azure, nell'elenco dei servizi di Azure, fare clic su Azure NetApp Files per aprire un flusso di lavoro per la creazione di volumi.  Se si dispone di più di un account di archiviazione ANF, fare clic sull'account da cui si desidera effettuare il provisioning dei volumi.</block>
  <block id="733cf6b848c8e38a49b4b604225141a5" category="inline-image-macro">Questa schermata mostra la pagina Servizi di Azure, con ANF evidenziato.</block>
  <block id="5c9f9e2ae2dd3406b2c3ed99714481d1" category="paragraph"><block ref="5c9f9e2ae2dd3406b2c3ed99714481d1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8972cd5a80e6e385a27023ce45537a9" category="list-text">Nel tuo account di archiviazione NetApp , fai clic su *Volumi*, quindi su *Aggiungi volume* per creare nuovi volumi Oracle.</block>
  <block id="c8ce9170654447aba6747494e61bf3a2" category="inline-image-macro">Questa schermata mostra la schermata di destinazione per un account di archiviazione NetApp .</block>
  <block id="b0d2d575f2aee1703b6e2896d43b72f9" category="inline-image-macro">Questa schermata mostra i volumi disponibili per l'account di archiviazione NetApp .</block>
  <block id="27c5f8d8117616b1145ce68857574d45" category="paragraph"><block ref="be9f79088d942996d006cfa074f5385e" category="inline-image-macro-rx" type="image"></block> <block ref="2c16e3955ad0449ac72b48cd76a3cf75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbeaec71dc2b8275a14b23283d51cc04" category="list-text">Come buona pratica, identificare i volumi Oracle con il nome host della VM come prefisso, seguito dal punto di montaggio sull'host, ad esempio u01 per il binario Oracle, u02 per i dati Oracle e u03 per il registro Oracle.  Scegliere la stessa VNet per il volume e per la VM.  Fare clic su *Avanti: Protocollo&gt;*.</block>
  <block id="ce4ff1bdb6d954e6967a7c241ff89518" category="inline-image-macro">Schermata di creazione del volume.</block>
  <block id="3d982f5483fec64974322b41c9939c41" category="paragraph"><block ref="3d982f5483fec64974322b41c9939c41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b50bdcda066df8ed373847c60bc2f546" category="list-text">Selezionare il protocollo NFS, aggiungere l'indirizzo IP dell'host Oracle al client consentito e rimuovere la policy predefinita che consente tutti gli indirizzi IP 0.0.0.0/0.  Quindi fare clic su *Avanti: Tag&gt;*.</block>
  <block id="f8bc211f91c2b350b268959a57418393" category="inline-image-macro">Immissione del protocollo nella schermata di creazione del volume.</block>
  <block id="2e72ba5a8e99432be226f3c8010a796c" category="paragraph"><block ref="2e72ba5a8e99432be226f3c8010a796c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fffcdc9cd5233d4718046c8f6d19c80b" category="list-text">Se lo si desidera, aggiungere un tag volume.  Quindi fare clic su *Revisiona + Crea&gt;*.</block>
  <block id="05864b350d713935d13966f3c8fcbcd7" category="inline-image-macro">Inserimento dei tag nella schermata di creazione del volume.</block>
  <block id="c24d8e027538479bd8224eaad667feae" category="paragraph"><block ref="c24d8e027538479bd8224eaad667feae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e574c0c875926f1fe654026995f3543" category="list-text">Se la convalida ha esito positivo, fare clic su *Crea* per creare il volume.</block>
  <block id="4a585922412f050ac4a7fbcc34a2655b" category="inline-image-macro">Fase di revisione e creazione della schermata di creazione del volume.</block>
  <block id="1b0924565a7b6db6820b4bf3dec72aaa" category="paragraph"><block ref="1b0924565a7b6db6820b4bf3dec72aaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d2dbc217706d8bb1248bc209e0ab9da" category="section-title">Installa e configura Oracle su Azure VM con ANF</block>
  <block id="7beaf3d9487c79b7245a1d9ae42d46aa" category="paragraph">Il team di soluzioni NetApp ha creato numerosi toolkit di automazione basati su Ansible per aiutarti a distribuire Oracle in Azure senza problemi.  Per distribuire Oracle su una macchina virtuale di Azure, seguire questi passaggi.</block>
  <block id="0c782f45b1de4e6d016eafeeb60d286f" category="section-title">Impostare un controller Ansible</block>
  <block id="41532ec0bce440e4eaf71b75b5f03284" category="paragraph">Se non hai configurato un controller Ansible, vedi<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block> , che contiene istruzioni dettagliate su come configurare un controller Ansible.</block>
  <block id="ce9ef6052d2c6ac4b97c01049ee4ec2b" category="section-title">Ottieni il toolkit di automazione della distribuzione Oracle</block>
  <block id="52eae91ee8ea917bc73df6d9f1792469" category="paragraph">Clona una copia dell'Oracle Distribution Toolkit nella tua directory home con l'ID utente che utilizzi per accedere al controller Ansible.</block>
  <block id="19cd6e3dfb797a7325548b346dc358f1" category="section-title">Eseguire il toolkit con la propria configurazione</block>
  <block id="98f609c421f8172f6df79c8e630eb3e0" category="paragraph">Vedi il<block ref="6ac1394093c86e2516997ffd90247387" category="inline-link-macro-rx"></block> per eseguire il playbook con la CLI.  È possibile ignorare la parte ONTAP della configurazione delle variabili nel file VARS globale quando si creano volumi di database dalla console di Azure anziché dalla CLI.</block>
  <block id="24e16cc700e2ced028e529370af380e1" category="admonition">Per impostazione predefinita, il toolkit distribuisce Oracle 19c con RU 19.8.  Può essere facilmente adattato a qualsiasi altro livello di patch apportando piccole modifiche alla configurazione predefinita.  Anche i file di registro attivi del database seed predefiniti vengono distribuiti nel volume dati.  Se sono necessari file di registro attivi sul volume di registro, è necessario spostarli dopo la distribuzione iniziale.  Se necessario, contatta il team NetApp Solution per ricevere assistenza.</block>
  <block id="dd52a71d2066e527d28efdbd46784e07" category="section-title">Configurare lo strumento di backup AzAcSnap per snapshot coerenti con l'app per Oracle</block>
  <block id="211e60df4f320c617afaa9a96f62758f" category="paragraph">Lo strumento Azure Application-Consistent Snapshot (AzAcSnap) è uno strumento da riga di comando che consente la protezione dei dati per database di terze parti gestendo tutta l'orchestrazione necessaria per portarli in uno stato coerente con l'applicazione prima di acquisire uno snapshot di archiviazione.  Quindi riporta questi database a uno stato operativo.  NetApp consiglia di installare lo strumento sull'host del server del database.  Vedere le seguenti procedure di installazione e configurazione.</block>
  <block id="40390144ce134a2e38bfef9f590f867b" category="section-title">Installa lo strumento AzAcSnap</block>
  <block id="c2d834909e264a2f3bf3d3facd27740b" category="inline-link-macro">il programma di installazione AzArcSnap</block>
  <block id="aed9be57adbc2906c27b7f325e1322aa" category="list-text">Ottieni la versione più recente del<block ref="696590d44d21e9b71649cae0895a0bca" category="inline-link-macro-rx"></block> .</block>
  <block id="243004130aa732bde904924170fa2e5c" category="list-text">Copiare il programma di installazione automatica scaricato sul sistema di destinazione.</block>
  <block id="1aa45c54511185e4e2043ee91e8969bc" category="list-text">Eseguire l'autoinstallante come utente root con l'opzione di installazione predefinita.  Se necessario, rendere il file eseguibile utilizzando il<block ref="48c01707d676030dd223de543c6beb09" prefix=" " category="inline-code"></block> comando.</block>
  <block id="483944250a0e1f955ad6fec7c6578bde" category="section-title">Configurare la connettività Oracle</block>
  <block id="b6f7df8a3ada5b45cee3400740b83c9a" category="paragraph">Gli strumenti di snapshot comunicano con il database Oracle e necessitano di un utente del database con autorizzazioni appropriate per abilitare o disabilitare la modalità di backup.</block>
  <block id="6cd11918e51f60b6ce021e9d56c9e74a" category="section-title">1. Imposta l'utente del database AzAcSnap</block>
  <block id="84fe6666ea577b7ede5c61912d97705e" category="paragraph">Gli esempi seguenti mostrano la configurazione dell'utente del database Oracle e l'utilizzo di sqlplus per la comunicazione con il database Oracle.  I comandi di esempio impostano un utente (AZACSNAP) nel database Oracle e modificano l'indirizzo IP, i nomi utente e le password come appropriato.</block>
  <block id="342df2b2fb63c81cdd53e5e7bc5d00b9" category="list-text">Dall'installazione del database Oracle, avviare sqlplus per accedere al database.</block>
  <block id="ab0840eee4ba613870ae404c907c1948" category="list-text">Crea l'utente.</block>
  <block id="e90b9dc19df07f784e3fc408169077df" category="list-text">Concedi i permessi all'utente.  Questo esempio imposta l'autorizzazione per l'utente AZACSNAP per abilitare l'attivazione della modalità di backup del database.</block>
  <block id="f508d634fc1aa5df7fed84e6b58afce9" category="list-text">Modificare la scadenza predefinita della password dell'utente in illimitata.</block>
  <block id="bc5fff092e99ce3d1966b94061cb5953" category="list-text">Convalidare la connettività azacsnap per il database.</block>
  <block id="8e0d0fb1cb3a50066ecd397700dfd22e" category="section-title">2. Configurare l'utente Linux azacsnap per l'accesso al DB con Oracle Wallet</block>
  <block id="7140a904f4b795616fdc3c3efbdcd066" category="paragraph">L'installazione predefinita di AzAcSnap crea un utente del sistema operativo azacsnap.  L'ambiente shell Bash deve essere configurato per l'accesso al database Oracle con la password memorizzata in un portafoglio Oracle.</block>
  <block id="c54cf7bb99b0e669ce6dc05ec8272470" category="list-text">Come utente root, eseguire il comando<block ref="760381f8107a856bc583301b7b272917" prefix=" " category="inline-code"></block> comando per identificare le variabili ORACLE_HOME e ORACLE_SID sull'host.</block>
  <block id="2a4941dc3f20c8f34a09b066691e66a5" category="list-text">Aggiungere le variabili ORACLE_HOME, ORACLE_SID, TNS_ADMIN e PATH al profilo bash dell'utente azacsnap.  Modificare le variabili secondo necessità.</block>
  <block id="e3c85fad3d30c470aac355430e98dc21" category="list-text">Come utente Linux azacsnap, crea il portafoglio.  Ti verrà richiesta la password del portafoglio.</block>
  <block id="83617bd12022f2dd9ba94816c7e56670" category="list-text">Aggiungere le credenziali della stringa di connessione a Oracle Wallet.  Nel seguente comando di esempio, AZACSNAP è la ConnectString che verrà utilizzata da AzAcSnap, azacsnap è l'utente del database Oracle e AzPasswd1 è la password del database dell'utente Oracle.  Ti verrà nuovamente richiesta la password del portafoglio.</block>
  <block id="02f08719de6240015b4e67725107792a" category="list-text">Crea il<block ref="9de875b13677cf9b036a438bf9aedf5c" prefix=" " category="inline-code"></block> file.  Nel seguente comando di esempio, HOST deve essere impostato sull'indirizzo IP del database Oracle e il SID del server deve essere impostato sul SID del database Oracle.</block>
  <block id="0eec77cc5ed96c42afb08c83ea3f1e3b" category="list-text">Crea il<block ref="0501c2d94325e267bf15055591fb8157" prefix=" " category="inline-code"></block> file.</block>
  <block id="cafefcc0e796f3e73bc39de23dfc6b68" category="list-text">Testare l'accesso a Oracle utilizzando il portafoglio.</block>
  <block id="5fe36f3a6d3cc4a34d1f045b7cd14ac3" category="paragraph">L'output previsto dal comando:</block>
  <block id="54eb020b97d7e8a9f56d67e93754e270" category="section-title">Configurare la connettività ANF</block>
  <block id="8c9356aaf30e863db064ba22b7d4b204" category="paragraph">Questa sezione spiega come abilitare la comunicazione con Azure NetApp Files (con una macchina virtuale).</block>
  <block id="d78964ac0334c0f69ef24aada9864028" category="list-text">All'interno di una sessione di Azure Cloud Shell, assicurati di aver effettuato l'accesso alla sottoscrizione che desideri associare all'entità servizio per impostazione predefinita.</block>
  <block id="8611ff0fcccf2f05ff0dbde909379c14" category="list-text">Se l'abbonamento non è corretto, utilizzare il seguente comando:</block>
  <block id="2d66e076b40e24c73ffa7a1704d985db" category="list-text">Creare un'entità servizio utilizzando l'interfaccia della riga di comando di Azure come nell'esempio seguente:</block>
  <block id="707cc085819c641d15b9ea2b3b13cb53" category="paragraph">Il risultato atteso:</block>
  <block id="c51a1e8c830ed4f63c489347dbcce1a7" category="list-text">Taglia e incolla il contenuto di output in un file chiamato<block ref="b50999884a39c5efe8da46cd87acfeb2" prefix=" " category="inline-code"></block> memorizzato nella directory bin dell'utente Linux azacsnap e proteggere il file con le autorizzazioni di sistema appropriate.</block>
  <block id="211f39ae9cd979a9f01bb800eca0b832" category="admonition">Assicuratevi che il formato del file JSON sia esattamente come descritto sopra, in particolare con gli URL racchiusi tra virgolette doppie (").</block>
  <block id="c1f6adfa882cba0dbd256d4909ac588c" category="section-title">Completa la configurazione dello strumento AzAcSnap</block>
  <block id="e0e7b63ff02eb3221940162934949dd0" category="paragraph">Per configurare e testare gli strumenti snapshot, seguire questi passaggi.  Dopo aver completato con successo il test, è possibile eseguire il primo snapshot di archiviazione coerente con il database.</block>
  <block id="fe615094ac9bb468d26149280e3769d7" category="list-text">Passare all'account utente snapshot.</block>
  <block id="4ef9af49185e683998d060aa71c30e2b" category="list-text">Cambia la posizione dei comandi.</block>
  <block id="412d274adbc3fc7cb51ab315d7a77f82" category="list-text">Configurare un file di dettagli per il backup dell'archiviazione.  Questo crea un<block ref="8ed8c6bfea85d72bc4a36772490109c7" prefix=" " category="inline-code"></block> file di configurazione.</block>
  <block id="d4c18f094b4959d27f52ee2a9709a6b9" category="paragraph">Output previsto con tre volumi Oracle:</block>
  <block id="72b0a1cda785576a979ca4ee2e3c8c62" category="list-text">Come utente Linux azacsnap, eseguire il comando azacsnap test per un backup di Oracle.</block>
  <block id="7be23e8f29bfc799fd8fbcdc55fe0e77" category="list-text">Esegui il tuo primo backup snapshot.</block>
  <block id="c61bde3125ecb64e4b84664b7b602512" category="summary">Questa guida alle best practice fornisce i dettagli di una soluzione per la distribuzione e la migrazione del database Oracle su Azure NetApp File Storage e Azure VM.</block>
  <block id="8a70737cbbacb33fdb8f99eff63d5441" category="doc">TR-4954: Best practice per la distribuzione e la migrazione del database Oracle per ANF</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Panoramica</block>
  <block id="b2bd5134cf9b573edd93cbfe6ee4559d" category="paragraph">Molti database aziendali Oracle di importanza critica sono ancora ospitati in locale e molte aziende stanno cercando di migrare questi database Oracle su un cloud pubblico.  Spesso questi database Oracle sono incentrati sulle applicazioni e quindi richiedono configurazioni specifiche per l'utente, una capacità che manca in molte offerte di database-as-a-service su cloud pubblico.  Pertanto, l'attuale panorama dei database richiede una soluzione di database Oracle basata su cloud pubblico, realizzata a partire da un servizio di elaborazione e archiviazione scalabile e ad alte prestazioni, in grado di soddisfare requisiti specifici.  Le istanze di calcolo delle macchine virtuali di Azure e il servizio di archiviazione Azure NetApp Files potrebbero essere i pezzi mancanti di questo puzzle che puoi sfruttare per creare e migrare i carichi di lavoro del tuo database Oracle mission-critical su un cloud pubblico.</block>
  <block id="ca1f43ed95dcff37918897f15b054794" category="section-title">Macchina virtuale di Azure</block>
  <block id="e3247bf98cee6a48e2210749d0b7ab2d" category="paragraph">Le macchine virtuali di Azure sono uno dei vari tipi di risorse di elaborazione scalabili e on-demand offerte da Azure.  In genere, si sceglie una macchina virtuale quando si ha bisogno di un controllo maggiore sull'ambiente informatico rispetto alle altre opzioni.  Le macchine virtuali di Azure offrono un modo semplice e veloce per creare un computer con le configurazioni specifiche necessarie per eseguire il database Oracle, sia per carichi di lavoro ad alta intensità di elaborazione che di memoria.  Le macchine virtuali in una rete virtuale di Azure possono essere facilmente connesse alla rete della tua organizzazione, ad esempio tramite un tunnel VPN protetto.</block>
  <block id="8f53b5241aa3284f9058318dcbc2504d" category="section-title">Azure NetApp Files (ANF)</block>
  <block id="466d154dd31c873c4a2fd7113dc6b818" category="paragraph">Azure NetApp Files è un servizio Microsoft completamente gestito che trasferirà il carico di lavoro del tuo database nel cloud in modo più rapido e sicuro che mai.  È stato progettato per soddisfare i requisiti fondamentali dell'esecuzione di carichi di lavoro ad alte prestazioni, come i database Oracle nel cloud, e fornisce livelli di prestazioni che riflettono la gamma reale di richieste IOPS, bassa latenza, elevata disponibilità, elevata durabilità, gestibilità su larga scala e backup, ripristino e clonazione rapidi ed efficienti.  Queste funzionalità sono possibili perché Azure NetApp Files si basa su sistemi fisici NetApp ONTAP all-flash in esecuzione nell'ambiente del data center di Azure.  Azure NetApp Files è completamente integrato nei DC e nel portale di Azure e i clienti possono utilizzare la stessa comoda interfaccia grafica e le stesse API per creare e gestire file condivisi come con qualsiasi altro oggetto di Azure.  Con Azure NetApp File puoi sfruttare tutte le funzionalità di Azure senza rischi, costi o tempi aggiuntivi e affidarti all'unico servizio file aziendale nativo di Azure.</block>
  <block id="30106aaa3e986f62cbb327f935569bca" category="inline-link-macro">Database Oracle su Microsoft Azure</block>
  <block id="bdb41d103336edebf957f48add0f3554" category="inline-link-macro">NetApp- Automazione</block>
  <block id="b3013ddda19ca14bf0c11f196dff4a57" category="paragraph">Questa documentazione descrive in dettaglio come distribuire, configurare e migrare un database Oracle con una macchina virtuale di Azure e un servizio di archiviazione Azure NetApp Files che offre prestazioni e durabilità simili a quelle di un sistema locale.  Per indicazioni sulle migliori pratiche, vedere TR-4780<block ref="43d70d3cb7600babfb5820086b5480b6" category="inline-link-macro-rx"></block> .  Ancora più importante, NetApp fornisce anche toolkit di automazione che automatizzano la maggior parte delle attività necessarie per la distribuzione, la configurazione, la protezione dei dati, la migrazione e la gestione del carico di lavoro del database Oracle nel cloud pubblico di Azure.  I toolkit di automazione sono disponibili per il download sul sito GitHub pubblico NetApp :<block ref="1b9adaed0e4ba13a6d8f6edc7ab8f2d8" category="inline-link-macro-rx"></block> .</block>
  <block id="466e75a50b0c71805b14d8243bd95d89" category="summary">La soluzione fornisce un utile toolkit per dimensionare l'elaborazione e l'archiviazione per la distribuzione Oracle su ANF nel cloud di Azure</block>
  <block id="785f4ba8d55db20dc724a60afc28f84a" category="doc">Guida al dimensionamento di Oracle per i Azure NetApp Files</block>
  <block id="20b809a3f4824b521376cfc292ddd483" category="paragraph">Questa soluzione fornisce un utile toolkit per dimensionare l'elaborazione e l'archiviazione per la distribuzione Oracle su ANF nel cloud Azure.</block>
  <block id="ed5766f3cdc3adad7995cc81f0248354" category="paragraph">Per spostare un carico di lavoro Oracle esistente da una piattaforma all'altra, ad esempio da locale a cloud pubblico, è necessario dimensionare le risorse di elaborazione e archiviazione nella piattaforma di destinazione per soddisfare i requisiti di prestazioni e livello di servizio.  Questa documentazione illustra un semplice toolkit per raggiungere tale obiettivo.</block>
  <block id="878511663b5526e80590b1e795eb9060" category="paragraph">A differenza di una nuova applicazione di database, che può crescere nel tempo, un carico di lavoro Oracle esistente ha modelli di carico di lavoro consolidati nei requisiti di elaborazione e archiviazione, che vengono registrati in un Oracle Workload Repository o AWR.  Questo toolkit utilizza un parser HTML per recuperare informazioni rilevanti da Oracle AWR.  I risultati sono integrati da informazioni aggiuntive sulle dimensioni ottenute tramite script SQL sul database per fornire indicazioni significative su elaborazione e archiviazione durante lo spostamento del database Oracle.</block>
  <block id="e7f0bfd3895df86bb57d400fdbd480eb" category="list-text">Fornire indicazioni sul dimensionamento del server di database Oracle durante lo spostamento del database da locale al cloud Microsoft Azure.</block>
  <block id="4c5bd28bfdb3c1a3ec92f8604e5aacaa" category="list-text">Fornire indicazioni sul dimensionamento dello storage del server di database Oracle quando si trasferisce il database da locale a Microsoft Azure NetApp Files.</block>
  <block id="d6d4c06619c0b547d4b3329d35ce5f1d" category="list-text">Un DBA che gestisce database Oracle in data center privati locali o in un ambiente cloud Microsoft Azure.</block>
  <block id="0028d1ecc06926cad9bf6ed3e97d0582" category="list-text">Un amministratore di storage che gestisce lo storage locale o lo storage Microsoft Azure NetApp Files che supporta i database Oracle.</block>
  <block id="24533dfc47add8f8960eaaf1f7ab538f" category="list-text">Un proprietario di applicazioni che desidera migrare il database Oracle da locale al cloud Microsoft Azure.</block>
  <block id="398393a6740417ed0a5020cc6382706c" category="paragraph">Accedendo, scaricando, installando o utilizzando il contenuto di questo repository di toolkit, accetti i termini della licenza stabiliti in<block ref="62d065fbd7084423125af257eab414b9" category="inline-link-macro-rx"></block> .</block>
  <block id="1d7ed3a0dc5ae98ed34a1698c0936087" category="admonition">Esistono alcune restrizioni relative alla produzione e/o alla condivisione di lavori derivati dai contenuti di questo repository di toolkit.  Prima di utilizzare il contenuto, assicurati di leggere i termini della licenza.  Se non accetti tutti i termini, non accedere, scaricare o utilizzare i contenuti di questo repository.</block>
  <block id="a9434144b2ecab8a1551aa3f356831a4" category="list-text">Report Oracle AWR che catturano gli snapshot delle attività del database durante i picchi di carico di lavoro dell'applicazione.</block>
  <block id="09893c03681f0427847775f074f38963" category="list-text">Accesso al database Oracle per eseguire script SQL con privilegi DBA.</block>
  <block id="97b8f9378711f0d69311d576b1f4a080" category="inline-link-macro">Guida alle dimensioni di Oracle per ANF</block>
  <block id="d61fd641d504e6b15572a5b645d11d7d" category="paragraph">Recupera il toolkit dal repository<block ref="9d80dd73d3a7a092e6605ac547074b0f" category="inline-link-macro-rx"></block></block>
  <block id="ef67c85019e8ac817ecbbb2983bd0153" category="section-title">Come utilizzare il toolkit?</block>
  <block id="e0849abccea244e0fba40c3aa575d398" category="paragraph">Il toolkit è costituito da un parser HTML basato sul Web e da due script SQL per raccogliere informazioni sul database Oracle.  L'output viene quindi inserito in un modello Excel per generare una guida al dimensionamento dell'elaborazione e dell'archiviazione per il server del database Oracle.</block>
  <block id="f5db9a220f11d7b08f96f33f94122f33" category="inline-link-macro">Analizzatore HTML</block>
  <block id="e82f0c37b6bd3400eddaf0d48fac4a76" category="list-text">Utilizzare un<block ref="735c7742f70fe756ee1537fe41775ee0" category="inline-link-macro-rx"></block> Modulo AWR per recuperare informazioni sulle dimensioni di un database Oracle corrente da un report AWR.</block>
  <block id="c000aa7f2c0d2b7df671b9d059b39d9a" category="list-text">Eseguire ora_db_data_szie.sql come DBA per recuperare le dimensioni fisiche del file di dati Oracle dal database.</block>
  <block id="7e56648a80a16947fe5208c82f20d2f8" category="list-text">Eseguire ora_db_logs_size.sql come DBA per recuperare le dimensioni dei log archiviati di Oracle con la finestra di conservazione dei log di archivio desiderata (giorni).</block>
  <block id="d4cc69ca96964b53d4dc4a8c8e70fa45" category="list-text">Inserire le informazioni sulle dimensioni ottenute sopra nel file modello Excel oracle_db_sizing_template_anf.xlsx per creare una guida alle dimensioni per l'elaborazione e l'archiviazione del server Oracle DB.</block>
  <block id="c32f0548f32df1c5796715d6838accdc" category="section-title">Dimostrazione dell'utilizzo del toolkit</block>
  <block id="d5f96f88e7de03605e304965b97f0def" category="list-text">Apri il modulo AWR del parser HTML.</block>
  <block id="da50365aa63534d4c2bd7ce86099231d" category="inline-image-macro">Questa immagine fornisce la schermata del parser HTML per il dimensionamento di Oracle</block>
  <block id="3f5b57723c46294beb00e1186aa5ad24" category="paragraph"><block ref="3f5b57723c46294beb00e1186aa5ad24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="331c55723aab195e48092626da4e6907" category="list-text">Seleziona il formato di output come .csv e fai clic<block ref="c7de86f69db264c3950d8ae46ed2e33f" prefix=" " category="inline-code"></block> per caricare il report awr.  Il parser restituisce i risultati in una pagina HTML con un riepilogo della tabella e un file output.csv in<block ref="801ab24683a4a8c433c6eb40c48bcd9d" prefix=" " category="inline-code"></block> cartella.</block>
  <block id="b1669933b15a72a1d097ccb948f1a63e" category="paragraph"><block ref="b1669933b15a72a1d097ccb948f1a63e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e58053ef001d0bd68ef74dcf703dbfc2" category="list-text">Aprire il file modello Excel e copiare e incollare il contenuto CSV nella colonna A e nella cella 1 per generare le informazioni sulle dimensioni del server DB.</block>
  <block id="a404780f0611d0e3011cd46a7dfab9ca" category="inline-image-macro">Questa immagine fornisce uno screenshot del modello Excel per il dimensionamento di Oracle</block>
  <block id="b7e4998429b3b5a8354876cd11e093d1" category="paragraph"><block ref="b7e4998429b3b5a8354876cd11e093d1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c72112d51e1f40e5814355a84f4fdae" category="list-text">Evidenziare la colonna A e i campi 1 e 2, fare clic su<block ref="f6068daa29dbb05a7ead1e3b5a48bbee" prefix=" " category="inline-code"></block> , Poi<block ref="0e219571c786524302c4eebb4879a15e" prefix=" " category="inline-code"></block> per aprire la procedura guidata di testo.  Scegliere<block ref="f6a6c0fefcadb1df90205a0b9a7fb8b7" prefix=" " category="inline-code"></block> , Poi<block ref="10ac3d04253ef7e1ddc73e6091c0cd55" prefix=" " category="inline-code"></block> alla schermata successiva.</block>
  <block id="6b8b67eff4ae7619f4c9640e5d46b619" category="paragraph"><block ref="6b8b67eff4ae7619f4c9640e5d46b619" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d01033901ef75a46bb97c8b3a8178d1" category="list-text">Controllo<block ref="6311ae17c1ee52b36e68aaf4ad066387" prefix=" " category="inline-code"></block> , quindi inserisci '=' come<block ref="958b66a95f3598861511c6b9239889ce" prefix=" " category="inline-code"></block> .  Clicca su<block ref="10ac3d04253ef7e1ddc73e6091c0cd55" prefix=" " category="inline-code"></block> alla schermata successiva.</block>
  <block id="4392e02cbca6fe375bf473ca46e889e9" category="paragraph"><block ref="4392e02cbca6fe375bf473ca46e889e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="709647fd98d95c62185491a6e07ba5b5" category="list-text">Clicca su<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per completare la conversione della stringa in un formato di colonna leggibile.  Si noti che i campi di dimensionamento VM e ANF sono stati compilati con i dati recuperati dal report Oracle AWR.</block>
  <block id="cf05c5c12e1ac1f3947032075df24058" category="paragraph"><block ref="82d32fbdd353c5f6df12ee246dab167e" category="inline-image-macro-rx" type="image"></block> <block ref="ffaae23b1e866c7cdc3ad6a2059cb9d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16a45fbf8378bcc158d03e720d4b5bba" category="list-text">Eseguire lo script ora_db_data_size.sql, ora_db_logs_size.sql come DBA in sqlplus per recuperare le dimensioni dei dati del database Oracle esistenti e le dimensioni dei log archiviati con il numero di giorni di finestra di conservazione.</block>
  <block id="5accfe4816c4c580d7ae070e09f468e5" category="admonition">Le informazioni sulle dimensioni del database recuperate tramite gli script sopra indicati sono la somma delle dimensioni effettive di tutti i file di dati fisici del database o dei file di registro.  Non tiene conto dello spazio libero che potrebbe essere disponibile all'interno di ciascun file di dati.</block>
  <block id="bb5201d282886d5d02f43e46996631ad" category="list-text">Inserire il risultato nel file Excel per completare l'output delle istruzioni per il dimensionamento.</block>
  <block id="ebee364afb3abd101bd0eeb4f1016806" category="paragraph"><block ref="ebee364afb3abd101bd0eeb4f1016806" category="inline-image-macro-rx" type="image"></block></block>
  <block id="08917e640578a9459480e8e1aa85c104" category="list-text">ANF utilizza un livello di servizio a tre livelli (Standard, Premium, Ultra) per gestire il limite di throughput del volume del database.  Fare riferimento a<block ref="d946b67215f0c4092575c0d87ca9aa5f" category="inline-link-macro-rx"></block> per i dettagli.  In base alle indicazioni di dimensionamento, scegliere un livello di servizio ANF che fornisca una produttività che soddisfi i requisiti del database.</block>
  <block id="a9d2cd7c11b6889ebe8c5d20ef8d1190" category="summary">La soluzione fornisce una panoramica e dettagli per il ripristino rapido di Oracle VLDB distribuito su Google Compute Engine VM con montaggio NFS sul pool di archiviazione Google Cloud NetApp Volumes per organizzare una copia del database in standby che viene unita in modo incrementale e costante tramite RMAN.</block>
  <block id="3df18118dead4d7d954b6bd79e563b6b" category="doc">TR-5007: Ottimizzazione del backup e del ripristino di Oracle VLDB con unione incrementale in-server su Google Cloud NetApp Volumes</block>
  <block id="4dea7f6b93d69a3281f7d12f28f2c836" category="paragraph">Il ripristino di un database molto grande (VLDB) in Oracle utilizzando lo strumento di backup Oracle Recovery Manager (RMAN) può rivelarsi un'operazione molto complessa.  In caso di guasto, il processo di ripristino del database dai supporti di backup può richiedere molto tempo, ritardando il ripristino del database e potenzialmente incidendo in modo significativo sul Contratto di servizio (SLA).  La situazione sta peggiorando ulteriormente per Oracle VLDB distribuito nel cloud, poiché il backup RMAN viene generalmente trasmesso in streaming allo storage di oggetti per motivi di costo.  Di conseguenza, non è possibile ripristinare e recuperare un VLDB se è essenziale l'SLA.  A partire dalla versione 10g, Oracle ha introdotto una funzionalità RMAN che consente agli utenti di creare copie di immagini organizzate dei file di dati del database Oracle su spazio di archiviazione su disco aggiuntivo situato sull'host del server DB.  Queste copie delle immagini possono essere aggiornate in modo incrementale tramite RMAN a intervalli definiti dall'utente.  In caso di errore, l'amministratore del database (DBA) può rapidamente spostare il database Oracle dal supporto danneggiato alla copia immagine, eliminando la necessità di un ripristino completo del supporto del database.  Il risultato è un SLA notevolmente migliorato, anche se al costo di raddoppiare lo spazio di archiviazione del database richiesto.</block>
  <block id="2fa5d7dc487549a7833401477b2c605b" category="paragraph">Se sei interessato a un SLA per il tuo VLDB e stai pensando di spostare il database Oracle su un cloud pubblico come Google Cloud Platform (GCP), puoi impostare una struttura di protezione del database simile utilizzando risorse come Google Cloud NetApp Volumes (GCNV) per la gestione temporanea della copia dell'immagine del database di standby.  GCNV è un servizio di archiviazione file ad alte prestazioni e completamente gestito offerto da Google che semplifica, rende più sicuro e conveniente la migrazione e l'esecuzione di applicazioni aziendali complesse, come il database Oracle, in Google Cloud.  I suoi diversi livelli di servizio consentono la flessibilità necessaria per controllare i costi di archiviazione, ottenendo al contempo un RPO prossimo allo zero e un RTO gestibile.  In questa documentazione, illustriamo come effettuare il provisioning ed esportare un file system NFS da un pool di archiviazione GCNV da montare su un server di database Oracle per predisporre una copia di database in standby per un rapido ripristino in caso di errore dell'archiviazione primaria.</block>
  <block id="e41fb07802a91f8849d8c2ce357c8d4f" category="list-text">Backup della copia dell'immagine dei file di dati del database Oracle tramite RMAN su un file system NFS interno al server su un pool di archiviazione Google Cloud NetApp Volumes .</block>
  <block id="217aa677edcff2aa1e3bba382f52fef3" category="list-text">Ripristino rapido di un Oracle VLDB in caso di guasto sulla stessa VM Google Compute Engine o su una VM di standby.</block>
  <block id="003d272efe0cb24d229088b8e7fb7859" category="list-text">Clona una copia del database Oracle su un host clone per altri casi d'uso dalla copia dell'immagine del database di staging in pochi minuti.</block>
  <block id="511cf9fac168dd7d5b1261e335c2e0f8" category="list-text">Un DBA che configura e gestisce Oracle VLDB nella Google Cloud Platform.</block>
  <block id="45cc5f4bdb8bb6eeab5a5b1da8d2293d" category="list-text">Architetto di soluzioni di database che testa i carichi di lavoro Oracle nella piattaforma Google Cloud.</block>
  <block id="ab635707025ce48f98ee4d6a3c166a17" category="list-text">Un amministratore di storage che gestisce i database Oracle distribuiti nei pool di storage GCNV.</block>
  <block id="4d47d0eed355af4efa793ed30818be40" category="list-text">Un proprietario di un'applicazione che vorrebbe installare database Oracle in Google Cloud Platform.</block>
  <block id="e6849ae533ce1e181073f2cfe965c78c" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti nei pool di archiviazione Google Cloud NetApp Volumes e nelle VM Google Compute Engine che potrebbero non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="c11a98355b333f2b180fd5f54595dc7c" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione dell'unione incrementale Oracle VLDB nel cloud Google con GCNV.</block>
  <block id="982aa9d8c6b2535aa9b84732aec0dab1" category="paragraph"><block ref="982aa9d8c6b2535aa9b84732aec0dab1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f21b6a2382d256aa586680b59e096f52" category="cell">Pool di archiviazione Google Cloud NetApp Volumes</block>
  <block id="4eefdf824befa119e7123cbc3506ff77" category="cell">Servizi attuali offerti da Google</block>
  <block id="7c2735930a64d6d644940444317ccba5" category="cell">Pool di archiviazione da 2 TiB con servizio Premium, pool di archiviazione da 2 TiB con servizio standard</block>
  <block id="dc311520f56bf65b0f05633ee3a59438" category="cell">Google Compute Engine VM per server DB</block>
  <block id="994403285c25c7868b9c5d12040acaa0" category="cell">N1 (4 vCPU, 15 GiB di memoria)</block>
  <block id="b87a8dedca7795dfd0a96cf1a447f06f" category="cell">2 VM, una come server DB primario e l'altra come server DB di standby o clone</block>
  <block id="f6a00acc4e994469d58fd3e88369ec5f" category="cell">Red Hat Enterprise Linux 8.10 (Ootpa) - x86/64</block>
  <block id="5def2287fc9938fd6e8233a1aab13eb5" category="cell">Immagine del Marketplace RHEL, PAYG</block>
  <block id="ce636607c5b432e8113a4c010a03698b" category="list-text">*Livello di servizio del pool di archiviazione GCNV.*  Il pool di archiviazione GCNV offre quattro livelli di servizio: Standard, Premium, Extreme e Flex.  Per impostazione predefinita, a un volume creato all'interno di un pool di archiviazione viene applicata una QoS automatica, che limita la velocità effettiva del volume in base alle sue dimensioni e al livello di servizio.  L'unica eccezione è che i volumi allocati dal pool di archiviazione Flex condividono la velocità effettiva disponibile per il pool di archiviazione.</block>
  <block id="b6e3073aa6f03b7abbef4a13fe7bad06" category="list-text">*Limite di archiviazione del backup in-server Oracle VLDB per l'unione incrementale RMAN.*  Nel nostro test e nella nostra convalida, un volume NFS per il backup incrementale e l'unione di Oracle viene allocato da un singolo pool di archiviazione GCNV con livello di servizio standard, che ha un limite di capacità di 200 TiB.  Per implementazioni che superano tali soglie, è possibile implementare più pool di archiviazione GCNV in parallelo con più punti di montaggio NFS per fornire una capacità maggiore.</block>
  <block id="2dc86d5e55889328f95168005ae971e6" category="list-text">*Recuperabilità di Oracle tramite unione incrementale RMAN.*  Il backup incrementale e l'unione RMAN nel server vengono generalmente eseguiti con una frequenza definita dall'utente in base agli obiettivi RTO e RPO.  In caso di perdita totale dello spazio di archiviazione dei file del database primario e/o dei registri archiviati, potrebbe verificarsi una perdita di dati.  È possibile ripristinare il database Oracle fino all'ultimo backup incrementale disponibile dalla copia dell'immagine di backup del database nel server.  Per ridurre al minimo la perdita di dati, l'area di ripristino flash di Oracle deve essere impostata sul punto di montaggio del backup NFS di GCNV e i log archiviati vengono sottoposti a backup sullo stesso montaggio NFS insieme alla copia dell'immagine del database per riportare il database all'ultimo log archiviato, in caso di errore.  In questo modo è possibile ottenere un RPO prossimo allo zero.</block>
  <block id="fa8962ac2a0644c0b737f5d9913ed2aa" category="list-text">*Esecuzione di Oracle VLDB dal backup dell'immagine NFS sul pool di archiviazione GCNV.*  Al momento, la riassegnazione del livello di servizio del volume del database da standard a premium o extreme non è supportata.  Tuttavia, è supportata la riassegnazione dei livelli di servizio da premium a extreme.  Per eseguire il database su una copia immagine per un periodo prolungato dopo un errore, si consiglia di allocare un volume dal pool di archiviazione premium per il backup della copia immagine del database.</block>
  <block id="a65a4d1b202aad0e41c33159971db2da" category="list-text">*VM di Google Compute Engine.*  Nel test e nella convalida, abbiamo utilizzato istanze di VM GCE di tipo N1 come server di database Oracle.  Esistono altri tipi di VM GCE che potrebbero essere più ottimizzati e più adatti al carico di lavoro del database.  Dimensionare la VM in modo appropriato in base al numero di vCPU e alla quantità di RAM in base ai requisiti effettivi del carico di lavoro.</block>
  <block id="58c31c175760ef2afef9370059c87279" category="list-text">*Configurazione dNFS.* dNFS è integrato nel kernel di Oracle ed è noto per aumentare notevolmente le prestazioni del database Oracle quando Oracle viene distribuito su storage NFS. dNFS è incluso nel pacchetto binario di Oracle, ma non è attivato per impostazione predefinita.  Dovrebbe essere attivato per qualsiasi distribuzione di database Oracle su NFS.  Per la distribuzione di più pool di archiviazione GCNV per un VLDB, è necessario configurare correttamente i percorsi multipli dNFS verso diversi pool di archiviazione GCNV.</block>
  <block id="d5042fcbf75a335e4bbd64458969c169" category="paragraph">La soluzione presuppone che un Oracle VLDB sia già distribuito nell'ambiente Google Cloud all'interno di una VPC.  Oracle VLDB può essere eseguito sia sullo storage GCNV che su qualsiasi altra opzione di storage all'interno dell'ecosistema Google Cloud.  Nella sezione seguente vengono fornite procedure di distribuzione dettagliate per la configurazione di un backup dell'immagine Oracle VLDB e di un'unione incrementale tramite RMAN su un file system NFS montato da un pool di archiviazione GCNV.  Anche l'archiviazione primaria di Oracle VLDB è ospitata su un pool di archiviazione GCNV diverso.</block>
  <block id="4584e211ab63f558a256410aadccfe21" category="list-text">È stato configurato un account GCP e sono state create la configurazione di rete e VPC necessaria all'interno di un progetto nell'account Google Cloud.</block>
  <block id="694bb5d3641d16eb91812f8515d06f39" category="inline-link-macro">Creare un pool di archiviazione</block>
  <block id="9629c50053f6440c4d3f3de413fa5c5d" category="list-text">Dalla console del portale Google Cloud, segui la documentazione<block ref="ccf54767debcb21f2c036879522a1373" category="inline-link-macro-rx"></block> per creare un pool di archiviazione GCNV con servizio standard come mostrato di seguito.</block>
  <block id="39f75c435beb6f2c1269a252d1eeb433" category="inline-image-macro">Questa immagine mostra la schermata del pool di archiviazione GCNV dalla console del portale Google Cloud</block>
  <block id="fa882d48839ce7c395cb6672faf3203c" category="paragraph"><block ref="fa882d48839ce7c395cb6672faf3203c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="inline-link-macro">Crea un volume</block>
  <block id="089b4c13d09085d441e341f9e9a07c9f" category="list-text">Dalla console del portale Google Cloud, segui la documentazione<block ref="4db6c28dc7628e964ce59182faf325bf" category="inline-link-macro-rx"></block> per creare un volume per il backup dell'immagine Oracle VLDB nel server.  In questa demo della soluzione, anche lo storage primario Oracle VLDB è ospitato su GCNV, come mostrato di seguito.</block>
  <block id="8c35935b792dbfb0c45b0ba043179020" category="inline-image-macro">Questa immagine mostra la schermata dei volumi di archiviazione GCNV dalla console del portale Google Cloud</block>
  <block id="f3cba55811f1586d3cbcd30eb0d88882" category="paragraph"><block ref="f3cba55811f1586d3cbcd30eb0d88882" category="inline-image-macro-rx" type="image"></block></block>
  <block id="63d963bb68e25b14a31a9131be37d0f6" category="section-title">Montare un volume NFS da GCNV al server Oracle VLDB primario</block>
  <block id="65deb2cd638fe3e222246b20b5ef3fdb" category="paragraph">Per ottenere prestazioni migliori, il volume GCNV fornito per il backup in-server di Oracle VLDB dovrebbe idealmente trovarsi nella stessa zona Google Cloud del server DB primario e dello storage primario.</block>
  <block id="05629bf787dc88b6a67261df4424ecdc" category="list-text">Recupera il percorso di esportazione NFS del volume GCNV dalla console Google Cloud.</block>
  <block id="e78f41de213df01d36f1200c184f68f0" category="paragraph"><block ref="e78f41de213df01d36f1200c184f68f0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="509b916009ae5598cca4730826e296de" category="list-text">Accedi al server Oracle VLDB primario.  Come root, monta il volume NFS esportato dall'archiviazione GCNV.  Modificare l'indirizzo IP del server NFS e il percorso del file in base alle esigenze.</block>
  <block id="4f9459ab35b0d146cb31194babf2fbc1" category="list-text">Modificare la proprietà del punto di montaggio in oracle:oistall oppure modificare il nome utente Oracle e il gruppo primario, se necessario.</block>
  <block id="18ff92cceaf8a206e0bd24262ca37891" category="list-text">Aggiungere il montaggio NFS a /etc/fstab.</block>
  <block id="0270b4b10541e40381248cc22e46cff0" category="section-title">Imposta l'unione incrementale Oracle RMAN sulla copia dell'immagine su GCNV per il backup VLDB nel server</block>
  <block id="29942911cbc26b4e3d4d25c44d4633eb" category="paragraph">L'unione incrementale RMAN aggiorna continuamente la copia dell'immagine dei file di dati del database di staging a ogni intervallo di backup/unione incrementale.  La copia dell'immagine del backup del database sarà aggiornata con la stessa frequenza con cui si esegue il backup/unione incrementale.  Pertanto, quando si decide la frequenza del backup incrementale e dell'unione RMAN, è necessario tenere in considerazione le prestazioni del database e gli obiettivi RTO e RPO.</block>
  <block id="38f21ad9fd660bb6f7bfaa10848ca926" category="list-text">Per la convalida di questa soluzione, il database primario viene configurato come server autonomo con infrastruttura grid. Riavviare la configurazione come mostrato di seguito.  Lo storage primario è ospitato sul pool di storage GCNV con servizio premium.  Anche in questo caso, non si tratta di un requisito e lo storage primario può essere su qualsiasi altra opzione di storage nel cloud di Google.</block>
  <block id="149c37c34bf64c04f425d2e582aee8e7" category="list-text">Creare una directory oracopy nel punto di montaggio /nfsgcnv per archiviare le copie delle immagini dei file di dati Oracle e una directory archlog per l'area di ripristino flash di Oracle.</block>
  <block id="5dc0b9ea1d15566116bce3ddf354b931" category="list-text">Accedi al database Oracle tramite sqlplus, abilita il monitoraggio delle modifiche dei blocchi per un backup incrementale più rapido e modifica l'area di ripristino flash di Oracle in mount NFS GCNV se attualmente si trova sullo storage primario.  Ciò consente il backup automatico del file di controllo/spfile predefinito di RMAN e dei log archiviati sul mount NFS GCNV per il ripristino del database nell'ultimo log di archivio disponibile.</block>
  <block id="d2042742856dda13e5e180b25f282a3e" category="list-text">Elenca la copia dell'immagine del database dopo il backup per verificare che sia stata creata una copia dell'immagine del database nel punto di montaggio NFS di GCNV.</block>
  <block id="9dd2693d04c45817b40d8020cd923c73" category="list-text">Eseguire lo script di backup RMAN da un semplice script shell UNIX da crontab all'intervallo desiderato.</block>
  <block id="1a9c5eb6e12ed6f71cff1f8c31f50b15" category="paragraph">In questo modo si completa la configurazione di un backup di copia dell'immagine di standby Oracle VLDB e l'unione su un montaggio NFS nel server dallo storage GCNV.</block>
  <block id="e2402f914162d51a116e757f8412b5ce" category="section-title">Ripristino rapido di Oracle VLDB tramite copia dell'immagine di backup</block>
  <block id="a55c5b79e21221c0ad4ffa7c4c337f7c" category="section-title">Recupero completo in caso di perdita o danneggiamento dei file di dati Oracle</block>
  <block id="bbe965d3a3fa8390637051d65ad58304" category="paragraph">In caso di guasto dovuto a un problema di archiviazione primaria, come perdita o danneggiamento dei dati, il database può essere rapidamente convertito in una copia dell'immagine sul mount NFS GCNV e ripristinato allo stato corrente senza dover ripristinare il database.  L'eliminazione del ripristino dei supporti velocizza enormemente il ripristino del database per un VLDB.  Questo caso d'uso presuppone che il server Oracle VLDB DB sia intatto e che il file di controllo del database, i log archiviati e quelli correnti siano tutti disponibili per il ripristino.</block>
  <block id="fc28edcb3ff08bd19407349a833c74ab" category="list-text">Accedere all'host del server VLDB primario come utente Oracle e creare una tabella di prova prima del passaggio.</block>
  <block id="3de1e8fb0b4f48ceb3b91426c1db1605" category="list-text">Inserire una riga nella tabella di prova.  La riga è stata inserita dopo un backup incrementale e un'unione più recenti e i suoi dati non sono presenti nel set di backup.  La dimostrazione successiva mostrerà che la riga di test viene recuperata dopo che il database è stato completamente recuperato.</block>
  <block id="f0df32e03ca40e95e9ec6f50b54fa7d8" category="list-text">Simula un errore arrestando il database.</block>
  <block id="81fe64311fbf36dab3bfa4debc9226d2" category="list-text">Come utente Oracle, connettiti al database Oracle tramite RMAN per cambiare il database da copiare.</block>
  <block id="1a80f9f85d51c0eaa1e7f56c32ab7fdd" category="list-text">Controllare la struttura del database da sqlplus dopo il ripristino per osservare che tutti i file di dati VLDB, ad eccezione dei file di controllo, temp e registro corrente, sono ora passati alla copia sul file system NFS GCNV.</block>
  <block id="4170eaea10d4eb66d78f56d93c9f7189" category="list-text">Da SQL plus, convalidare che la riga di test che abbiamo inertizzato dopo l'ultimo backup incrementale e prima di passare alla copia di backup dell'immagine sia stata recuperata.</block>
  <block id="b3c20344742571292e7fbc9dae69c6f2" category="section-title">Ripristinare l'Oracle VLDB dalla copia di backup all'archivio primario</block>
  <block id="951f9098a1bd5e0cb3a5c4d265de5b28" category="paragraph">Una volta risolto il problema di archiviazione nello storage primario, il database può essere facilmente riportato allo storage primario con tempi di inattività minimi.  Di seguito sono riportate le procedure passo dopo passo.</block>
  <block id="2f3f0c5d325ccc40351c7608487e1ff1" category="list-text">Da RMAN verificare che lo schema del DB sia attualmente posizionato nell'archivio di backup GCNV.</block>
  <block id="f3c7d225a25d3e0d3358226dab079c17" category="list-text">Una volta che il database primario è stato convertito in copia immagine, il database primario è ora una copia nel record RMAN.</block>
  <block id="c57e0a236ef4cc67ce104cc96b7ab18e" category="list-text">Eliminare i file di dati ormai obsoleti presenti nell'archivio primario, se presenti, per liberare spazio e/o cancellare i record.</block>
  <block id="24ec1af504c3fd594fe5b48c8f447603" category="list-text">Revisionare lo script di backup e unione RMAN in modo che punti all'archiviazione primaria e, nel nostro caso di prova, al gruppo di dischi ASM +DATA nella definizione del canale RMAN.  Eseguire lo script di backup rivisto per creare una nuova copia dell'immagine sullo storage primario.</block>
  <block id="b1fdb89a4902d5b114543243a80cd23f" category="list-text">Verificare che una nuova copia dell'immagine VLDB sia stata creata sullo storage primario.</block>
  <block id="53f34ebce82695dc1498d6eb421b67e5" category="list-text">Inserire una nuova riga di test nella tabella di test e verificare che il ripristino della copia dell'immagine sullo storage primario recuperi tutte le transazioni.</block>
  <block id="adf4c6ec1e9cbc93c79f4cca7f25a856" category="list-text">Da RMAN, arrestare il DB per tornare alla copia dell'immagine di backup sullo storage primario.</block>
  <block id="704923b5531f2d38ee358e8b85c89915" category="list-text">Verificare che il database sia tornato allo storage primario.</block>
  <block id="a1c5c3c4079a86e3567cf5162d7609f6" category="list-text">Convalidare da sqlplus che tutte le transazioni siano recuperate nella tabella di prova.</block>
  <block id="7ab2cb4b14d02bbea99aedfdd93fcb0c" category="list-text">Infine, elimina la copia obsoleta dell'immagine del database sullo storage di backup GCNV e crea una nuova immagine di backup sullo storage di backup GCNV per completare il ciclo.</block>
  <block id="3a03bef7a5f9afdda5e2bf8be11f8d91" category="section-title">Ripristino point-in-time con perdita di tutti i file Oracle</block>
  <block id="f607c9390b2d7eaa214d13dc1ffd7795" category="paragraph">In caso di guasto che comporta la perdita dell'archivio primario e/o dell'host del server DB primario, tutte le transazioni non presenti nei file di registro archiviati andrebbero perse.  Tuttavia, la copia dell'immagine di backup del database Oracle disponibile sul file system NFS GCNV può rivelarsi utile.  È possibile ripristinare rapidamente il database primario sullo stesso server del database primario o su un server del database di standby, se disponibile, utilizzando la copia dell'immagine di backup.  In questa sezione illustreremo le procedure dettagliate per il ripristino sul server DB primario.  I metodi per il ripristino su un nuovo server DB di standby sono pressoché identici; tuttavia, la copia dell'immagine di backup del database deve essere montata sul server DB di standby con lo stesso stack software Oracle installato e configurato.</block>
  <block id="7cd2e8d2b04e02c373aaf508697f7682" category="list-text">Inserire una riga per testare la tabella creata in precedenza per la convalida del ripristino point-in-time di Oracle VLDB.</block>
  <block id="e87b088552e84be458ac617a3ee72000" category="list-text">Archivia il file di registro corrente in modo che la transazione venga trasferita in un file di registro archiviato.</block>
  <block id="19eedf1b8ce6986e31cab0197162ffb5" category="list-text">Se il ripristino viene eseguito su un server DB di standby, assicurarsi che si tratti dello stesso sistema operativo, della stessa versione e che il kernel del sistema operativo sia stato patchato come host del server DB primario.  Inoltre, la stessa versione e le stesse patch di Oracle sono state installate e configurate sul server DB di standby con l'opzione solo software.</block>
  <block id="808f426c59edd80c09bbda921a0085cb" category="list-text">Inoltre, configurare l'ambiente Oracle sul server DB di standby in modo simile al server DB primario, ad esempio oratab e Oracle User .bash_profile, ecc. È buona norma eseguire il backup di tali file sul punto di montaggio NFS di GCNV.</block>
  <block id="efc019b59b6d6b9d0343e8d170eb9bb2" category="list-text">La copia dell'immagine di backup del database Oracle sul file system NFS GCNV viene quindi montata sul server DB di standby per il ripristino.  Le seguenti procedure illustrano i dettagli del processo.</block>
  <block id="d2bada662e6483ee2947ddc07417c7be" category="paragraph">Come utente amministratore, crea il punto di montaggio.</block>
  <block id="0c996df5bdd4066f20471ce79fa250a9" category="paragraph">Come utente amministratore, montare il volume NFS in cui è archiviata la copia dell'immagine di backup di Oracle VLDB.</block>
  <block id="59a58fd47c9ac89585d6c1c3aecfb047" category="list-text">Verificare i log archiviati Oracle disponibili sul mount NFS GCNV per il ripristino e annotare l'ultimo numero di sequenza del file di log.  Nel nostro caso di prova, era 27.  Il nostro punto di ripristino è fino al numero di sequenza del registro 28.</block>
  <block id="06864d719b131b436e991e3f7be1c375" category="list-text">Se si esegue il ripristino da un host DB di standby, come utente Oracle, impostare la variabile ORACLE_HOME sull'installazione Oracle corrente sul server DB di standby e ORACLE_SID sul SID dell'istanza Oracle primaria.  In questo test è NTAP.</block>
  <block id="b53bb5d301f145df038caa7789e0dbe9" category="list-text">Come utente Oracle, crea un file init Oracle generico nella directory $ORACLE_HOME/dbs con le directory di amministrazione appropriate configurate.  La cosa più importante è avere Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> puntare al percorso di montaggio NFS GCNV come definito nel server Oracle VLDB primario. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configurazione è dimostrata nella sezione<block ref="0270b4b10541e40381248cc22e46cff0" prefix=" " category="inline-code"></block> .  Impostare il file di controllo Oracle sul file system di backup NFS GCNV.</block>
  <block id="ce91b89a8eed647341c691bebf7404c7" category="list-text">Come utente Oracle, avviare RMAN per eseguire il ripristino Oracle sull'host del server DB primario o di standby.  Per prima cosa, avvia l'istanza di Oracle in<block ref="b407a7f2e317a40388660332475e7643" prefix=" " category="inline-code"></block> stato.</block>
  <block id="770cba9e0c8b6233e05f029908ff7214" category="list-text">Imposta l'ID del database.  L'ID del database può essere recuperato dal nome del file Oracle della copia dell'immagine sul punto di montaggio NFS di GCNV.</block>
  <block id="74be05b5a013409e259d8d7ee1f6a650" category="list-text">Ripristinare il file init da spfile nella cartella $ORACLE_HOME/dbs per aggiornare in seguito il file dei parametri in modo che corrisponda al VLDB primario.</block>
  <block id="d7a1c9f02040db2b8f64ea7d73a17d6b" category="list-text">Convalida che i file del database siano ora sul file system di backup su GCNV.</block>
  <block id="2757591555ce9050f73606ac8dd57a3e" category="list-text">Per tornare allo storage primario, seguire esattamente le stesse procedure descritte nella sezione<block ref="d286e8a221136fce9fa30a138e88c921" prefix=" " category="inline-code"></block> .  Se si esegue il ripristino su un server DB di standby, è necessario importare l'archiviazione primaria nel server DB di standby.  È inoltre necessario spostare i file di controllo Oracle e gli attuali file di registro online dal montaggio nfs di GCNV allo storage primario, operazione che può essere eseguita con pochi minuti di inattività.</block>
  <block id="4b28dc325fead360c696104250629571" category="paragraph">In questo modo viene completato il ripristino point-in-time del database Oracle VLDB dalla copia dell'immagine di backup sul file system NFS GCNV allo stesso server DB primario o a un server DB di standby.</block>
  <block id="0a879ff481208b2cc39cbad824621329" category="section-title">Clonare un Oracle VLDB per altri casi d'uso dalla copia dell'immagine di backup</block>
  <block id="18755f82163e565c1b5a547156656d87" category="paragraph">Clonare un nuovo Oracle VLDB dalla copia dell'immagine di backup su GCNV è simile al ripristino puntuale del database primario su un nuovo server DB.  Il team di NetApp Solutions Engineering fornisce un toolkit di automazione per semplificare l'intero processo, garantendo un'implementazione rapida (in pochi minuti) e senza sforzi.</block>
  <block id="b1f1cc52fda1ee9837b78c5d34520a8e" category="paragraph">Il seguente toolkit di automazione contiene un playbook che può essere utilizzato per creare o aggiornare cloni di un Oracle VLDB da una copia dell'immagine di backup del database primario archiviata nello storage GCNV tramite montaggio NFS per una gestione completa del ciclo di vita del clone.  Per i dettagli, fare riferimento alla documentazione:<block ref="ab1a6aadd5a9f254399b11073837e41d" category="inline-link-macro-rx"></block> .</block>
  <block id="2e48619d7f0f1a861022ed80eed6e4b9" category="list-text">Il miglior servizio di archiviazione file di NetApp, su Google Cloud</block>
  <block id="611541e99ccc797c389336c16d58f458" category="inline-link-macro"><block ref="611541e99ccc797c389336c16d58f458" category="inline-link-rx"></block></block>
  <block id="e6ef22ce453d3903dec6964c177adeb1" category="paragraph"><block ref="e6ef22ce453d3903dec6964c177adeb1" category="inline-link-macro-rx"></block></block>
  <block id="9e176713e99defae5803c109e73b8ee9" category="summary">La soluzione fornisce una panoramica e dettagli per la configurazione di Oracle Very Large Database (VLDB) ad alta velocità su Google Cloud NetApp Volumes (GCNV) con Oracle Data Guard in Google Cloud.</block>
  <block id="65891978f449047f0d48a6d9b6f5455d" category="doc">TR-5006: Implementazione Oracle VLDB ad alta produttività su Google Cloud NetApp Volumes con Data Guard</block>
  <block id="2ed312235681fd18dabb3ed5a3d54438" category="paragraph">L'elevata produttività e l'Oracle VLDB mission-critical pongono una forte richiesta di storage del database back-end.  Per soddisfare l'accordo sul livello di servizio (SLA), l'archiviazione del database deve fornire la capacità richiesta e un elevato numero di operazioni di input/output al secondo (IOPS), mantenendo al contempo prestazioni con latenza inferiore ai millisecondi.  Ciò risulta particolarmente impegnativo quando si distribuisce un carico di lavoro di database di questo tipo nel cloud pubblico con un ambiente di risorse di archiviazione condivise.  Non tutte le piattaforme di archiviazione sono uguali.  GCNV è un servizio di archiviazione premium offerto da Google in grado di supportare distribuzioni di database Oracle mission-critical nel cloud di Google che richiedono IOPS sostenuti e caratteristiche di prestazioni a bassa latenza.  L'architettura supporta carichi di lavoro OLTP e OLAP, con livelli di servizio configurabili che supportano vari profili di prestazioni.  GCNV offre prestazioni incredibilmente veloci con latenza inferiore ai millisecondi, raggiungendo una velocità di elaborazione fino a 4,5 GiBps per volume con carichi di lavoro misti di lettura/scrittura.</block>
  <block id="7a5181ae501724c8981b2701a0733efb" category="paragraph">Sfruttando la funzionalità di backup snapshot veloce (secondi) e di clonazione (minuti) di GCNV, è possibile clonare al volo copie complete del database di produzione da Physical Standby per soddisfare molti altri casi d'uso, come DEV, UAT, ecc. È possibile eliminare una licenza Active Data Guard e Snapshot Standby inefficiente e complesso.  Il risparmio sui costi può essere notevole.  Per una configurazione nominale di Oracle Data Guard con CPU a 64 core sia sui server Oracle primari che su quelli di standby, il solo risparmio sui costi di licenza di Active Data Guard ammonta a $ 1.472.000, in base all'ultimo listino prezzi Oracle.  </block>
  <block id="e40168b16a72066fc1b03f2a7f835b9e" category="paragraph">In questa documentazione, illustriamo come impostare un Oracle VLDB con configurazione Data Guard su storage GCNVS con più volumi NFS e Oracle ASM per il bilanciamento del carico di storage.  È possibile eseguire rapidamente il backup dei volumi del database di standby tramite snapshot e clonarli per l'accesso in lettura/scrittura.  Il team di NetApp Solutions Engineering fornisce un toolkit di automazione per creare e aggiornare cloni con una gestione semplificata del ciclo di vita.</block>
  <block id="5f69812f74c145354686734c0c7a7208" category="list-text">Implementazione di Oracle VLDB in un'impostazione Data Guard sul servizio di archiviazione GCNV nelle regioni Google Cloud.</block>
  <block id="0fdfcc206ca7a481aa45be7b6a45414f" category="list-text">Un DBA che configura Oracle VLDB con Data Guard nel cloud Google per garantire elevata disponibilità, protezione dei dati e ripristino di emergenza.</block>
  <block id="914fecaa697a83ba7600c174057db529" category="list-text">Architetto di soluzioni di database interessato a Oracle VLDB con configurazione Data Guard nel cloud di Google.</block>
  <block id="5583b43c5b2bd0cfc165dd5b88e321df" category="list-text">Un amministratore di storage che gestisce lo storage GCNV che supporta il database Oracle.</block>
  <block id="3b2bfc934cedcd552f3068ba796e288a" category="list-text">Un proprietario di applicazioni a cui piace installare Oracle VLDB con Data Guard in un ambiente cloud di Google.</block>
  <block id="a6cbbdd808b8b892517323e2f3505d19" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio Google Cloud che potrebbe non corrispondere all'effettivo ambiente di distribuzione dell'utente. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="7fb941faea81cb735c59e1830fe69196" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'implementazione di Oracle Data Guard nel cloud Google su GCNV.</block>
  <block id="90f88c874b755d612817bb7b5c0f2725" category="paragraph"><block ref="90f88c874b755d612817bb7b5c0f2725" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="cell">Google Cloud NetApp Volumes</block>
  <block id="a699af9b8517f65b9f7b6f0440e0f495" category="cell">Servizio attuale offerto da Google</block>
  <block id="17a4b1be155a0821da124687c67a12ef" category="cell">Due pool di archiviazione, livello di servizio Premium, QoS automatico</block>
  <block id="40fe8ff9e3c4bff0c248e322fa50c913" category="cell">VM di Google Compute Engine per server DB</block>
  <block id="5980c1c893a4847a950667aa69c2b19d" category="cell">Quattro VM DB, server DB primario, server DB di standby, server DB clone e osservatore Data Guard.</block>
  <block id="8d055ca47d2f6064ebb4f1b454aa761a" category="cell">NTAP_NY.cvs-pm-host-1p.internal</block>
  <block id="4dea8a1b4fa06cccbb47de1dfcbdd15d" category="cell">NTAP_LA.cvs-pm-host-1p.internal</block>
  <block id="7e7a78ceef36035bc24e49c533b4d776" category="list-text">* Configurazione Google Cloud NetApp Volumes .*  I GCNV sono allocati nel cloud di Google come<block ref="3052d17347aa0231748580e06110ace9" prefix=" " category="inline-code"></block> .  In questi test e convalide, abbiamo distribuito un pool di archiviazione da 2 TiB per ospitare il database primario Oracle nella regione East4 e un pool di archiviazione da 4 TiB per ospitare il database standby e il clone del DB nella regione West4.  Il pool di archiviazione GCNV offre quattro livelli di servizio: Flex, Standard, Premium ed Extreme.  La capacità IO del pool di capacità ANF si basa sulla dimensione del pool di capacità e sul suo livello di servizio.  Durante la creazione di un pool di capacità, si imposta la posizione del pool di archiviazione, il livello di servizio, la zona di disponibilità e la capacità del pool di archiviazione.  Per la configurazione di Oracle Data Guard, la disponibilità zonale dovrebbe essere sufficiente poiché Data Guard fornisce la protezione dal failover del database in caso di errore a livello di zona.</block>
  <block id="8c3623c958bd98afd3ab6fd8fa7968e9" category="list-text">*Dimensionamento dei volumi del database.*  Per l'implementazione in produzione, NetApp consiglia di effettuare una valutazione completa dei requisiti di throughput del database Oracle dal report Oracle AWR.  Quando si progetta il layout dei volumi GCNV per il database VLDB, tenere in considerazione le dimensioni del database, i requisiti di throughput e il livello di servizio.  Si consiglia di utilizzare solo<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block> O<block ref="ba1f6c59525d71aee4c027798d2470fd" prefix=" " category="inline-code"></block> servizio per database Oracle.  La larghezza di banda è garantita a 64 MiB/s per capacità di volume TiB fino a un massimo di 4,5 GiBps per<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block> servizio e 128 MiB/s per capacità di volume TiB fino a 4,5 GiBps per<block ref="ba1f6c59525d71aee4c027798d2470fd" prefix=" " category="inline-code"></block> servizio.  Per soddisfare i requisiti, una maggiore produttività richiederà volumi più grandi.</block>
  <block id="973d97f89ddf30f80669e85bc4a984e2" category="list-text">*Volumi multipli e bilanciamento del carico.*  Un singolo volume di grandi dimensioni può fornire un livello di prestazioni simile a quello di più volumi con le stesse dimensioni aggregate del volume, poiché la qualità del servizio è rigorosamente applicata in base alle dimensioni del volume e al livello di servizio del pool di archiviazione.  Si consiglia di implementare più volumi (più punti di montaggio NFS) per Oracle VLDB per utilizzare al meglio il pool di risorse di archiviazione GCNV backend condiviso e per soddisfare i requisiti di throughput superiori a 4,5 GiBps.  Implementare Oracle ASM per il bilanciamento del carico IO su più volumi NFS.</block>
  <block id="7d946e09b4f5939557577b4479b9e59b" category="list-text">*Considerazioni sull'istanza VM di Google Compute Engine.*  In questi test e convalide abbiamo utilizzato Compute Engine VM - N1 con 4 vCPU e 15 GiB di memoria.  È necessario scegliere l'istanza VM del database Compute Engine in modo appropriato per Oracle VLDB con requisiti di throughput elevati.  Oltre al numero di vCPU e alla quantità di RAM, la larghezza di banda della rete VM (limite di throughput in ingresso e in uscita o NIC) può diventare un collo di bottiglia prima che venga raggiunta la velocità di throughput dell'archiviazione del database.</block>
  <block id="912441f8b8f0f9a5ce71e92b8c985172" category="list-text">*Configurazione dNFS.*  Utilizzando dNFS, un database Oracle in esecuzione su una VM Google Compute Engine con storage GCNV può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  Assicurarsi che la patch p32931941 di Oracle dNFS venga applicata per risolvere potenziali bug.</block>
  <block id="4b3e9724bafa75f8657791e9184bf00b" category="paragraph">Nella sezione seguente viene illustrata la configurazione per Oracle VLDB su GCNV in un'impostazione Oracle Data Guard tra un Oracle DB primario nel Google Cloud della regione orientale con storage GCNV e un Oracle DB di standby fisico nel Google Cloud della regione occidentale con storage GCNV.</block>
  <block id="c4239e5816a56456c9440b520721aab4" category="list-text">È stato configurato un account Google Cloud ed è stato creato un progetto all'interno del tuo account Google per distribuire le risorse per la configurazione di Oracle Data Guard.</block>
  <block id="828be31f82120f85f42eb895ed8a9b22" category="list-text">Crea una VPC e delle subnet che coprano le regioni desiderate per Data Guard.  Per una configurazione DR resiliente, si consiglia di posizionare i database primario e di standby in posizioni geografiche diverse, in grado di tollerare gravi disastri in una regione locale.</block>
  <block id="9b6abd08dc38af4f47a14db2aeafebf0" category="inline-link-macro">Crea un'istanza di VM Linux in Compute Engine</block>
  <block id="f209110c4a2b9c92541ac8c73f4ca357" category="list-text">Dalla console del portale Google Cloud, distribuisci quattro istanze VM Linux di Google Compute Engine, una come server Oracle DB primario, una come server Oracle DB di standby, un server DB di destinazione clone e un osservatore Oracle Data Guard.  Per maggiori dettagli sulla configurazione dell'ambiente, consultare il diagramma dell'architettura nella sezione precedente.  Segui la documentazione di Google<block ref="7c269d13ab08f0e4a16eee3ccb2f9bcd" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="76bc4fe907c18b851012dc9e1c6fd194" category="admonition">Assicurati di aver allocato almeno 50 G nel volume radice delle VM di Azure per avere spazio sufficiente per organizzare i file di installazione di Oracle.  Per impostazione predefinita, le VM di Google Compute Engine sono bloccate a livello di istanza.  Per abilitare la comunicazione tra VM, è necessario creare regole firewall specifiche per aprire il flusso di traffico della porta TCP, come la tipica porta Oracle 1521.</block>
  <block id="6f3af7b095b39097875024d32ad80490" category="inline-link-macro">Creazione di un pool di archiviazione: avvio rapido</block>
  <block id="b57a4b91a392e3b79b60619e2ff1b95d" category="list-text">Dalla console del portale Google Cloud, distribuisci due pool di archiviazione GCNV per ospitare i volumi del database Oracle.  Riferito alla documentazione<block ref="f943731a6c99cd3fb77312da872c5af6" category="inline-link-macro-rx"></block> per istruzioni dettagliate.  Di seguito sono riportati alcuni screenshot per una rapida consultazione.</block>
  <block id="37f58172636065668f3a8ba4f6dde3cc" category="inline-image-macro">Screenshot che mostra la configurazione dell'ambiente GCNV.</block>
  <block id="61d3340ba88008053f53d953ef0346c9" category="paragraph"><block ref="c886cfeaed26c9a9c940b977ab6c3e79" category="inline-image-macro-rx" type="image"></block> <block ref="09eadbdcd4c749f3338ba4b2e0abef60" category="inline-image-macro-rx" type="image"></block> <block ref="952e4a56346f8c18ff351e9e31949d08" category="inline-image-macro-rx" type="image"></block> <block ref="ddd79d52091f0eff41c950f5a28af67a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8c284636a07eef88bc1b2c9dd45cae8" category="inline-link-macro">Creare un volume di avvio rapido</block>
  <block id="344f48f154fd458152c704c8c50ff770" category="list-text">Creare volumi di database in pool di archiviazione.  Riferito alla documentazione<block ref="9ce4a27139b3fc8aa37b1a3a93853509" category="inline-link-macro-rx"></block> per istruzioni dettagliate.  Di seguito sono riportati alcuni screenshot per una rapida consultazione.</block>
  <block id="37ef2d10b88e70db2e7243e645f783fe" category="paragraph"><block ref="2fb4bd9d59ce0e0908121c8c2325785c" category="inline-image-macro-rx" type="image"></block> <block ref="aaea86b0b663cbb71703ef7b44a3916c" category="inline-image-macro-rx" type="image"></block> <block ref="0ffd04a2ded7d8c294060b1c69ec1c52" category="inline-image-macro-rx" type="image"></block> <block ref="03c89e11db54cda919be66c627093c99" category="inline-image-macro-rx" type="image"></block> <block ref="6b06bd57dfee1ff5b9024618f032636a" category="inline-image-macro-rx" type="image"></block> <block ref="ce409f437929bc8b0865262e709da410" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bee93b982e500325112ec74f8355617" category="list-text">Il database Oracle primario avrebbe dovuto essere installato e configurato nel server Oracle DB primario.  D'altro canto, nel server Oracle DB di standby o nel server Oracle DB clone, viene installato solo il software Oracle e non viene creato alcun database Oracle.  Idealmente, il layout delle directory dei file Oracle dovrebbe corrispondere esattamente su tutti i server Oracle DB.  Per assistenza sull'infrastruttura Oracle Grid e sull'installazione e configurazione del database con NFS/ASM, fare riferimento a TR-4974.  Sebbene la soluzione sia convalidata nell'ambiente AWS FSx/EC2, può essere applicata anche all'ambiente Google GCNV/Compute Engine.</block>
  <block id="34d88af36024ed534c76d180d56a88cb" category="list-text"><block ref="34d88af36024ed534c76d180d56a88cb" category="inline-link-macro-rx"></block></block>
  <block id="8553ed953d5742f994f5786780c12369" category="paragraph">In questa dimostrazione, abbiamo configurato un database Oracle primario denominato NTAP sul server DB primario con otto punti di montaggio NFS: /u01 per il binario Oracle, /u02, /u03, /u04, /u05, /u06, /u07 per i file di dati Oracle e carico bilanciato con il gruppo di dischi Oracle ASM +DATA; /u08 per i log attivi Oracle, i file di log archiviati e carico bilanciato con il gruppo di dischi Oracle ASM +LOGS.  Per motivi di ridondanza, i file di controllo Oracle vengono posizionati sia sui gruppi di dischi +DATA che +LOGS.  Questa configurazione serve come riferimento.  L'effettiva distribuzione dovrebbe tenere in considerazione le esigenze e i requisiti specifici in termini di dimensioni del pool di archiviazione, livello di servizio, numero di volumi di database e dimensioni di ciascun volume.</block>
  <block id="48efe48e8a04269e45f8628943318993" category="inline-link-macro">Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="0d145c0e95a62c44cc2c6ff7f3a297a5" category="paragraph">Per procedure dettagliate passo passo per la configurazione di Oracle Data Guard su NFS con ASM, fare riferimento a TR-5002 -<block ref="f34df1fa8abd7a29bb8dfc47fcc8c59d" category="inline-link-macro-rx"></block> .  Sebbene le procedure in TR-5002 siano state convalidate nell'ambiente Azure ANF, sono ugualmente applicabili all'ambiente Google GCNV.</block>
  <block id="3d1e8aa80cbf0d900cabd7c0b608aac1" category="paragraph">Di seguito sono illustrati i dettagli di un Oracle VLDB primario in una configurazione Data Guard nell'ambiente Google GCNV.</block>
  <block id="5b5f44a9ebf473213d27db2160cc9233" category="list-text">Il database primario NTAP nel server DB del motore di calcolo primario viene distribuito come database a istanza singola in una configurazione di riavvio autonoma sullo storage GCNV con protocollo NFS e ASM come gestore del volume di storage del database.</block>
  <block id="882aa8204fd59148381a26733ec28722" category="list-text">Configurazione dell'ascoltatore Oracle.</block>
  <block id="8b92bad94df2d37136e4ea0184c8ec24" category="list-text">Il flashback è abilitato nel database primario.</block>
  <block id="37822d5db58a24c9b1215939174b98fd" category="paragraph">Ciò completa la dimostrazione di una configurazione Data Guard per VLDB NTAP nel sito primario su GCNV con NFS/ASM.</block>
  <block id="0db5b0495fd85156ef598b71b9e928c8" category="inline-link-macro">TR-5002 - Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="cf428304b924b7f784b8a83ad9e30a86" category="paragraph">Di nuovo, per procedure dettagliate passo passo per la configurazione di Oracle Data Guard standby su NFS con ASM, fare riferimento a<block ref="a6f539298da44e4cb32383c1745a6f24" category="inline-link-macro-rx"></block> E<block ref="179b88d7d08fc36b4d4a3783382a72e4" category="inline-link-macro-rx"></block> sezioni pertinenti.  Di seguito vengono illustrati i dettagli della configurazione di Oracle VLDB in standby sul server DB in standby in un'impostazione Data Guard nell'ambiente Google GCNV.</block>
  <block id="38f7c15d022557134b151e24231f38e4" category="list-text">Il flashback è abilitato nel database di standby.</block>
  <block id="f332b6150683f6bfd2857082da767979" category="section-title">Configurazione di Data Guard Broker e FSFO con un osservatore</block>
  <block id="d76d14a6b7996f87cd8d8628faa6871e" category="section-title">Configurare FSFO con un osservatore</block>
  <block id="c104d754f64a61d49dab80e5e865b10d" category="paragraph">Facoltativamente, è possibile abilitare Fast Start Fail Over (FSFO) per consentire a Data Guard Broker di eseguire automaticamente il failover del database primario sul database di standby in caso di errore.  Di seguito sono riportate le procedure per configurare FSFO con un'istanza di osservatore.</block>
  <block id="7b37fbbe98e5b5a178e5426e834407ac" category="list-text">Crea un'istanza leggera di Google Compute Engine per eseguire Observer in una zona diversa rispetto al server DB primario o di standby.  Nel caso di prova, abbiamo utilizzato un'istanza N1 con 2 vCPU e 7,5 G di memoria.  Avere la stessa versione di Oracle installata sull'host.</block>
  <block id="adb254d72e8902a448a82cc5249a8ae5" category="list-text">Accedi come utente Oracle e imposta l'ambiente Oracle nel file .bash_profile dell'utente Oracle.</block>
  <block id="d957f0efa9bb2bf48b2412ab28478cbc" category="list-text">Aggiungere voci del nome TNS del DB primario e di standby al file tnsname.ora.</block>
  <block id="4ce4e38faaab50c88369c238478ffb45" category="list-text">Crea e inizializza il portafoglio con una password.</block>
  <block id="b8cc6ce06065e91511090ee39402a8b4" category="list-text">Abilita l'autenticazione senza password per i sistemi utente del database primario e di standby.  Inserisci prima la password di sistema, quindi la password del portafoglio dal passaggio precedente.</block>
  <block id="99bc8a3db5d5db309ef6f0d2bb2dc77f" category="paragraph">mkstore -wrl /u01/app/oracle/admin/NTAP/wallet -createCredential NTAP_NY sys</block>
  <block id="f2e0cb4d2af80f2857bbb9a807644a29" category="paragraph">mkstore -wrl /u01/app/oracle/admin/NTAP/wallet -createCredential NTAP_LA sys</block>
  <block id="c36128d065e9b385457b2685e0510065" category="list-text">Aggiorna sqlnet.ora con la posizione del wallet.</block>
  <block id="1771e316623df1d2d5f036dd83d41c2f" category="list-text">Convalida le credenziali.</block>
  <block id="c1bae5368d595b9e9b0d5802288e42ea" category="list-text">Configurare e abilitare il failover Fast-Start.</block>
  <block id="3c7194e8047047bc3902fd70f214665e" category="list-text">Avvia e convalida l'osservatore.</block>
  <block id="4a4079b1a514d5e3c4b71005775d7422" category="admonition">Per ottenere una perdita di dati pari a zero, la modalità di protezione di Oracle Data Guard deve essere impostata su<block ref="00d3443d618873afe8993c693e791995" prefix=" " category="inline-code"></block> O<block ref="bd7b78324a1ce0ffe376b2b2947a6b1b" prefix=" " category="inline-code"></block> modalità.  La modalità di protezione predefinita di<block ref="e68a7d40fb24f35e9af79c8a8a16ab4e" prefix=" " category="inline-code"></block> può essere modificato dall'interfaccia di Data Guard Broker modificando la configurazione di Data Guard e cambiando<block ref="4c30d9f64bc6a599bc663cfa3960ae58" prefix=" " category="inline-code"></block> da ASYNC a SYNC.  La modalità di destinazione del log di archivio Oracle deve essere modificata di conseguenza.  Quando l'applicazione di registro in tempo reale è abilitata per Data Guard come richiesto per<block ref="00d3443d618873afe8993c693e791995" prefix=" " category="inline-code"></block> , evitare di riavviare automaticamente il database perché il riavvio automatico del database potrebbe aprire inavvertitamente il database di standby in<block ref="aa972431776a654708f7d18717a8b756" prefix=" " category="inline-code"></block> modalità, che richiede una licenza Active Data Guard.  Invece, avviare il database manualmente per assicurarsi che rimanga in un<block ref="4a03a012bfc6e4f83139d742e7491d92" prefix=" " category="inline-code"></block> stato con recupero gestito in tempo reale.</block>
  <block id="983995df6f145b4506ca5b1b15a10e10" category="paragraph">Il seguente toolkit di automazione è specificamente progettato per creare o aggiornare cloni di un database standby Oracle Data Guard distribuito su GCNV con configurazione NFS/ASM per una gestione completa del ciclo di vita del clone.</block>
  <block id="793eb66d4d2bc3758a112c60e7131633" category="admonition">Al momento, l'accesso al toolkit è consentito solo agli utenti interni NetApp con accesso Bitbucket.  Gli utenti esterni interessati possono richiedere l'accesso al proprio account team o contattare il team NetApp Solutions Engineering.  Fare riferimento a<block ref="03300e451b2559a8f174daf2fbe59048" category="inline-link-macro-rx"></block> per le istruzioni d'uso.</block>
  <block id="0b5a6e1f3287513b32657f6ab3857f99" category="summary">I carichi di lavoro di Oracle Database richiedono una capacità di archiviazione scalabile che garantisca tempi di risposta IO costanti, larghezza di banda e bassa latenza.  Google Cloud NetApp Volumes fornisce un servizio di archiviazione file completamente gestito che supporta l'accesso al protocollo NFS, progettato specificamente per soddisfare questi requisiti esigenti.</block>
  <block id="9e5fca31ff29556b8be5e8abad3bf09e" category="doc">Panoramica: Oracle Database con Google Cloud NetApp Volumes</block>
  <block id="abe9f7fe1776c301eb3cabcbbf17f446" category="paragraph">Questa soluzione consente alle organizzazioni di eseguire carichi di lavoro di Oracle Database su Google Cloud mantenendo al contempo capacità di archiviazione di livello aziendale.</block>
  <block id="5c61afd68fc6a88f95d143ab10ec3463" category="section-title">Vantaggi di Google Cloud NetApp Volumes</block>
  <block id="ff95b02caeabab2c83214e8a4b9a2c2c" category="paragraph">Google Cloud NetApp Volumes offre i seguenti vantaggi:</block>
  <block id="16e2bc65f6e161fd0368b1c883ec91ce" category="paragraph">*Gestione dinamica delle risorse:*</block>
  <block id="049ae0ea6a80b3d13a24e9447436bd1a" category="paragraph">Le risorse di archiviazione possono essere adattate in tempo reale per soddisfare le esigenze aziendali.  Gli amministratori possono aumentare o diminuire la capacità di archiviazione in base alla domanda, senza interruzioni del servizio.  Questa flessibilità consente alle organizzazioni di ottimizzare in modo efficiente le proprie risorse di archiviazione, garantendo il mantenimento di livelli di prestazioni adeguati e controllando al contempo i costi.  Il sistema garantisce un ridimensionamento fluido sia delle caratteristiche di capacità che di prestazioni, adattandosi alle mutevoli esigenze del carico di lavoro senza influire sulle operazioni del database.</block>
  <block id="a3ac95f7c7602f0c706ce7ade72f35f9" category="paragraph">*Architettura di livello aziendale:* NetApp Volumes si basa sulla tecnologia ONTAP , che fornisce una piattaforma di storage solida e affidabile.  L'infrastruttura è progettata con l'elevata disponibilità come principio fondamentale, incorporando ridondanza a più livelli.  Le funzionalità integrate di replicazione dei volumi tra sedi supportano una pianificazione completa della continuità aziendale e del disaster recovery.  Ciò include la protezione dei dati tra regioni, garantendo la disponibilità e la durabilità dei dati in diverse posizioni geografiche.</block>
  <block id="e8a5a476a6a4882f8903ac541ecb3abd" category="paragraph">*Gestione del carico di lavoro:*</block>
  <block id="18a956e8a54e474de0d8d49fe7b1c0ff" category="paragraph">NetApp Volumes eccelle nel supportare più istanze di database, mantenendo al contempo un isolamento e delle prestazioni adeguati.  Le organizzazioni possono implementare una gestione granulare dell'archiviazione di ciascun database e persino dei componenti del database, come ad esempio file di dati selezionati o destinazioni di log di archivio.  Il risultato è una gestione e prestazioni ottimali.  Le risorse di archiviazione possono essere ridimensionate individualmente, garantendo flessibilità nell'allocazione delle risorse.  Questo controllo granulare consente una gestione efficiente di vari carichi di lavoro di database con requisiti di prestazioni e capacità differenti.</block>
  <block id="668e26a86f41e7595b750fc238dd8783" category="paragraph">*Protezione e gestione dei dati:*</block>
  <block id="bfc29e4eb95eab21df52e1af0da3cc1f" category="paragraph">Le funzionalità di protezione dei dati includono snapshot istantanei in grado di catturare lo stato dell'applicazione in momenti specifici.  La tecnologia snapshot è efficiente in termini di spazio, riducendo al minimo il sovraccarico di archiviazione e mantenendo l'integrità dei dati.  Il servizio si integra perfettamente con le soluzioni di backup native, supportando la gestione completa del ciclo di vita dei dati.  Le organizzazioni possono implementare il ripristino puntuale, eseguire operazioni di backup e ripristino e gestire la conservazione dei dati in base alle proprie esigenze aziendali.</block>
  <block id="ce44945a28785f38fa4cfc6f7a747b29" category="paragraph">*Supporto allo sviluppo e ai test:*</block>
  <block id="8cc99760cd55a918952494057967d9f9" category="paragraph">NetApp Volumes semplifica la creazione di copie di database tramite efficienti funzionalità di clonazione dei volumi.  I team di sviluppo possono predisporre rapidamente ambienti di test a costi contenuti e senza influire sui carichi di lavoro di produzione.  La piattaforma garantisce l'isolamento degli spazi di lavoro di sviluppo, consentendo ai team di lavorare in modo indipendente condividendo al contempo le risorse infrastrutturali.  Queste funzionalità migliorano notevolmente i cicli di sviluppo e test, consentendo una rapida iterazione e convalida delle modifiche al database.</block>
  <block id="27019257bfc4d6c153c0a728d709d301" category="paragraph">*Architettura di archiviazione:*</block>
  <block id="c080665081690959a9721dce66a5d5e5" category="paragraph">Il servizio offre più livelli per soddisfare diversi requisiti di carico di lavoro, dagli ambienti di sviluppo ai database di produzione mission-critical.  L'architettura supporta il ridimensionamento indipendente delle metriche di capacità e prestazioni, consentendo un'ottimizzazione precisa per carichi di lavoro specifici del database.  La piattaforma consente operazioni di database simultanee con accesso ai dati a bassa latenza, supportando le applicazioni aziendali più esigenti.</block>
  <block id="6adb757ee641d095e609ea30e81c44ad" category="paragraph">*Opzioni di scalabilità:*</block>
  <block id="6378cee11a1aa7752f5e247b67e92399" category="paragraph">La gestione dell'archiviazione diventa semplice grazie alla possibilità di aggiungere volumi in modo dinamico in base alle necessità.  La piattaforma è scalabile da gigabyte a petabyte, supportando database di qualsiasi dimensione.  Le caratteristiche delle prestazioni possono essere regolate in base ai requisiti del carico di lavoro, garantendo prestazioni costanti man mano che i database crescono.  Le funzionalità di scalabilità supportano sia la crescita pianificata sia i picchi imprevisti nei requisiti del database.</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="section-title">Casi d'uso</block>
  <block id="77365112505008139064d41131e07043" category="paragraph">*Ambienti di produzione ad alte prestazioni:*</block>
  <block id="5dd2b7c649d3def5e47f0b72f1c67c26" category="paragraph">NetApp Volumes supporta distribuzioni di database Oracle mission-critical che richiedono IOPS sostenuti e caratteristiche prestazionali a bassa latenza.  L'architettura supporta carichi di lavoro sia OLTP che OLAP, con livelli di servizio configurabili che supportano vari profili di prestazioni.  NetApp Volumes garantisce prestazioni incredibilmente veloci, raggiungendo fino a 4,6 GiBps e 340K IOPS per una produttività eccezionale anche con carichi di lavoro misti di lettura/scrittura.</block>
  <block id="9602da20980a1fbf9da862ebfc76b029" category="paragraph">*Migrazione nel cloud:*</block>
  <block id="a2e475c707bac0f49be075fd6b883797" category="paragraph">La piattaforma facilita le migrazioni lift-and-shift degli ambienti Oracle Database dall'infrastruttura on-premise a Google Cloud.  Le opzioni includono Oracle Recovery Manager (RMAN), Oracle Data Guard e Oracle GoldenGate.  L'architettura di archiviazione NFS consente una transizione fluida con modifiche architettoniche minime, supportando strategie di migrazione sia offline che online, mantenendo al contempo le procedure di backup e ripristino esistenti.</block>
  <block id="2e56c635136648875b337cea9858c465" category="paragraph">*Architettura di consolidamento del database:*</block>
  <block id="374071a4e61f1493eb8c8b30ce03ba21" category="paragraph">L'architettura consente il consolidamento del database tramite modelli di distribuzione multi-tenant.  Gli amministratori possono implementare l'isolamento delle risorse a livello di volume, con volumi dedicati per Oracle Pluggable Database, file di dati specifici, redo log e archive log.  Questa progettazione supporta l'architettura Oracle Multitenant e consente un utilizzo efficiente delle risorse, mantenendo al contempo l'isolamento delle prestazioni tra i database.</block>
  <block id="0d1898c295f4168a38e2047578068e24" category="paragraph">*Replica del sistema aziendale:*</block>
  <block id="9da046618842f93cbef8b7d37e98db69" category="paragraph">Le funzionalità di snapshot e clonazione della piattaforma supportano il provisioning rapido di ambienti di sviluppo e test a partire dai dati di produzione.  La tecnologia di clonazione del volume consente di realizzare copie di database efficienti in termini di spazio e con caratteristiche di prestazioni indipendenti.  Questa funzionalità supporta pipeline CI/CD (integrazione continua e sviluppo continuo) che richiedono frequenti aggiornamenti del database e ambienti di test isolati con capacità di prestazioni di livello produttivo.</block>
  <block id="70895b62b8c428c3f36c1645b7fa6448" category="paragraph">È possibile eseguire database Oracle su Google Compute Engine con uno o più volumi di archiviazione.  Il numero di volumi dipende dal livello di separazione dei dati.  Ad esempio, i database più piccoli potrebbero essere posizionati su un singolo volume.  I database più grandi con requisiti di I/O o di gestione più esigenti potrebbero richiedere volumi individuali di file di dati, redo log e archive log.  È possibile aggiungere anche volumi aggiuntivi per dati applicativi o di backup.  Ogni volume può essere dimensionato correttamente in base alle esigenze dei dati da ospitare.</block>
  <block id="401f6cd3f40aa51e178512b2b23480fa" category="paragraph"><block ref="401f6cd3f40aa51e178512b2b23480fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bcec2083d821a1c1a4f106efd02166c" category="section-title">Preparazione dei Google Cloud NetApp Volumes</block>
  <block id="9190975428f02b211204d39637e4bef5" category="paragraph">Crea un pool di archiviazione Google Cloud NetApp Volumes con la capacità e il livello di servizio desiderati.  Consultare la Guida introduttiva per configurare Google Cloud NetApp Volumes.  Se stai migrando database Oracle esistenti da locale a Google, puoi utilizzare Metrics Explorer per ottenere statistiche di throughput aggiornate, necessarie per dimensionare il pool e i volumi Google Cloud NetApp Volumes Storage.  Per informazioni dettagliate su come utilizzare il servizio, contatta il tuo specialista Oracle su Google.  La capacità effettiva disponibile per i volumi in un pool di archiviazione è definita dalle dimensioni e dal livello di servizio (Standard, Premium o Extreme, ecc.) del pool di archiviazione selezionato</block>
  <block id="aa88ccfa825dadd9cbb9acc84e508b2c" category="paragraph">*Scalabilità*</block>
  <block id="313e1c0bb958c3d0a6e0452378338b74" category="paragraph">I volumi NetApp sono in grado di scalare facilmente per adattarsi alla crescita dei dati e dei carichi di lavoro, supportando al contempo molti piccoli volumi.  Un singolo pool di archiviazione può facilmente crescere da un minimo di 2 TiB fino a qualsiasi dimensione fino a 10 PiB.  Fare riferimento ai dettagli su quote e limiti.</block>
  <block id="0526070c28c019164a730675d790fb4d" category="paragraph">*Componenti*</block>
  <block id="1608eebdb453334139d8fad6837db5e1" category="paragraph">La soluzione utilizza i seguenti componenti:</block>
  <block id="d23f1247c469802c9822b41af95fe05d" category="list-text">* Google Cloud NetApp Volumes* è un servizio di archiviazione dati basato su NetApp completamente gestito e di prima parte che offre funzionalità avanzate di gestione dei dati e prestazioni altamente scalabili.  È sviluppato da Google e NetApp, un partner di Google.</block>
  <block id="2b4669bf60c88eb28c8a8eae0310f25d" category="inline-link-macro">Motore di calcolo con database Oracle</block>
  <block id="76f7738d1ac17ef791853e339bf2c740" category="list-text">*Virtual Machines* è un'offerta di infrastruttura come servizio (IaaS).  È possibile utilizzare Compute Engine per distribuire risorse di elaborazione scalabili e on-demand.  Compute Engine offre la flessibilità della virtualizzazione, eliminando però le esigenze di manutenzione dell'hardware fisico.  Questa soluzione utilizza<block ref="ed9e33b0ca8bc4215de0c8753958ceb2" category="inline-link-macro-rx"></block> .</block>
  <block id="19db0937c14accbafa2cd68e91c8b422" category="list-text">*Google Virtual Private Cloud Virtual Private Cloud (VPC)* fornisce funzionalità di rete alle istanze di macchine virtuali (VM) di Compute Engine, ai cluster di Google Kubernetes Engine (GKE) e ai carichi di lavoro serverless.  VPC fornisce una rete globale, scalabile e flessibile per le risorse e i servizi basati sul cloud.</block>
  <block id="ddc4509cb8285aaf0b1e6d3e4e15d887" category="list-text">*Oracle Database* è un sistema di gestione di database multi-modello.  Supporta vari tipi di dati e carichi di lavoro.  Il client dNFS ottimizza i percorsi I/O tra i server Oracle e NFS.  Di conseguenza, fornisce prestazioni notevolmente migliori rispetto ai client NFS tradizionali.</block>
  <block id="0b3fbc0b5204dbd35ad7e0a12c1b3d1b" category="section-title">Vantaggi principali</block>
  <block id="24fb69f49e38268a9d19571c0170ea1f" category="paragraph">Questa immagine (Figura 2) mostra i vantaggi dell'utilizzo di Google Cloud NetApp Volumes con Oracle Database.</block>
  <block id="7b5bca74f48123693b362a8eb4609a2d" category="paragraph"><block ref="7b5bca74f48123693b362a8eb4609a2d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="913c81de3ae91549b7810ad12f7f60bc" category="paragraph">*Servizio semplice e affidabile*</block>
  <block id="978c475c6d2286d1263abd87a1428c7e" category="paragraph">Google Cloud NetApp Volumes funziona in modo fluido all'interno di Google Cloud, offrendo un approccio semplice all'archiviazione aziendale.  In quanto servizio nativo, si integra naturalmente con l'ecosistema di Google Cloud, consentendo di effettuare il provisioning, gestire e scalare i volumi proprio come faresti con altre opzioni di archiviazione di Google Cloud.  Il servizio sfrutta il software di gestione dati ONTAP di NetApp, fornendo volumi NFS di livello aziendale specificamente ottimizzati per Oracle Database e altre applicazioni aziendali critiche.</block>
  <block id="071837c9e9b64c6471791f180cff1f20" category="paragraph">*Sistemi altamente performanti*</block>
  <block id="2c91d42db049e0667b4332152f1fa2ad" category="paragraph">Oltre a utilizzare uno storage condiviso e altamente scalabile, Google Cloud NetApp Volumes garantisce una bassa latenza.  Questi fattori rendono questo servizio particolarmente adatto all'utilizzo del protocollo NFS per eseguire carichi di lavoro di Oracle Database sulle reti.</block>
  <block id="1b4abd4c94972ae16a646540bf73c773" category="paragraph">Le istanze di calcolo di Google Cloud possono utilizzare sistemi di archiviazione NetApp all-flash ad alte prestazioni.  Questi sistemi sono inoltre integrati nella rete Google Cloud.  Di conseguenza, si ottiene uno storage condiviso ad alta larghezza di banda e bassa latenza, paragonabile a una soluzione on-premise.  Le prestazioni di questa architettura soddisfano i requisiti dei carichi di lavoro aziendali più esigenti e critici per il business.  Per ulteriori informazioni sui vantaggi in termini di prestazioni di Google Cloud NetApp Volumes, vedere Google Cloud NetApp Volumes.</block>
  <block id="94618b5b16346a12ee26f0c0d7939934" category="paragraph">Google Cloud NetApp Volumes si basa essenzialmente su una flotta bare-metal di sistemi di storage all-flash, garantendo prestazioni eccezionali per carichi di lavoro impegnativi.  Questa architettura, combinata con funzionalità di storage condivise e altamente scalabili, garantisce una latenza costantemente bassa, rendendola particolarmente adatta all'esecuzione di carichi di lavoro di Oracle Database tramite protocollo NFS.</block>
  <block id="e8c00c9dedafb32ad01504fa4ca7b0dd" category="paragraph">L'integrazione con le istanze di calcolo di Google Cloud garantisce l'accesso a prestazioni elevate.  Grazie alla profonda integrazione con il networking di Google Cloud, i clienti possono beneficiare di:</block>
  <block id="7c0b796eaa520e47e5030546b0d6e5f9" category="list-text">Archiviazione condivisa ad alta larghezza di banda e bassa latenza</block>
  <block id="c23f7a45f61688b571a42af9d7bfccc5" category="list-text">Prestazioni paragonabili alle soluzioni on-premise</block>
  <block id="f9355b01bc7443f1033619d8e00b3d0a" category="list-text">Scalabilità flessibile su richiesta</block>
  <block id="8d5cba2e648fca72a04a5179df0a5776" category="list-text">Configurazioni ottimizzate del carico di lavoro</block>
  <block id="ad7edc835cdc013b3bb1106b6fdbfb7f" category="paragraph">*Gestione dei dati su scala aziendale*</block>
  <block id="7ada7d3b835538f91b08efa4b2ad13ad" category="paragraph">La soluzione basata sul software ONTAP stabilisce nuovi standard per la gestione dei dati aziendali.  Una delle sue caratteristiche più importanti è la clonazione istantanea e poco ingombrante, che migliora notevolmente gli ambienti di sviluppo e test.  La piattaforma supporta la scalabilità dinamica della capacità e delle prestazioni, garantendo un utilizzo efficiente delle risorse in tutti i carichi di lavoro.  La funzionalità snapshot all'interno di Google Cloud NetApp Volumes rappresenta un importante progresso nella gestione dei database.  Questi snapshot forniscono punti di database coerenti con notevole efficienza.  I principali vantaggi includono:</block>
  <block id="09a038572bcac1b65d8a2a9e532a34c1" category="list-text">Sovraccarico di archiviazione minimo per la creazione di snapshot</block>
  <block id="9df00cc7cc4b7ef9bd4f3a190cbcf745" category="list-text">Capacità di creazione, replica e ripristino rapide</block>
  <block id="68fc4dc8ffb2225bf790e102b9b83841" category="list-text">Impatto zero sulle prestazioni delle operazioni di volume</block>
  <block id="0a607c8aebe65125000509c20d8f61e7" category="list-text">Elevata scalabilità per la creazione frequente di snapshot</block>
  <block id="d22318251d28e05685b867739e1f7c27" category="list-text">Supporto per più snapshot simultanei</block>
  <block id="01980f5ad4b936d2f9ca85ba45df1787" category="paragraph">Questa solida funzionalità di snapshot consente soluzioni di backup e ripristino che soddisfano gli accordi di servizio RTO (Recovery Time Objective) e RPO (Recovery Point Objective) più severi, senza compromettere le prestazioni del sistema.</block>
  <block id="b23520be98d664aa8ea6741a9f0d8558" category="paragraph">*DR ibrido*</block>
  <block id="702738f14b556746f0c517e16580d448" category="paragraph">Google Cloud NetApp Volumes offre soluzioni complete di disaster recovery adatte sia agli ambienti cloud che a quelli ibridi.  Questa integrazione supporta piani DR sofisticati che funzionano efficacemente in più regioni, mantenendo al contempo la compatibilità con i data center locali.</block>
  <block id="145481d97c3d36dd53343cfd062a2804" category="paragraph">Il framework di disaster recovery fornisce:</block>
  <block id="2a01fbd781ec5b8d491ca14b4de659a5" category="list-text">Replicazione fluida del volume tra più sedi</block>
  <block id="e93b1dc6f67582a97fbc63291ffb202b" category="list-text">Opzioni di recupero flessibili</block>
  <block id="d775117b4d0831fa53fdc592830e40f0" category="list-text">Protezione dei dati coerente in tutti gli ambienti</block>
  <block id="d6aea4b6ba6626c4bee07310895321fb" category="paragraph">Questo approccio completo al disaster recovery garantisce la continuità aziendale mantenendo al contempo l'integrità dei dati in tutti gli scenari di distribuzione.  La flessibilità della soluzione consente alle organizzazioni di progettare e implementare strategie di DR che si allineano esattamente ai requisiti aziendali, sia che operino interamente nel cloud o in un ambiente ibrido.</block>
  <block id="f6134f58b2507b7ec74620f418e3ef18" category="paragraph">Per questa soluzione valgono le seguenti considerazioni:</block>
  <block id="a8a0a52ecf502c3e88a60ca3d11595c2" category="paragraph">*Disponibilità*</block>
  <block id="2d91a4dea9afc6e775a0cb83d4176cd7" category="paragraph">Google Cloud NetApp Volumes garantisce una disponibilità di livello aziendale grazie alla sua solida architettura.  Il servizio è supportato da un accordo sul livello di servizio (SLA) completo, che specifica le garanzie di disponibilità e gli impegni di supporto.  Nell'ambito delle sue capacità di gestione dei dati su scala aziendale, il servizio offre funzionalità di snapshot che possono essere utilizzate efficacemente nelle soluzioni di backup e ripristino, garantendo la protezione dei dati e la continuità aziendale.</block>
  <block id="2f48fe9e8eb190b75f221035fdc91ef8" category="paragraph"><block ref="2f48fe9e8eb190b75f221035fdc91ef8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e91b838261a5e488b5d3a2fa56986a97" category="paragraph">*Scalabilità:*</block>
  <block id="904150722f0b4edd9fc18730d161ed39" category="paragraph">La scalabilità integrata è una caratteristica fondamentale di Google Cloud NetApp Volumes, come descritto in dettaglio nella sezione dedicata ai sistemi ad alte prestazioni.  Il servizio consente il ridimensionamento dinamico delle risorse per soddisfare i requisiti di carico di lavoro in continua evoluzione, offrendo una flessibilità spesso assente nelle soluzioni di storage tradizionali.</block>
  <block id="db5f42d6c131ee4fd9e1c31f2c366835" category="paragraph">*Sicurezza:*</block>
  <block id="1cd14a80c9883cb4f90490fe3a4b6a54" category="paragraph">Google Cloud NetApp Volumes implementa misure di sicurezza complete per proteggere i tuoi dati.  Il quadro di sicurezza comprende:</block>
  <block id="9f0125f1c71e429424cb0f7c56fd19a5" category="list-text">Meccanismi di protezione dei dati integrati</block>
  <block id="e2dc8bb0bdde377f17dc7eaeb30ef942" category="list-text">Funzionalità di crittografia avanzate</block>
  <block id="ceb27f1d0855e0f026ee765092a1bb2d" category="list-text">Regole di policy configurabili</block>
  <block id="db0bdd443a2909aa62e45e1c07358189" category="list-text">Funzionalità di controllo degli accessi basate sui ruoli</block>
  <block id="c8918eeed68cfad1cfeec3a18d68891d" category="list-text">Registrazione e monitoraggio dettagliati delle attività</block>
  <block id="f46430a61f9f63230c66421aadf129d8" category="paragraph">*Ottimizzazione dei costi:*</block>
  <block id="541537b0320edbeafb40258eb34461d9" category="paragraph">Le configurazioni tradizionali on-premise solitamente richiedono un dimensionamento in base ai requisiti di carico di lavoro massimo, rendendole convenienti solo in caso di utilizzo di picco.  Al contrario, Google Cloud NetApp Volumes consente la scalabilità dinamica, consentendo di ottimizzare le configurazioni in base alle attuali esigenze del carico di lavoro, riducendo così le spese inutili.</block>
  <block id="10b521d0b1acdd1c70e5bc375245dcef" category="paragraph">*Ottimizzazione delle dimensioni della VM:*</block>
  <block id="3d67090062087c20366957a7b181215b" category="paragraph">L'architettura del servizio consente di risparmiare sui costi tramite l'ottimizzazione delle VM in diversi modi:</block>
  <block id="628cf362a889ee2010e975c91df9458f" category="paragraph">*Vantaggi in termini di prestazioni:*</block>
  <block id="0f06b882b83afef5e6bbca36af3ed12b" category="paragraph">L'accesso allo storage a bassa latenza consente alle VM più piccole di eguagliare le prestazioni delle VM più grandi utilizzando lo storage su disco ultra</block>
  <block id="df8eeec9f98c3a53d8019d0f2b823325" category="paragraph">L'archiviazione collegata alla rete può raggiungere prestazioni superiori anche con VM più piccole grazie alle ridotte limitazioni di I/O</block>
  <block id="8378233383e0f7c79ec346325e768fec" category="paragraph">*Limitazioni e vantaggi delle risorse:*</block>
  <block id="b920edc0c0565b25f6906252a0cb66ff" category="paragraph">Le risorse cloud in genere impongono limiti alle operazioni di I/O per impedire il degrado delle prestazioni dovuto all'esaurimento delle risorse o a interruzioni impreviste.  Con Google Cloud NetApp Volumes:</block>
  <block id="7184c4eba3ab5a02aea0ab3f6fc9f8d0" category="list-text">Si applicano solo i limiti di larghezza di banda della rete, che riguardano solo l'uscita dei dati. I limiti di I/O del disco a livello di VM non influiscono sulle prestazioni.</block>
  <block id="b9b231b8d3d33dc5c1b5c03de37e6c1b" category="list-text">Le limitazioni di rete sono in genere superiori alle limitazioni di throughput del disco</block>
  <block id="f1eaffa191e6a7d86a1d9e1fe22c1af3" category="paragraph">*Vantaggi in termini di risparmio sui costi*</block>
  <block id="d5488d3ac0e616492a832eccceef6821" category="paragraph">I vantaggi economici derivanti dall'utilizzo di VM più piccole includono:</block>
  <block id="c66c91d7bb13c1fd35d1b0f4ebe116cc" category="list-text">Costi diretti di VM inferiori</block>
  <block id="ced72828b05f0fc0f6e35e36e50d34ca" category="list-text">Riduzione dei costi di licenza di Oracle Database, in particolare con SKU con codice vincolato</block>
  <block id="62acf9d7eba20363e8a5a81494919b05" category="list-text">Assenza di componenti di costo I/O nello storage collegato alla rete</block>
  <block id="6361c2d8d59812a5eb50c7ce054e14b0" category="list-text">Costo totale di proprietà complessivamente inferiore rispetto alle soluzioni di archiviazione su disco</block>
  <block id="07984601af21a07effa109928eecd215" category="paragraph">Questa combinazione di scalabilità flessibile, prestazioni ottimizzate e utilizzo efficiente delle risorse rende Google Cloud NetApp Volumes una scelta conveniente per le esigenze di storage aziendale.  La capacità di dimensionare correttamente sia le risorse di archiviazione che quelle di elaborazione consente alle organizzazioni di mantenere prestazioni elevate, controllando al contempo i costi in modo efficace.</block>
  <block id="c53dba1ad099d932b01eacd82bd500f2" category="doc">NVA-1155: Database Oracle 19c RAC su FlexPod Datacenter con Cisco UCS e NetApp AFF A800 su FC - Guida alla progettazione e all'implementazione</block>
  <block id="547673676a9fdbc79f1364e749be4d0a" category="paragraph">Allen Cao, NetApp</block>
  <block id="ffaaa5a04a78a6ce5d807980dbf83e64" category="paragraph">Questa guida alla progettazione e all'implementazione per database Oracle 19c RAC su FlexPod Datacenter con Cisco UCS e NetApp AFF A800 su FC fornisce dettagli sulla progettazione della soluzione e sui processi di implementazione passo passo per l'hosting di database Oracle RAC sulla più recente infrastruttura FlexPod Datacenter con il sistema operativo Oracle Linux 8.2 e un kernel compatibile con Red Hat.</block>
  <block id="3b872d3a96131109e4700e3031e4b158" category="inline-link-macro">NVA-1155: database Oracle 19c RAC su FlexPod Datacenter con Cisco UCS e NetApp AFF A800 su FC</block>
  <block id="202f51b1cd08b9562681a95f87429702" category="paragraph"><block ref="202f51b1cd08b9562681a95f87429702" category="inline-link-macro-rx"></block></block>
  <block id="92726ec0eae6e1e73c6db87d872ebe6e" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato.  Il database distribuito in Azure è protetto tramite lo strumento SnapCenter UI per una gestione semplificata del database</block>
  <block id="f344dcb6783f656a2b1d73c6cdf6976f" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato.  Il database distribuito in Azure è protetto tramite lo strumento SnapCenter UI per una gestione semplificata del database.</block>
  <block id="3c0b969f02b8a026925047057738fc1b" category="paragraph">Il software NetApp SnapCenter software è una piattaforma aziendale di facile utilizzo per coordinare e gestire in modo sicuro la protezione dei dati su applicazioni, database e file system.  Semplifica la gestione del ciclo di vita di backup, ripristino e clonazione delegando queste attività ai proprietari delle applicazioni senza sacrificare la capacità di supervisionare e regolare le attività sui sistemi di archiviazione.  Sfruttando la gestione dei dati basata sull'archiviazione, consente di aumentare le prestazioni e la disponibilità, nonché di ridurre i tempi di test e sviluppo.</block>
  <block id="f5374dd6e81292f8768efaeefbb870fc" category="paragraph">Nel TR-4987,<block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block> , dimostriamo la distribuzione automatizzata di Oracle su Azure NetApp Files (ANF) nel cloud Azure.  In questa documentazione, illustriamo la protezione e la gestione del database Oracle su ANF nel cloud Azure con uno strumento SnapCenter UI molto intuitivo.</block>
  <block id="81fa72cbc547f894c7c04a4127dfe5ea" category="list-text">Backup e ripristino del database Oracle distribuito su ANF nel cloud Azure con SnapCenter.</block>
  <block id="6cfd0230dc78dea7b5afceb0812f2f42" category="list-text">Gestisci snapshot di database e copie clonate per accelerare lo sviluppo delle applicazioni e migliorare la gestione del ciclo di vita dei dati.</block>
  <block id="9de2392a5a7812b0166ee1ad25de89f1" category="list-text">Un DBA che desidera distribuire database Oracle su Azure NetApp Files.</block>
  <block id="9a0a3a7d3a2a195a355c15770cfa5372" category="list-text">Un amministratore di storage che desidera distribuire e gestire database Oracle su Azure NetApp Files.</block>
  <block id="88ee29f0e07795688dabad629e6b1a38" category="cell">Un pool di capacità con livello di servizio Premium</block>
  <block id="5b51e2d6963535892778a3ec85923303" category="cell">Due istanze di macchine virtuali Linux</block>
  <block id="fcac956b151981c790450bffbe8a6ec5" category="cell">DataCenter 2022; Hotpatch AE - x64 Gen2</block>
  <block id="66bda974b27aec9fc4c649e866e2d848" category="cell">Patch p34765931_190000_Linux-x86-64.zip</block>
  <block id="e2bc304a34949cf78793eb2d9a4466f7" category="cell">Patch p6880880_190000_Linux-x86-64.zip</block>
  <block id="58b1cd722de6d096e347df95b97f1708" category="list-text">* Distribuzione SnapCenter .*  SnapCenter può essere distribuito in un dominio Windows o in un ambiente Workgroup.  Per la distribuzione basata su dominio, l'account utente del dominio deve essere un account amministratore del dominio oppure l'utente del dominio deve appartenere al gruppo dell'amministratore locale sul server di hosting SnapCenter .</block>
  <block id="51b67e7136bcea8684399bd788343a3d" category="list-text">*Risoluzione del nome.*  Il server SnapCenter deve risolvere il nome nell'indirizzo IP per ciascun host del server del database di destinazione gestito.  Ogni host del server del database di destinazione deve risolvere il nome del server SnapCenter nell'indirizzo IP.  Se un server DNS non è disponibile, aggiungere la denominazione ai file host locali per risolvere il problema.</block>
  <block id="5201585f52455453631952654fbcfdc1" category="list-text">*Configurazione del gruppo di risorse.*  Un gruppo di risorse in SnapCenter è un raggruppamento logico di risorse simili di cui è possibile eseguire il backup insieme.  In questo modo si semplifica e si riduce il numero di processi di backup in un ambiente di database di grandi dimensioni.</block>
  <block id="9b274f274cc2fdf5c2eaac7308f2a980" category="list-text">*Backup separato del database completo e del registro di archivio.*  Il backup completo del database include volumi di dati e volumi di log con snapshot di gruppo coerenti.  Uno snapshot completo del database eseguito frequentemente comporta un maggiore consumo di spazio di archiviazione, ma migliora l'RTO.  Un'alternativa è rappresentata da snapshot completi del database meno frequenti e backup più frequenti dei log di archivio, che consumano meno spazio di archiviazione e migliorano l'RPO, ma possono estendere l'RTO.  Quando si imposta lo schema di backup, tenere in considerazione gli obiettivi RTO e RPO.  Esiste anche un limite (1023) al numero di backup snapshot su un volume.</block>
  <block id="b85fa7425df71e674278fea13b4d8df3" category="list-text">* Delega Privileges .*  Sfrutta il controllo degli accessi basato sui ruoli integrato nell'interfaccia utente SnapCenter per delegare i privilegi ai team di applicazioni e database, se lo desideri.</block>
  <block id="e27bf8eca64c83fe8b6062fb95e333d9" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione, la configurazione e il backup, il ripristino e la clonazione SnapCenter , nonché per il database Oracle su Azure NetApp Files nel cloud di Azure.</block>
  <block id="3a384b8853704266e740bf9b8d8dadc3" category="paragraph">Per la distribuzione sono necessari database Oracle esistenti in esecuzione su ANF in Azure.  In caso contrario, seguire i passaggi indicati di seguito per creare due database Oracle per la convalida della soluzione.  Per i dettagli sulla distribuzione del database Oracle su ANF nel cloud Azure con automazione, fare riferimento a TR-4987:<block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block></block>
  <block id="ec8e7a436a2d10b04ead30082c3bb22a" category="list-text">Dal portale cloud di Azure, distribuisci le VM Linux di Azure come server Oracle DB.  Creare un pool di capacità Azure NetApp Files e volumi di database per il database Oracle.  Abilita l'autenticazione con chiave privata/pubblica SSH della VM per azureuser sui server DB.  Per i dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.  Riferito anche a<block ref="d5e84e000b0fd3823ab4fd818742266e" category="inline-link-macro-rx"></block> per informazioni dettagliate.</block>
  <block id="47c878359f4c935db42a7d950cb56e05" category="admonition">Per le VM di Azure distribuite con ridondanza del disco locale, assicurarsi di aver allocato almeno 128 GB nel disco radice della VM per avere spazio sufficiente per organizzare i file di installazione di Oracle e aggiungere il file di scambio del sistema operativo.  Espandere di conseguenza le partizioni del sistema operativo /tmplv e /rootlv.  Assicurarsi che la denominazione del volume del database segua la convenzione VMname-u01, VMname-u02 e VMname-u03.</block>
  <block id="7248ba2d36ba4b2b7deb2879ad658327" category="list-text">Dal portale cloud di Azure, predisponi un server Windows per eseguire lo strumento NetApp SnapCenter UI con la versione più recente.  Per maggiori dettagli fare riferimento al seguente link:<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block> .</block>
  <block id="f5823da50f0c261f93cac13c89efabe5" category="inline-link-macro">TR-4887</block>
  <block id="f7fd458b3791277e17cfe29113527c1c" category="list-text">Clonare una copia del toolkit di automazione della distribuzione NetApp Oracle per NFS.  Seguire le istruzioni in<block ref="a9bd41d1123cc2320afb581bf5c8b5c0" category="inline-link-macro-rx"></block> per eseguire i playbook.</block>
  <block id="bfa29a4d1633c304ce5ea63b28050c30" category="list-text">Rivedere il<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menù online.</block>
  <block id="b6bfa5b7d69b44a49fead07bd2c2a3ae" category="section-title">Installazione e configurazione SnapCenter</block>
  <block id="7608e75619cff3eeb4e8bce40481b456" category="inline-link-macro">Documentazione del software SnapCenter</block>
  <block id="d2e6519128f0c0f4297df9dfcf74f4f4" category="paragraph">Ti consigliamo di procedere online<block ref="709a64672cb1b481d7e1d00abe15371a" category="inline-link-macro-rx"></block> prima di procedere all'installazione e alla configurazione SnapCenter : .  Di seguito è riportato un riepilogo generale dei passaggi per l'installazione e la configurazione del SnapCenter software per Oracle su Azure ANF.</block>
  <block id="2f16590362b9a77201075964ad79edf6" category="list-text">Dal server Windows SnapCenter , scarica e installa l'ultima versione di Java JDK da<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .</block>
  <block id="4c432947190d17ebbfafd109af579e8b" category="inline-link-macro">NetApp | Supporto</block>
  <block id="252ae86269b0f2ac0af59ba9dbaf9f77" category="list-text">Dal server Windows di SnapCenter , scaricare e installare l'ultima versione (attualmente 5.0) dell'eseguibile di installazione SnapCenter dal sito di supporto NetApp :<block ref="f0da1a8fe9efadb5bab3d3f47fea4f67" category="inline-link-macro-rx"></block> .</block>
  <block id="06f6fe269bc66b13969ba522de05e124" category="list-text">Dopo l'installazione del server SnapCenter , avviare il browser per accedere a SnapCenter con le credenziali dell'utente amministratore locale di Windows o dell'utente di dominio tramite la porta 8146.</block>
  <block id="59b99dff4b9ef65674331e7340fa08d7" category="inline-image-macro">Questa immagine fornisce la schermata di accesso per il server SnapCenter</block>
  <block id="9e64d87d797f6ef8300dcbd71ba061b3" category="paragraph"><block ref="9e64d87d797f6ef8300dcbd71ba061b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96a37aec5c27e605088aea24d5d14206" category="list-text">Revisione<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menù online.</block>
  <block id="e4ecaf6c95aea5efc31bb0908136fe57" category="inline-image-macro">Questa immagine fornisce il menu online per il server SnapCenter</block>
  <block id="e7174631e335934782d6c5f90cc6b72e" category="paragraph"><block ref="e7174631e335934782d6c5f90cc6b72e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26580f485e752465df198f9ca8753224" category="list-text">In<block ref="4d6066956a45bb2668fa0c138b1f3d03" prefix=" " category="inline-code"></block> , controllo<block ref="6b2d6702a0358e8df43b31cf0890a30f" prefix=" " category="inline-code"></block> e clicca su Aggiorna.</block>
  <block id="ffae6a01cee8b80c47313ba0d044f280" category="inline-image-macro">Questa immagine fornisce le impostazioni dell'hypervisor per il server SnapCenter</block>
  <block id="a9c88fbfcc57e31173d9238e34e76664" category="paragraph"><block ref="a9c88fbfcc57e31173d9238e34e76664" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b970cc736d04d4b56c58fea4ad5c9da" category="list-text">Se necessario, regolare<block ref="67fde4caae23fade4d1bd7de40c81bc7" prefix=" " category="inline-code"></block> per l'interfaccia utente SnapCenter all'intervallo desiderato.</block>
  <block id="d0d8ee4e483915ff866ab8323293c1d0" category="inline-image-macro">Questa immagine fornisce il timeout della sessione per il server SnapCenter</block>
  <block id="570b8eeed70ef938c2f4b57048a01cbf" category="paragraph"><block ref="570b8eeed70ef938c2f4b57048a01cbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0acc9513d8b87ae002c74de46229c03" category="list-text">Se necessario, aggiungi altri utenti a SnapCenter .</block>
  <block id="025955fc32ea828a9e5153bf02eac7b2" category="inline-image-macro">Questa immagine fornisce Impostazioni-Utenti e Accesso per il server SnapCenter</block>
  <block id="78bc4dd16c516914018e2c23d2c2d9cb" category="paragraph"><block ref="78bc4dd16c516914018e2c23d2c2d9cb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e481d0de1e224ddd98e9dfb72c1f658d" category="list-text">IL<block ref="a5cd3ed116608dac017f14c046ea56bf" prefix=" " category="inline-code"></block> La scheda elenca i ruoli predefiniti che possono essere assegnati ai diversi utenti SnapCenter .  I ruoli personalizzati possono anche essere creati dall'utente amministratore con i privilegi desiderati.</block>
  <block id="ee0d0d1f1f6fe1110797be4d48053fae" category="inline-image-macro">Questa immagine fornisce i ruoli per il server SnapCenter</block>
  <block id="a1791585a88d4c2c3396ebe9ea77628e" category="paragraph"><block ref="a1791585a88d4c2c3396ebe9ea77628e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3fb40cbc384305df9161da52ec4c2d0d" category="list-text">Da<block ref="c4646a4d73e5bf2cf1843bda6cd9f769" prefix=" " category="inline-code"></block> , crea credenziali per gli obiettivi di gestione SnapCenter .  In questo caso d'uso dimostrativo, sono un utente Linux per l'accesso alla macchina virtuale di Azure e credenziali ANF per l'accesso al pool di capacità.</block>
  <block id="dc06424d30636d2437b7c082a44271de" category="inline-image-macro">Questa immagine fornisce le credenziali per il server SnapCenter</block>
  <block id="0df6784b503c41399d83a2f361cf4574" category="paragraph"><block ref="e39bbbd05f8020a4772bbfcb7e19ef2f" category="inline-image-macro-rx" type="image"></block> <block ref="8c6a0aea884f94491ad7ecb4f09fa845" category="inline-image-macro-rx" type="image"></block> <block ref="6027d8ffcbae416fc0888a15f185b54d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd4237b12d92b22e7ad381bf28522e7f" category="list-text">Da<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> scheda, aggiungi<block ref="7450cfde7058dc5e1f7909d0280fd7ae" prefix=" " category="inline-code"></block> con le credenziali create sopra.</block>
  <block id="71e910f4881c08ea6897e22b79389cf4" category="inline-image-macro">Questa immagine fornisce Azure NetApp Files per il server SnapCenter</block>
  <block id="8f8b38fef6eae25d3fd89e2263c39eac" category="paragraph"><block ref="a005fe8582f4fcd72fede084ef2cb22f" category="inline-image-macro-rx" type="image"></block> <block ref="874f615eb62654ab381adcc0800ad1b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d7702d89b895aa6ec99def769587c405" category="list-text">Da<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> scheda, aggiungi Azure DB VM, che installa il plug-in SnapCenter per Oracle su Linux.</block>
  <block id="b979fe379fa5345e56adf94005f84929" category="inline-image-macro">Questa immagine fornisce gli host per il server SnapCenter</block>
  <block id="bbcc613599c9e5715a277211dc9e8265" category="paragraph"><block ref="c1f33d38cd4c230d7542f5038d30507a" category="inline-image-macro-rx" type="image"></block> <block ref="240cc5b6f0609e40ae315f77dfd6f383" category="inline-image-macro-rx" type="image"></block> <block ref="e3e019b1a7125de45cc9153a40334638" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3a63bd1ddab3e696228b7b61878c09d" category="inline-link-macro">Creare policy di backup per i database Oracle</block>
  <block id="2166a1bececf10153acd19c3ed9b1d2e" category="list-text">Una volta installato il plug-in host sulla macchina virtuale del server DB, i database sull'host vengono rilevati automaticamente e visibili in<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda.  Torna a<block ref="6c8a99d2cb03d4bc5a863f8606453994" prefix=" " category="inline-code"></block> , creare policy di backup per il backup online completo del database Oracle e archiviare solo i log di backup.  Fare riferimento a questo documento<block ref="9c987a74ad0aa597c1c522b0007ec5d5" category="inline-link-macro-rx"></block> per procedure dettagliate passo dopo passo.</block>
  <block id="886ca5ebbeb3beae0e42d559adb9afa6" category="inline-image-macro">Questa immagine fornisce le impostazioni-criteri per il server SnapCenter</block>
  <block id="2031f316750a077dff90583a06314612" category="paragraph"><block ref="2031f316750a077dff90583a06314612" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89a532a917f392c521eb9922d1a47d62" category="paragraph">Un backup snapshot NetApp crea un'immagine puntuale dei volumi del database che è possibile utilizzare per il ripristino in caso di errore del sistema o perdita di dati.  I backup snapshot richiedono pochissimo tempo, solitamente meno di un minuto.  L'immagine di backup consuma uno spazio di archiviazione minimo e comporta un sovraccarico di prestazioni trascurabile, poiché registra solo le modifiche apportate ai file dall'ultima copia snapshot.  La sezione seguente illustra l'implementazione degli snapshot per il backup del database Oracle in SnapCenter.</block>
  <block id="2622a793728d35ec6877f6afb1a153e6" category="list-text">Navigazione verso<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, che elenca i database scoperti una volta installato il plugin SnapCenter sulla VM del database.  Inizialmente, il<block ref="58d4fcf0afd65a0eb3857a2d3e254c8c" prefix=" " category="inline-code"></block> del database mostra come<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="4ba96929ee643a0f3d8eb215ab8d7c35" category="inline-image-macro">Questa immagine fornisce il backup del database per il server SnapCenter</block>
  <block id="9d507498182d7ea6be0a6489ec72c0e1" category="paragraph"><block ref="9d507498182d7ea6be0a6489ec72c0e1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fb0e0d4bbba69fa67fe86fdcf6fa41f" category="list-text">Clicca su<block ref="4351cfebe4b61d8aa5efa1d020710005" prefix=" " category="inline-code"></block> menu a discesa per cambiare in<block ref="dd23acac46f17cbfd4d5541f8ee3c7a1" prefix=" " category="inline-code"></block> .  Clicca su<block ref="ec211f7c20af43e742bf2570c3cb84f9" prefix=" " category="inline-code"></block> segno sulla destra per aggiungere un gruppo di risorse.</block>
  <block id="75ee349943fa87c02204fd724db93e8c" category="paragraph"><block ref="75ee349943fa87c02204fd724db93e8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19ff1cea165e0fcce11d79410c000e25" category="list-text">Assegna un nome al gruppo di risorse, ai tag e a qualsiasi denominazione personalizzata.</block>
  <block id="002f9712d4308af5a88b3a9bf376dfeb" category="paragraph"><block ref="002f9712d4308af5a88b3a9bf376dfeb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9cf2d7ee69e3a812dae0bd35100b6081" category="list-text">Aggiungi risorse al tuo<block ref="dd23acac46f17cbfd4d5541f8ee3c7a1" prefix=" " category="inline-code"></block> .  Il raggruppamento di risorse simili può semplificare la gestione del database in un ambiente di grandi dimensioni.</block>
  <block id="bc7e4c82a94a1565c725f9d679f9148e" category="paragraph"><block ref="bc7e4c82a94a1565c725f9d679f9148e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="875d3bcc106894cef94c8362d4bada10" category="list-text">Seleziona la policy di backup e imposta una pianificazione cliccando sul segno '+' sotto<block ref="b54c2aaa814d856436c9f864ac8afdd5" prefix=" " category="inline-code"></block> .</block>
  <block id="d5578d1feb20b550eb1a91632e395995" category="paragraph"><block ref="065f7b2a26fa4e4e245647144e5f02b7" category="inline-image-macro-rx" type="image"></block> <block ref="d115e46980c432e346d7b5c9b666dd8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7918c5620dbf35faced9d7a3a666da15" category="list-text">Se la verifica del backup non è configurata nella policy, lasciare la pagina di verifica così com'è.</block>
  <block id="d97e19ad114eb3dc9069a84e78c335b7" category="paragraph"><block ref="d97e19ad114eb3dc9069a84e78c335b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2396ffd0abd0c6bffee737277b76430" category="list-text">Per inviare tramite e-mail un report di backup e una notifica, è necessario un server di posta SMTP nell'ambiente.  Oppure lasciarlo nero se non è configurato un server di posta.</block>
  <block id="5b38e03481f78ad8e72f415a2846bc20" category="paragraph"><block ref="5b38e03481f78ad8e72f415a2846bc20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71dc91d121e985620a277b7fad0f6168" category="list-text">Riepilogo del nuovo gruppo di risorse.</block>
  <block id="fa5f7125afc894425ac5b5d51bcc2af4" category="paragraph"><block ref="fa5f7125afc894425ac5b5d51bcc2af4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fbbeced92d891e91891234bc859d078" category="list-text">Ripetere le procedure sopra descritte per creare un backup del solo registro di archivio del database con la corrispondente policy di backup.</block>
  <block id="91ad8b58c73da2748483a0070caadf56" category="paragraph"><block ref="91ad8b58c73da2748483a0070caadf56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="24f86cfce0092ac5d9090957526aacbe" category="list-text">Fare clic su un gruppo di risorse per visualizzare le risorse che include.  Oltre al backup pianificato, è possibile avviare un backup una tantum cliccando su<block ref="9a9852432e1a7055c64fef6ff8f6dd65" prefix=" " category="inline-code"></block> .</block>
  <block id="85ffec48187fe9957a1677aa963d6304" category="paragraph"><block ref="b09286e22fd6db1ed1363d87f99a2897" category="inline-image-macro-rx" type="image"></block> <block ref="fccd097ec6b8c39706247a99c6d82d38" category="inline-image-macro-rx" type="image"></block></block>
  <block id="287f76d0aaad99fd67c4537bef25ac74" category="list-text">Fare clic sul lavoro in esecuzione per aprire una finestra di monitoraggio, che consente all'operatore di seguire l'avanzamento del lavoro in tempo reale.</block>
  <block id="fd45b4ee60c803a806ddbcc32961f73a" category="paragraph"><block ref="fd45b4ee60c803a806ddbcc32961f73a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="489facdfbfbab274d7adce93c4539d9f" category="list-text">Una volta completato correttamente un processo di backup, nella topologia del database viene visualizzato un set di backup snapshot.  Un set di backup completo del database include uno snapshot dei volumi di dati del database e uno snapshot dei volumi di log del database.  Un backup solo log contiene solo uno snapshot dei volumi di log del database.</block>
  <block id="92476b738112505da321bf41c92caef5" category="paragraph"><block ref="92476b738112505da321bf41c92caef5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7bd6844cb7d1a58c24be2eb5e09dd9e" category="paragraph">Il ripristino del database tramite SnapCenter ripristina una copia istantanea dell'immagine del volume del database in un dato momento.  Il database viene quindi riportato al punto desiderato tramite SCN/timestamp o a un punto consentito dai log di archivio disponibili nel set di backup.  Nella sezione seguente viene illustrato il flusso di lavoro del ripristino del database con SnapCenter UI.</block>
  <block id="1276bda3e84c962765c7f939562edc1b" category="list-text">Da<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, apri il database<block ref="9075f786989ed7df222b4297bec16422" prefix=" " category="inline-code"></block> pagina.  Scegli l'istantanea del volume dei dati del database, quindi fai clic su<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di ripristino del database.  Annotare il numero SCN o il timestamp nei set di backup se si desidera eseguire il ripristino tramite Oracle SCN o timestamp.</block>
  <block id="a482c65925dcf03c4f1df8c0c00d80a6" category="inline-image-macro">Questa immagine fornisce il ripristino del database per il server SnapCenter</block>
  <block id="7a72e560e7a8003b7812f6bd79788071" category="paragraph"><block ref="7a72e560e7a8003b7812f6bd79788071" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a0d6064f45219ea8485b59931a129f9" category="list-text">Selezionare<block ref="2fff52bd70c3fc704bb228287925cfae" prefix=" " category="inline-code"></block> .  Per un database contenitore, SnapCenter è flessibile nell'eseguire un ripristino a livello di database contenitore completo (tutti i file di dati), database collegabili o tablespace.</block>
  <block id="d5f73731610aad0f4be12831fca07f5b" category="paragraph"><block ref="d5f73731610aad0f4be12831fca07f5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bac7059283bff97f7d76c4328850c8e8" category="list-text">Selezionare<block ref="ec47ba775b6cce559706e86f20fde009" prefix=" " category="inline-code"></block> .<block ref="d50d6a874b376378de702eec4c6c0b96" prefix=" " category="inline-code"></block> significa applicare tutti i log di archivio disponibili nel set di backup.  È disponibile anche il recupero point-in-time tramite SCN o timestamp.</block>
  <block id="091614cde97f2bed43da8a1b19fdd2c7" category="paragraph"><block ref="091614cde97f2bed43da8a1b19fdd2c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e89ca0accc18535a19f3f8bf9e942886" category="list-text">IL<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> consente l'esecuzione di script sul database prima dell'operazione di ripristino/recupero.</block>
  <block id="685024253073386c3e6e6a66ca7b7912" category="paragraph"><block ref="685024253073386c3e6e6a66ca7b7912" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c23a56c7db12aa77b66795215479decf" category="list-text">IL<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> consente l'esecuzione di script sul database dopo l'operazione di ripristino/recupero.</block>
  <block id="a2a1f69706b668e4146e64d310d4e76c" category="paragraph"><block ref="a2a1f69706b668e4146e64d310d4e76c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33402d9fc6c4297fd3a48930e49eb9e4" category="list-text">Notifica via e-mail, se desiderato.</block>
  <block id="3a9d94aa43f64f2237fec5a4bc00bd42" category="paragraph"><block ref="3a9d94aa43f64f2237fec5a4bc00bd42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4867bf6fc07300b11d5e52009f6943e3" category="list-text">Ripristina riepilogo lavoro</block>
  <block id="aec80d15488463cfc1222eb1a2d91fb4" category="paragraph"><block ref="aec80d15488463cfc1222eb1a2d91fb4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a2ac78daad6f0e5548bf6b3c8a744961" category="list-text">Fare clic sul lavoro in esecuzione per aprirlo<block ref="4f65019520415bd6c5a529f526f86dd7" prefix=" " category="inline-code"></block> finestra.  Lo stato del lavoro può anche essere aperto e visualizzato da<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda.</block>
  <block id="f930792970439359f667f9074f035f8c" category="paragraph"><block ref="f930792970439359f667f9074f035f8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fd808403d73611b482552bb655a619b6" category="paragraph">La clonazione del database tramite SnapCenter viene eseguita creando un nuovo volume da uno snapshot di un volume.  Il sistema utilizza le informazioni dello snapshot per clonare un nuovo volume utilizzando i dati presenti sul volume al momento dello snapshot.  Ancora più importante, è rapido (pochi minuti) ed efficiente rispetto ad altri metodi per creare una copia clonata del database di produzione a supporto dello sviluppo o dei test.  Migliorate così notevolmente la gestione del ciclo di vita delle vostre applicazioni di database.  La sezione seguente illustra il flusso di lavoro della clonazione del database con l'interfaccia utente SnapCenter .</block>
  <block id="f2914a331ca3beda8620803b7496d121" category="list-text">Da<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, apri il database<block ref="9075f786989ed7df222b4297bec16422" prefix=" " category="inline-code"></block> pagina.  Scegli l'istantanea del volume dei dati del database, quindi fai clic su<block ref="d329fd777726c300d7a044e482b967e7" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione del database.</block>
  <block id="f9d20d3938f49ba79e7e71b35367dd8a" category="inline-image-macro">Questa immagine fornisce un clone del database per il server SnapCenter</block>
  <block id="d17fc95295fc6a482c11914f4d69c365" category="paragraph"><block ref="d17fc95295fc6a482c11914f4d69c365" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd25eb8a6cd5e51eb9a829670231a42d" category="list-text">Assegnare un nome al SID del database clone.  Facoltativamente, per un database contenitore, la clonazione può essere effettuata anche a livello PDB.</block>
  <block id="5943fc719aadae0f706834d9b6f6e8d9" category="paragraph"><block ref="5943fc719aadae0f706834d9b6f6e8d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="25fa34588c9138998f469c3fd58ada8e" category="list-text">Seleziona il server DB in cui desideri posizionare la copia del database clonato.  Mantieni i percorsi predefiniti dei file, a meno che tu non voglia rinominarli in modo diverso.</block>
  <block id="ebb17d6d8367d7009ff4221b71e97311" category="paragraph"><block ref="ebb17d6d8367d7009ff4221b71e97311" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af6adf0da4d64fb1eb5f9d629d0dfaeb" category="list-text">Sull'host del database clone avrebbe dovuto essere installato e configurato lo stesso stack software Oracle del database di origine.  Mantieni le credenziali predefinite ma modificale<block ref="021e4a863e5da100e496150783eb8099" prefix=" " category="inline-code"></block> per abbinarlo alle impostazioni sull'host del database clone.</block>
  <block id="4ddad74440aff68a53512d056840528b" category="paragraph"><block ref="4ddad74440aff68a53512d056840528b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1be0ae8621a560e5682f70d0ad924cb8" category="list-text">IL<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> consente l'esecuzione degli script prima dell'operazione di clonazione.  I parametri del database possono essere modificati per soddisfare le esigenze di un database clone rispetto a un database di produzione, ad esempio un target SGA ridotto.</block>
  <block id="189ce86b532cccb73074a8ea578c0102" category="paragraph"><block ref="189ce86b532cccb73074a8ea578c0102" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b647ca121466de8e754099a317efa26" category="list-text">IL<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> consente l'esecuzione di script sul database dopo l'operazione di clonazione.  Il ripristino del database clone può essere SCN, basato su timestamp o Until cancel (eseguendo il rollforward del database all'ultimo log archiviato nel set di backup).</block>
  <block id="82e75b2e1c8b19c32ff9e9ac1b9153c9" category="paragraph"><block ref="82e75b2e1c8b19c32ff9e9ac1b9153c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8619adcb91e677017924ca6b16ba96ed" category="paragraph"><block ref="8619adcb91e677017924ca6b16ba96ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf4fecad178142ecaf84d1631bd0de91" category="list-text">Riepilogo del lavoro di clonazione.</block>
  <block id="e2300820531ea21f5bf35a6412ab52b4" category="paragraph"><block ref="e2300820531ea21f5bf35a6412ab52b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6dd94797fb2b846da1943beb63a9a64e" category="paragraph"><block ref="6dd94797fb2b846da1943beb63a9a64e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b9ad7101315fee480147c99a1b004e9" category="list-text">Il database clonato si registra immediatamente con SnapCenter .</block>
  <block id="e2e8e461cee4c0f3181ed0e03d95614d" category="paragraph"><block ref="e2e8e461cee4c0f3181ed0e03d95614d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1a562c6e48bea55b2f5d52385feef1c" category="list-text">Convalida il database clone sull'host del server DB.  Per un database di sviluppo clonato, la modalità di archiviazione del database dovrebbe essere disattivata.</block>
  <block id="532841fbf704673d5f6dc65db8d8cf66" category="inline-link-macro"><block ref="532841fbf704673d5f6dc65db8d8cf66" category="inline-link-rx"></block></block>
  <block id="a88dfa4149ba3595ee197cb2ff9fdd79" category="paragraph"><block ref="a88dfa4149ba3595ee197cb2ff9fdd79" category="inline-link-macro-rx"></block></block>
  <block id="3cd3290a9231e38be51fc2cb3ce01572" category="inline-link-macro">Procedura di distribuzione</block>
  <block id="f2c7ec07b8a46e173b04cc559f954e0f" category="paragraph"><block ref="f2c7ec07b8a46e173b04cc559f954e0f" category="inline-link-macro-rx"></block></block>
  <block id="6845898fa7e9ec1fa3b8934d8e91b0c1" category="summary">La soluzione fornisce una panoramica e dettagli per il backup, il ripristino e la clonazione del database Oracle utilizzando NetApp SnapCenter SaaS tramite la console BlueXP .</block>
  <block id="4a2b9d3fbf0ce23b647509fb31e70cde" category="doc">TR-4977: Backup, ripristino e clonazione di Oracle Database con SnapCenter Services - Azure</block>
  <block id="182e6145515371c9597ab0106bf34ee9" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per il backup, il ripristino e la clonazione del database Oracle utilizzando NetApp SnapCenter SaaS tramite la console BlueXP .</block>
  <block id="63260fe4291efeee8bde616a2f5684d4" category="paragraph">SnapCenter Services è la versione SaaS del classico strumento di interfaccia utente per la gestione del database SnapCenter , disponibile tramite la console di gestione cloud NetApp BlueXP .  È parte integrante dell'offerta di backup cloud e protezione dei dati NetApp per database quali Oracle e HANA in esecuzione su Azure NetApp Files.  Questo servizio basato su SaaS semplifica la distribuzione tradizionale del server autonomo SnapCenter , che in genere richiede un server Windows che opera in un ambiente di dominio Windows.</block>
  <block id="29f3642491ac9aeb7b665ce66bb22367" category="paragraph">In questa documentazione, illustriamo come configurare SnapCenter Services per eseguire il backup, il ripristino e la clonazione di database Oracle distribuiti su volumi Azure NetApp Files e istanze di calcolo di Azure.  È molto semplice configurare la protezione dei dati per il database Oracle distribuito su Azure NetApp Files con l'interfaccia utente BlueXP basata sul Web.</block>
  <block id="e9077c444a6fe7487b79ae7f79962528" category="list-text">Backup del database con snapshot per database Oracle ospitati in Azure NetApp Files e macchine virtuali di Azure</block>
  <block id="403ca933973134cbaf8f9354830b4d9c" category="list-text">Ripristino del database Oracle in caso di guasto</block>
  <block id="3c0389598fef1a83350821d4fdeef712" category="list-text">Clonazione rapida di database primari per ambienti di sviluppo, test o altri casi d'uso</block>
  <block id="de98fb1438e12380191eaa97d6c6b90d" category="paragraph">Questa soluzione è destinata ai seguenti pubblici:</block>
  <block id="d187540921045cfa569cefc03bc2d168" category="list-text">L'amministratore di database che gestisce i database Oracle in esecuzione sullo storage Azure NetApp Files</block>
  <block id="bd1e27892a57409e18119bb2e541f4b1" category="list-text">L'architetto di soluzioni interessato a testare il backup, il ripristino e la clonazione del database Oracle in Azure</block>
  <block id="42f6ca06d2c7da03707222828f8997d0" category="list-text">L'amministratore di archiviazione che supporta e gestisce l'archiviazione Azure NetApp Files</block>
  <block id="94afe08a60e7f6e3a5a129eb73659899" category="list-text">Il proprietario dell'applicazione che possiede le applicazioni distribuite nell'archiviazione Azure NetApp Files e nelle VM di Azure</block>
  <block id="8b610eaf828fa120f2c2b10c15be044b" category="paragraph">I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f11ac801004d872ca260befe72ccef06" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato del BlueXP backup and recovery per le applicazioni all'interno della console BlueXP , inclusa l'interfaccia utente, il connettore e le risorse che gestisce.</block>
  <block id="26857de22d338fb1ce363971beede582" category="paragraph"><block ref="26857de22d338fb1ce363971beede582" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbe02f66cac21399f800de4cd1e8fe3b" category="paragraph">Questa immagine fornisce un quadro dettagliato del BlueXP backup and recovery per le applicazioni all'interno della console BlueXP , tra cui l'interfaccia utente, il connettore e le risorse che gestisce.</block>
  <block id="55ee60e84e278b25241f6d746cda7b4c" category="cell">Archiviazione Azure NetApp Files</block>
  <block id="2b5527ea942b29b10a9a691160f3137b" category="cell">Livello di servizio Premium</block>
  <block id="d8e8e079bcd8fa97afc26513da9e1110" category="cell">Tipo di QoS automatico e 4 TB di capacità di archiviazione in fase di test</block>
  <block id="4c791dd8c709f803e2c279029455d4da" category="cell">Istanza di Azure per il calcolo</block>
  <block id="d82c3df85e2512cdff298dd446d58313" category="cell">Due istanze distribuite, una come server DB primario e l'altra come server DB clone</block>
  <block id="985045c742c1926df0960f2e40377fde" category="cell">Red Hat Enterprise Linux 8.7 (LVM) - x64 Gen2</block>
  <block id="ca6c2c8fbdec80fdc9c7b41d5742dec2" category="cell">Versione v2.5.0-2822</block>
  <block id="d22bbe9a49e393259ebd1a700f02c6fb" category="cell">Versione agente v2.5.0-2822</block>
  <block id="f6b9199115e06b52287c2e656c7170b7" category="list-text">*Connettore da distribuire nella stessa rete virtuale/subnet dei database e Azure NetApp Files.*  Se possibile, il connettore dovrebbe essere distribuito nelle stesse reti virtuali e gruppi di risorse di Azure, il che consente la connettività all'archiviazione Azure NetApp Files e alle istanze di calcolo di Azure.</block>
  <block id="4275ae61422c34253a59329bd20a0449" category="inline-link-macro">Configurare le autorizzazioni di Azure</block>
  <block id="a2c89159a457c3034a118e2f5ec42ea8" category="list-text">*Un account utente di Azure o un principio di servizio Active Directory creato nel portale di Azure per il connettore SnapCenter .*  Per distribuire un connettore BlueXP sono necessarie autorizzazioni specifiche per creare e configurare una macchina virtuale e altre risorse di elaborazione, per configurare la rete e per ottenere l'accesso alla sottoscrizione di Azure.  Richiede inoltre autorizzazioni per creare in seguito ruoli e autorizzazioni affinché il connettore possa funzionare.  Crea un ruolo personalizzato in Azure con autorizzazioni e assegnalo all'account utente o al principio del servizio.  Per maggiori dettagli consultare il seguente link:<block ref="b49637e40777f5433f5c24dbb998f3cf" category="inline-link-macro-rx"></block> .</block>
  <block id="448ffe9dc9c373b8324c69a8af97c086" category="list-text">*Una coppia di chiavi SSH creata nel gruppo di risorse di Azure.*  La coppia di chiavi SSH viene assegnata all'utente della VM di Azure per l'accesso all'host del connettore e anche all'host della VM del database per la distribuzione e l'esecuzione di un plug-in. L'interfaccia utente della console di BlueXP utilizza la chiave SSH per distribuire il plug-in del servizio SnapCenter sull'host del database, per l'installazione del plug-in in un unico passaggio e l'individuazione del database dell'host dell'applicazione.</block>
  <block id="68c6f0e24ad67438a9793997e4148b4a" category="list-text">*Una credenziale aggiunta alle impostazioni della console BlueXP .*  Per aggiungere l'archiviazione Azure NetApp Files all'ambiente di lavoro BlueXP , è necessario configurare una credenziale che conceda le autorizzazioni per accedere ad Azure NetApp Files dalla console BlueXP nelle impostazioni della console BlueXP .</block>
  <block id="7076747996fba0bd3dae4b26df9e5b81" category="list-text">*java-11-openjdk installato sull'host dell'istanza del database della macchina virtuale di Azure.*  Per installare il servizio SnapCenter è richiesta la versione 11 di Java.  Deve essere installato sull'host dell'applicazione prima di tentare la distribuzione del plugin.</block>
  <block id="c9643c7018a32634bcea72e6f9a9b01c" category="paragraph">È disponibile un'ampia documentazione NetApp con una portata più ampia per aiutarti a proteggere i dati delle tue applicazioni cloud native.  L'obiettivo di questa documentazione è fornire procedure dettagliate che riguardano la distribuzione del servizio SnapCenter con la console BlueXP per proteggere il database Oracle distribuito su un archivio Azure NetApp Files e un'istanza di elaborazione di Azure.</block>
  <block id="20c4c0cc24d7fc086bd9c72220d4827f" category="paragraph">Per iniziare, completa i seguenti passaggi:</block>
  <block id="eb5668f5c3459c84cc715cf197e7c91a" category="inline-link-macro">Proteggi i dati delle tue applicazioni cloud native</block>
  <block id="9e5915c4d38dc3c29af322b9d02d5b8d" category="list-text">Leggi le istruzioni generali<block ref="4a82485e6c558a94a8e73b73116d1bce" category="inline-link-macro-rx"></block> e le sezioni relative a Oracle e Azure NetApp Files.</block>
  <block id="ce953d67aae97c7fc7524432a6090e33" category="list-text">Guarda il seguente video tutorial</block>
  <block id="96410c05710545cd17f642c52cfd8867" category="video-title">Video dell'implementazione di Oracle e ANF</block>
  <block id="80478dbd4349cfca50f458d912a95795" category="section-title">Prerequisiti per la distribuzione del servizio SnapCenter</block>
  <block id="1aa4f0058fb883a083f057768fa6878f" category="list-text">Un server di database Oracle primario su un'istanza di macchina virtuale di Azure con un database Oracle completamente distribuito e in esecuzione.</block>
  <block id="9c1e7cfdc38dedc2e99c928ece55f763" category="list-text">Un pool di capacità del servizio di archiviazione Azure NetApp Files distribuito in Azure con capacità sufficiente a soddisfare le esigenze di archiviazione del database elencate nella sezione dei componenti hardware.</block>
  <block id="400fbf8e332fd888d81e51801a0c2cc4" category="list-text">Un server di database secondario su un'istanza di macchina virtuale di Azure che può essere utilizzato per testare la clonazione di un database Oracle su un host alternativo allo scopo di supportare un carico di lavoro di sviluppo/test o qualsiasi caso d'uso che richieda un set di dati completo del database Oracle di produzione.</block>
  <block id="3ada7886f4bfea6ef925116fa1e9d3a2" category="list-text">Per ulteriori informazioni sulla distribuzione del database Oracle su Azure NetApp Files e sull'istanza di calcolo di Azure, vedere<block ref="87519c89a986d65c2f08fecd9e87563f" category="inline-link-macro-rx"></block> .</block>
  <block id="b8b1139d652a0eeb20f8d04852ac0ff4" category="section-title">Preparazione all'onboarding su BlueXP</block>
  <block id="87d337785ad5798c5ccb41300628991a" category="list-text">Utilizzare il collegamento<block ref="f796c57cbc184209dde3e35268bc382f" category="inline-link-macro-rx"></block> per registrarsi per accedere alla console BlueXP .</block>
  <block id="b6ae4eb3df8e4641d8de2566803478d7" category="list-text">Creare un account utente di Azure o un principio di servizio Active Directory e concedere autorizzazioni con ruolo nel portale di Azure per la distribuzione del connettore di Azure.</block>
  <block id="81ec66aa59e6b366dbe7a76be739caf3" category="list-text">Per configurare BlueXP per la gestione delle risorse di Azure, aggiungere una credenziale BlueXP con i dettagli di un'entità servizio di Active Directory che BlueXP può utilizzare per l'autenticazione con Azure Active Directory (ID client app), un segreto client per l'applicazione dell'entità servizio (segreto client) e l'ID Active Directory per l'organizzazione (ID tenant).</block>
  <block id="15c84c91cca87e33136482d747da05a0" category="list-text">Sono inoltre necessari la rete virtuale di Azure, il gruppo di risorse, il gruppo di sicurezza, una chiave SSH per l'accesso alla macchina virtuale, ecc. pronti per il provisioning del connettore e l'installazione del plug-in del database.</block>
  <block id="43e23d889dea00cd09a68857a66540a2" category="section-title">Distribuisci un connettore per i servizi SnapCenter</block>
  <block id="ab08177e4206526be72dbdc84ee2ea8e" category="list-text">Accedi alla console BlueXP .</block>
  <block id="0cbdd4f6affab5037fdf9f209cc9c3a6" category="paragraph"><block ref="0cbdd4f6affab5037fdf9f209cc9c3a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b68454c1eb2120854c603f290cc17fda" category="list-text">Fare clic sulla freccia a discesa *Connettore* e su *Aggiungi connettore* per avviare il flusso di lavoro di provisioning del connettore.</block>
  <block id="5822f4e2d21ff1df830bd1fd9564688d" category="paragraph"><block ref="5822f4e2d21ff1df830bd1fd9564688d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e810044bd3b9f9b02ca265b4d3eebe93" category="list-text">Scegli il tuo provider cloud (in questo caso, *Microsoft Azure*).</block>
  <block id="c45be448ec85e60d33dd361b175651c2" category="paragraph"><block ref="c45be448ec85e60d33dd361b175651c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="047b152c8199802dac7e7e1ed26059ed" category="list-text">Ignora i passaggi *Autorizzazione*, *Autenticazione* e *Rete* se sono già configurati nel tuo account Azure.  In caso contrario, è necessario configurarli prima di procedere.  Da qui, è anche possibile recuperare le autorizzazioni per il criterio di Azure a cui si fa riferimento nella sezione precedente "<block ref="2204dd011c923b13eaa19e758c798231" category="inline-xref-macro-rx"></block> ."</block>
  <block id="99e14f7699280eab49fc6e5e02042d24" category="paragraph"><block ref="99e14f7699280eab49fc6e5e02042d24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5bb415e11f78e565d29b6276832d292" category="list-text">Fare clic su *Vai alla distribuzione* per configurare il connettore *Autenticazione macchina virtuale*.  Aggiungere la coppia di chiavi SSH creata nel gruppo di risorse di Azure durante l'onboarding alla preparazione di BlueXP per l'autenticazione del sistema operativo del connettore.</block>
  <block id="b495a7280ed7e3158d73021a45c65ec4" category="paragraph"><block ref="b495a7280ed7e3158d73021a45c65ec4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d5895de98f1a29d1e51aec000e336a8" category="list-text">Specificare un nome per l'istanza del connettore, selezionare *Crea* e accettare il *Nome ruolo* predefinito in *Dettagli*, quindi scegliere la sottoscrizione per l'account Azure.</block>
  <block id="787023b324c189f4d96cebeb90c2ddd8" category="paragraph"><block ref="787023b324c189f4d96cebeb90c2ddd8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f92ddd8d0b54f5b5292875e85830a9e" category="list-text">Configurare la rete con la *VNet*, la *Subnet* appropriate e disabilitare l'*IP pubblico*, ma assicurarsi che il connettore abbia accesso a Internet nel proprio ambiente Azure.</block>
  <block id="d480a764511a0d80c029921c1cfe58d7" category="paragraph"><block ref="d480a764511a0d80c029921c1cfe58d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46eaff1ae08db28efc06b6f93a0d936f" category="list-text">Configurare il *Gruppo di sicurezza* per il connettore che consente l'accesso HTTP, HTTPS e SSH.</block>
  <block id="e1c11e927f550277f01f81927662d556" category="paragraph"><block ref="e1c11e927f550277f01f81927662d556" category="inline-image-macro-rx" type="image"></block></block>
  <block id="83b7e5528d645d061628677d96552818" category="list-text">Rivedi la pagina di riepilogo e fai clic su *Aggiungi* per avviare la creazione del connettore.  In genere, per completare l'implementazione occorrono circa 10 minuti.  Una volta completata, la VM dell'istanza del connettore viene visualizzata nel portale di Azure.</block>
  <block id="18b3d1323f9cf21b0cd62911affeda5c" category="paragraph"><block ref="18b3d1323f9cf21b0cd62911affeda5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="055717b8b2a845f9fe90ecae965b1feb" category="list-text">Dopo aver distribuito il connettore, il connettore appena creato viene visualizzato nel menu a discesa *Connettore*.</block>
  <block id="e45c67c2fabc5203448e017545fff2c4" category="paragraph"><block ref="e45c67c2fabc5203448e017545fff2c4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8de7e309885d21366a248cc336a9b9f" category="section-title">Definisci una credenziale in BlueXP per l'accesso alle risorse di Azure</block>
  <block id="c60c5069d027433cec0a8d7858d4cf82" category="list-text">Fare clic sull'icona delle impostazioni nell'angolo in alto a destra della console BlueXP per aprire la pagina *Credenziali account*, quindi fare clic su *Aggiungi credenziali* per avviare il flusso di lavoro di configurazione delle credenziali.</block>
  <block id="584c508a139fd2cc138a954c407113a7" category="paragraph"><block ref="584c508a139fd2cc138a954c407113a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="92a4163561d0ead1f38efbf8eb4b7404" category="list-text">Selezionare la posizione delle credenziali come - *Microsoft Azure - BlueXP*.</block>
  <block id="c2b8e1d04d9cb9e8942a8e67bcc06777" category="paragraph"><block ref="c2b8e1d04d9cb9e8942a8e67bcc06777" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7fd310fb0430315594373f0dfbb1417" category="list-text">Definire le credenziali di Azure con *Segreto client*, *ID client* e *ID tenant* corretti, che avrebbero dovuto essere raccolti durante il precedente processo di onboarding BlueXP .</block>
  <block id="d29a0cf18a4736fe0d1e1452f74347f2" category="paragraph"><block ref="d29a0cf18a4736fe0d1e1452f74347f2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c88e4920161ccc0d0ba4bd132e4631ee" category="list-text">Rivedi e *Aggiungi*.<block ref="fab53fce8ecc2aab6221f1b4c4ea3322" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5ae99842103cb5be866b8e69f0419936" category="list-text">Potrebbe anche essere necessario associare un *abbonamento Marketplace* alle credenziali.<block ref="d69ea63a3a456ddd332b56a1c3f892f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb46d1e3b94fe670b59ad65582cc45d9" category="section-title">Configurazione dei servizi SnapCenter</block>
  <block id="515410530ff315add6baa9b8fec25661" category="paragraph">Una volta configurate le credenziali di Azure, è ora possibile impostare i servizi SnapCenter con le seguenti procedure:</block>
  <block id="dda049d95317fa5a13b47acbe45fde94" category="list-text">Tornando alla pagina Canvas, da *Il mio ambiente di lavoro* fare clic su *Aggiungi ambiente di lavoro* per scoprire Azure NetApp Files distribuito in Azure.</block>
  <block id="43f02e4067dfce17c2cca62c84f3e481" category="list-text">Seleziona *Microsoft Azure* come posizione e clicca su *Scopri*.</block>
  <block id="8d31ffb5d4531a6681adb9a1304342f6" category="paragraph"><block ref="8d31ffb5d4531a6681adb9a1304342f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81999498d9ff326372c05514e6c0f430" category="list-text">Assegna un nome *Ambiente di lavoro* e scegli *Nome credenziale* creato nella sezione precedente, quindi fai clic su *Continua*.</block>
  <block id="755a398e8e64390776dfae4ac5951fb2" category="paragraph"><block ref="755a398e8e64390776dfae4ac5951fb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc2004ebba5da01423dc17da06b98ec5" category="list-text">La console BlueXP torna a *I miei ambienti di lavoro* e ha scoperto che Azure NetApp Files di Azure ora appare su *Canvas*.</block>
  <block id="6b094653fe5ce010c56b23f62dc93359" category="paragraph"><block ref="6b094653fe5ce010c56b23f62dc93359" category="inline-image-macro-rx" type="image"></block></block>
  <block id="adc19ffc08c8bfc67e1ce0cfd3eaee91" category="list-text">Fare clic sull'icona * Azure NetApp Files*, quindi su *Entra nell'ambiente di lavoro* per visualizzare i volumi del database Oracle distribuiti nell'archiviazione di Azure NetApp Files .</block>
  <block id="5aa571bb9d70acb246b372f9fa001a7b" category="paragraph"><block ref="5aa571bb9d70acb246b372f9fa001a7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04353f9112bb1b7ff1621abd8ff0ef5b" category="list-text">Dalla barra laterale sinistra della console, passa il mouse sull'icona di protezione, quindi fai clic su *Protezione* &gt; *Applicazioni* per aprire la pagina di avvio delle Applicazioni.  Fare clic su *Scopri applicazioni*.</block>
  <block id="265641b1d8e46cb9d360c17e5d1d7134" category="paragraph"><block ref="265641b1d8e46cb9d360c17e5d1d7134" category="inline-image-macro-rx" type="image"></block></block>
  <block id="598fd5b506ddf6b5a73368a488fa16c0" category="list-text">Selezionare *Cloud Native* come tipo di origine dell'applicazione.</block>
  <block id="cf695d460f15654867aa6a0ee09bb83c" category="paragraph"><block ref="cf695d460f15654867aa6a0ee09bb83c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="627521257f072e1e0bb18ed662aab17a" category="list-text">Selezionare *Oracle* come tipo di applicazione, fare clic su *Avanti* per aprire la pagina dei dettagli dell'host.</block>
  <block id="60f47e40ed33ae9173f55c6989715b7b" category="paragraph"><block ref="60f47e40ed33ae9173f55c6989715b7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c26490521d58cef4fc131db2e81a94e" category="list-text">Selezionare *Utilizzo di SSH* e fornire i dettagli della macchina virtuale Oracle Azure, ad esempio *Indirizzo IP*, *Connettore*, *Nome utente* di gestione della macchina virtuale Azure, ad esempio azureuser.  Fare clic su *Aggiungi chiave privata SSH* per incollare la coppia di chiavi SSH utilizzata per distribuire la macchina virtuale Oracle Azure.  Ti verrà anche chiesto di confermare l'impronta digitale.</block>
  <block id="8a07233d0a8be5be1fa13beccf60ffe1" category="paragraph"><block ref="9b0ba5823ee0aeeaf801e979ce4d658e" category="inline-image-macro-rx" type="image"></block> <block ref="13cec39c1b2eb365dfe8f40ad64fd59a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6e130fb96d37b0095d24d5358f21e4b" category="list-text">Passare alla pagina successiva di *Configurazione* per impostare l'accesso sudoer sulla macchina virtuale Oracle Azure.</block>
  <block id="1acf04c446da45b9c3273f92182f5326" category="paragraph"><block ref="1acf04c446da45b9c3273f92182f5326" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ee8d75911c779ac7019740198b8f107" category="list-text">Esaminare e fare clic su *Scopri applicazioni* per installare un plug-in sulla macchina virtuale Oracle Azure e scoprire il database Oracle sulla macchina virtuale in un unico passaggio.</block>
  <block id="8cf270f4ac64dcac2646ed937d147733" category="paragraph"><block ref="8cf270f4ac64dcac2646ed937d147733" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e32c1f544cd9b2d6fdfd7c81e67e8d4" category="list-text">I database Oracle rilevati sulla macchina virtuale di Azure vengono aggiunti ad *Applicazioni* e la pagina *Applicazioni* elenca il numero di host e database Oracle all'interno dell'ambiente.  Inizialmente lo *Stato di protezione* del database viene visualizzato come *Non protetto*.</block>
  <block id="f4e3bfdca62706ac2612870e2962a7d6" category="paragraph"><block ref="f4e3bfdca62706ac2612870e2962a7d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9958dec2bab238d2e917ab477e6687a5" category="paragraph">Questa operazione completa la configurazione iniziale dei servizi SnapCenter per Oracle.  Le tre sezioni successive di questo documento descrivono le operazioni di backup, ripristino e clonazione del database Oracle.</block>
  <block id="7f7c0dda9cb78e17432e91abc3c9a290" category="section-title">Backup del database Oracle</block>
  <block id="91992eeb76f243096a177a51576aa930" category="list-text">Il nostro database Oracle di prova in Azure VM è configurato con tre volumi con uno spazio di archiviazione totale aggregato di circa 1,6 TiB.  Ciò fornisce un contesto sui tempi per il backup, il ripristino e la clonazione degli snapshot di un database di queste dimensioni.</block>
  <block id="5a3f2aba9cdc20567fc4f7d91f0f39d2" category="list-text">Per proteggere il database, fare clic sui tre punti accanto allo *Stato di protezione* del database, quindi fare clic su *Assegna criterio* per visualizzare i criteri di protezione del database predefiniti, precaricati o definiti dall'utente, che possono essere applicati ai database Oracle.  In *Impostazioni* - *Criteri*, puoi creare il tuo criterio personalizzato con una frequenza di backup e una finestra di conservazione dei dati di backup personalizzate.</block>
  <block id="a668fbeb3ee9def0beed3023a4342c96" category="paragraph"><block ref="a668fbeb3ee9def0beed3023a4342c96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b87d60fc36851d813026dccde8a103ae" category="list-text">Una volta che sei soddisfatto della configurazione della policy, puoi *assegnare* la policy che preferisci per proteggere il database.</block>
  <block id="5b29983ad2edf0e4bd8b244c2718b53f" category="paragraph"><block ref="5b29983ad2edf0e4bd8b244c2718b53f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31db12a4d1827bab87af3a7cf14c8c46" category="list-text">Dopo l'applicazione del criterio, lo stato di protezione del database cambia in *Protetto* con un segno di spunta verde.  BlueXP esegue il backup degli snapshot in base alla pianificazione definita.  Inoltre, *Backup su richiesta* è disponibile dal menu a discesa a tre punti, come mostrato di seguito.</block>
  <block id="c25906d6ebf774f077637de8e2739961" category="paragraph"><block ref="c25906d6ebf774f077637de8e2739961" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b344283baf9e89aa98e1a9aa97568974" category="list-text">Dalla scheda *Monitoraggio lavori* è possibile visualizzare i dettagli del lavoro di backup.  I risultati dei nostri test hanno mostrato che ci sono voluti circa 4 minuti per eseguire il backup di un database Oracle di circa 1,6 TiB.</block>
  <block id="955ede1fc6cbf43ce42d718c394d67a6" category="paragraph"><block ref="955ede1fc6cbf43ce42d718c394d67a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99abbb4565ab40d4f0845ba2bb23b66e" category="list-text">Dal menu a discesa a tre punti *Visualizza dettagli*, è possibile visualizzare i set di backup creati dal backup snapshot.</block>
  <block id="cb210f231abf4b4bf7e77156c6d9af06" category="paragraph"><block ref="cb210f231abf4b4bf7e77156c6d9af06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c00d75f1dfb37464bcc7247839c2b868" category="list-text">I dettagli del backup del database includono *Nome del backup*, *Tipo di backup*, *SCN*, *Catalogo RMAN* e *Ora del backup*.  Un set di backup contiene snapshot coerenti con l'applicazione, rispettivamente per il volume dei dati e per il volume del registro.  Uno snapshot del volume di log viene eseguito subito dopo uno snapshot del volume di dati del database.  È possibile applicare un filtro se si sta cercando un backup specifico nell'elenco dei backup.</block>
  <block id="df2e437a1565f3512ccc0e3132f5f98a" category="paragraph"><block ref="df2e437a1565f3512ccc0e3132f5f98a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fd0ba63e6574c7326fb2e810b4537e0" category="section-title">Ripristino e recupero del database Oracle</block>
  <block id="da619d6941ecdd2c7e548d9654a841ef" category="list-text">Per ripristinare un database, fare clic sul menu a discesa con tre punti per il database specifico da ripristinare in *Applicazioni*, quindi fare clic su *Ripristina* per avviare il flusso di lavoro di ripristino e recupero del database.</block>
  <block id="eca636f2206f98ef29538e7f3b06e1d6" category="paragraph"><block ref="eca636f2206f98ef29538e7f3b06e1d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a6466f8754f254181618465d6d07095" category="list-text">Scegli il tuo *Punto di ripristino* in base alla marca temporale.  Ogni timestamp nell'elenco rappresenta un set di backup del database disponibile.</block>
  <block id="263de3e09efd5458da895268dcfe76a5" category="paragraph"><block ref="263de3e09efd5458da895268dcfe76a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8bc1a0adc65e8e1943672063a060cff" category="list-text">Seleziona la *Posizione di ripristino* nella *posizione originale* per un ripristino e recupero in loco del database Oracle.</block>
  <block id="e0c6ed935f81f3da2748f0152eb3f771" category="paragraph"><block ref="e0c6ed935f81f3da2748f0152eb3f771" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2ac50fae413c6d5e5094eae408e73538" category="list-text">Definisci l'*Ambito di ripristino* e l'*Ambito di ripristino*.  Tutti i registri indicano un ripristino completo aggiornato, inclusi i registri correnti.</block>
  <block id="b82a2c64293a9f980e828f7f75d47c22" category="paragraph"><block ref="b82a2c64293a9f980e828f7f75d47c22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ac2cb8dff52fa25ab3c4179d23af060" category="list-text">Rivedi e *Ripristina* per avviare il ripristino e il recupero del database.</block>
  <block id="c44963e6d282a11303fe43325b58cc36" category="paragraph"><block ref="c44963e6d282a11303fe43325b58cc36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93c57cdfffd8f5678e2781396b8052ee" category="list-text">Dalla scheda *Monitoraggio processi*, abbiamo osservato che ci sono voluti 2 minuti per eseguire un ripristino completo del database e un ripristino aggiornato.</block>
  <block id="c4c7ae5c5def1bdf078062bbebc8d763" category="paragraph"><block ref="c4c7ae5c5def1bdf078062bbebc8d763" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9dc2f50af584776a2ecc51a0ebcdded2" category="section-title">Clone del database Oracle</block>
  <block id="10f67c792b4c3a171ec4459316640f04" category="paragraph">Le procedure di clonazione del database sono simili al ripristino, ma su una macchina virtuale di Azure alternativa con stack software Oracle identico preinstallato e configurato.</block>
  <block id="0a726ae819aa445c83a06d6c6b45248d" category="admonition">Assicurati che l'archiviazione file di Azure NetApp abbia una capacità sufficiente per un database clonato delle stesse dimensioni del database primario da clonare.  La VM di Azure alternativa è stata aggiunta ad *Applicazioni*.</block>
  <block id="78984c1b4316df6a6010d6cb1420883b" category="list-text">Fare clic sul menu a discesa con tre punti per il database specifico da clonare in *Applicazioni*, quindi fare clic su *Ripristina* per avviare il flusso di lavoro di clonazione.</block>
  <block id="65caff5ab87f1c10a087061e4939f8b9" category="paragraph"><block ref="65caff5ab87f1c10a087061e4939f8b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c81741abd46b5657b1b137ad6b08c60d" category="list-text">Selezionare il *Punto di ripristino* e selezionare la casella *Ripristina in posizione alternativa*.</block>
  <block id="a0841efea10f00b9bbc3f509848fae54" category="paragraph"><block ref="a0841efea10f00b9bbc3f509848fae54" category="inline-image-macro-rx" type="image"></block></block>
  <block id="821f3d32c228cdb4c83894cf7f22f5bc" category="list-text">Nella pagina *Configurazione* successiva, imposta *Host* alternativo, *SID* del nuovo database e *Oracle Home* come configurato nella VM di Azure alternativa.</block>
  <block id="f58306559405e420a708a23c68e3404a" category="paragraph"><block ref="f58306559405e420a708a23c68e3404a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76241d79c5d5f01636b403e2ed5ec804" category="list-text">La pagina di revisione *Generale* mostra i dettagli del database clonato, come SID, host alternativo, posizioni dei file di dati, ambito di ripristino, ecc.</block>
  <block id="919457baf5bc69e697038268ff748687" category="paragraph"><block ref="919457baf5bc69e697038268ff748687" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43b6971c27d0d503f52ec88935ec1382" category="list-text">La pagina di revisione *Parametri del database* mostra i dettagli della configurazione del database clonato, nonché alcune impostazioni dei parametri del database.</block>
  <block id="265af2d53b98a4c429f58239ed335d01" category="paragraph"><block ref="265af2d53b98a4c429f58239ed335d01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="62dc32438ca73d555756784b39f074d2" category="list-text">Monitorando lo stato del processo di clonazione dalla scheda *Monitoraggio processo*, abbiamo osservato che ci sono voluti 8 minuti per clonare un database Oracle da 1,6 TiB.</block>
  <block id="ee4b933cf91fbaaac40195ecc0d8a4ac" category="paragraph"><block ref="ee4b933cf91fbaaac40195ecc0d8a4ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d3c33cefae6ca0544ea18f72546fa955" category="list-text">Convalida il database clonato nella pagina *Applicazioni* BlueXP che mostra che il database clonato è stato immediatamente registrato con BlueXP.</block>
  <block id="1189e171398f74969e379450b83800f8" category="paragraph"><block ref="1189e171398f74969e379450b83800f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c63639ec48ac9f3ed5e3bd19cb501647" category="list-text">Convalidare il database clonato sulla macchina virtuale Oracle Azure che ha mostrato che il database clonato era in esecuzione come previsto.</block>
  <block id="75ead5c1986187bca2c28b0d7c9c99e8" category="paragraph"><block ref="75ead5c1986187bca2c28b0d7c9c99e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc555bae6dace1d6d3b409d213670af3" category="paragraph">Questo completa la dimostrazione di un backup, ripristino e clonazione del database Oracle in Azure con la console NetApp BlueXP utilizzando il servizio SnapCenter .</block>
  <block id="0f68b904e33d9ac04605aecc958bcf52" category="section-title">Informazioni aggiuntive</block>
  <block id="f12aeeed0f164c86af69a57fddb01689" category="list-text">Configurare e amministrare BlueXP</block>
  <block id="74e12c8bec754bf4a9feb44c8cada2dc" category="inline-link-macro"><block ref="74e12c8bec754bf4a9feb44c8cada2dc" category="inline-link-rx"></block></block>
  <block id="7656afc87b0bcecbad9c778ab6b4a2a5" category="paragraph"><block ref="7656afc87b0bcecbad9c778ab6b4a2a5" category="inline-link-macro-rx"></block></block>
  <block id="c756b6b1ba6b752239a8d49eda5ad2a4" category="list-text">Documentazione BlueXP backup and recovery</block>
  <block id="ed133d2d4bade971a41aae35897a0bd2" category="inline-link-macro"><block ref="ed133d2d4bade971a41aae35897a0bd2" category="inline-link-rx"></block></block>
  <block id="21af149e524c5f7a8eb5e23197309e60" category="paragraph"><block ref="21af149e524c5f7a8eb5e23197309e60" category="inline-link-macro-rx"></block></block>
  <block id="27e1212a42107cfc0301ede49e34c2b6" category="list-text">Inizia con Azure</block>
  <block id="1835dca082bed53483a7a062cc1bc8d0" category="inline-link-macro"><block ref="1835dca082bed53483a7a062cc1bc8d0" category="inline-link-rx"></block></block>
  <block id="a35f1c37303f15b458dc1914b868ff3f" category="paragraph"><block ref="a35f1c37303f15b458dc1914b868ff3f" category="inline-link-macro-rx"></block></block>
  <block id="200ceef64376fb4963e417594c2660f0" category="summary">La soluzione fornisce una panoramica e dettagli per il backup, il ripristino e la clonazione del database Oracle utilizzando NetApp SnapCenter SaaS tramite la console BlueXP nel cloud di Azure.</block>
  <block id="698740e9ee6a7bf04119b53400b8b9a7" category="doc">TR-4964: Backup, ripristino e clonazione di Oracle Database con SnapCenter Services - AWS</block>
  <block id="3bc3588fd9f44812f3a183ebc0fe8242" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per il backup, il ripristino e la clonazione del database Oracle utilizzando NetApp SnapCenter SaaS tramite la console BlueXP nel cloud di Azure.</block>
  <block id="8ae5c33b293249b4befae60cdc1d6364" category="paragraph">SnapCenter Services è la versione SaaS del classico strumento di interfaccia utente per la gestione del database SnapCenter , disponibile tramite la console di gestione cloud NetApp BlueXP .  È parte integrante dell'offerta di backup cloud e protezione dei dati NetApp per database quali Oracle e HANA in esecuzione sullo storage cloud NetApp .  Questo servizio basato su SaaS semplifica la distribuzione tradizionale del server autonomo SnapCenter , che in genere richiede un server Windows che opera in un ambiente di dominio Windows.</block>
  <block id="9f870916f2c5933d14c66deba672bb8f" category="paragraph">In questa documentazione, illustriamo come configurare SnapCenter Services per eseguire il backup, il ripristino e la clonazione di database Oracle distribuiti su istanze di archiviazione Amazon FSx ONTAP e di elaborazione EC2.  Sebbene siano molto più semplici da configurare e utilizzare, i servizi SnapCenter offrono funzionalità chiave già disponibili nello strumento legacy SnapCenter UI.</block>
  <block id="875a52f58bb1105b34b61cb5f82ec4cb" category="list-text">Backup del database con snapshot per database Oracle ospitati in Amazon FSx ONTAP</block>
  <block id="6f2d8b46ec98e47be22d4747b82a02d2" category="list-text">Clonazione rapida ed efficiente in termini di archiviazione di database primari per un ambiente di sviluppo/test o altri casi d'uso</block>
  <block id="e9675bd3e469e8f65c5972247bd04a0e" category="list-text">Il DBA che gestisce i database Oracle in esecuzione sullo storage Amazon FSx ONTAP</block>
  <block id="d6e066caa1ab2a9ead96779ac0a95670" category="list-text">L'architetto di soluzioni interessato a testare il backup, il ripristino e la clonazione del database Oracle nel cloud pubblico AWS</block>
  <block id="5c5e736f226bc0963f1984c02bd59f33" category="list-text">L'amministratore di storage che supporta e gestisce lo storage Amazon FSx ONTAP</block>
  <block id="d10cce9398d656c266c4ffedee4b085b" category="list-text">Il proprietario dell'applicazione che possiede le applicazioni distribuite nello storage Amazon FSx ONTAP</block>
  <block id="2eeab2fbb902fda77febfa45cdf75deb" category="paragraph"><block ref="2eeab2fbb902fda77febfa45cdf75deb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f4cd1b0523380b825fa78ec70975a14" category="cell">Due istanze EC2 T2 xlarge EC2, una come server DB primario e l'altra come server DB clone</block>
  <block id="86fae68c14c723bf36942c2c83e8a847" category="list-text">*Connettore da distribuire nella stessa VPC del database e di FSx.*  Se possibile, il connettore dovrebbe essere distribuito nella stessa AWS VPC, che consente la connettività allo storage FSx e all'istanza di elaborazione EC2.</block>
  <block id="56427e5f1c1f5700ead6c9a9bce7060b" category="list-text">*Una policy AWS IAM creata per il connettore SnapCenter .*  La policy in formato JSON è disponibile nella documentazione dettagliata del servizio SnapCenter .  Quando si avvia la distribuzione del connettore con la console BlueXP , viene anche richiesto di impostare i prerequisiti con i dettagli delle autorizzazioni richieste in formato JSON.  La policy deve essere assegnata all'account utente AWS proprietario del connettore.</block>
  <block id="0c28eaf31a69bb7791a4813ad2b0bcad" category="list-text">*La chiave di accesso all'account AWS e la coppia di chiavi SSH create nell'account AWS.*  La coppia di chiavi SSH viene assegnata all'utente ec2 per accedere all'host del connettore e quindi distribuire un plug-in del database all'host del server DB EC2.  La chiave di accesso concede l'autorizzazione per il provisioning del connettore richiesto con la policy IAM sopra indicata.</block>
  <block id="5860dbd315496353b9c33ed1628c8d92" category="list-text">*Una credenziale aggiunta alle impostazioni della console BlueXP .*  Per aggiungere Amazon FSx ONTAP all'ambiente di lavoro BlueXP , è necessario configurare una credenziale che conceda a BlueXP le autorizzazioni per accedere ad Amazon FSx ONTAP nelle impostazioni della console BlueXP .</block>
  <block id="74a16f5a2cb515e5359c279dfe53d615" category="list-text">*java-11-openjdk installato sull'host dell'istanza del database EC2.*  Per installare il servizio SnapCenter è richiesta la versione 11 di Java.  Deve essere installato sull'host dell'applicazione prima di tentare la distribuzione del plugin.</block>
  <block id="5c19db900874c5ab0cd22f4e4081f831" category="paragraph">È disponibile un'ampia documentazione NetApp con una portata più ampia per aiutarti a proteggere i dati delle tue applicazioni cloud native.  L'obiettivo di questa documentazione è fornire procedure dettagliate che riguardano la distribuzione del servizio SnapCenter con la console BlueXP per proteggere il database Oracle distribuito su Amazon FSx ONTAP e un'istanza di elaborazione EC2.  Questo documento fornisce alcuni dettagli che potrebbero mancare nelle istruzioni più generali.</block>
  <block id="4a83f58d14ab15e985eab2f73d26659f" category="list-text">Leggi le istruzioni generali<block ref="4a82485e6c558a94a8e73b73116d1bce" category="inline-link-macro-rx"></block> e le sezioni relative a Oracle e Amazon FSx ONTAP.</block>
  <block id="f2f7f5c9af8a75d22b9aca95d23faad9" category="list-text">Guarda il seguente video tutorial.</block>
  <block id="dd1d4adbfe73c3cd87fc248a003b05a0" category="video-title">Distribuzione della soluzione</block>
  <block id="ee260886ab2b6b27905543032620ac6f" category="list-text">Un server di database Oracle primario su un'istanza EC2 con un database Oracle completamente distribuito e in esecuzione.</block>
  <block id="5d946d3b37cf4bbc657e5762bfd2491e" category="list-text">Un cluster Amazon FSx ONTAP distribuito in AWS che ospita i volumi del database sopra indicati.</block>
  <block id="d15621373250f7778b58f1a57646d590" category="list-text">Un server di database opzionale su un'istanza EC2 che può essere utilizzato per testare la clonazione di un database Oracle su un host alternativo allo scopo di supportare un carico di lavoro di sviluppo/test o qualsiasi caso d'uso che richieda un set di dati completo di un database Oracle di produzione.</block>
  <block id="db579bb3e1bf17d7e586850eefed39bb" category="list-text">Se hai bisogno di aiuto per soddisfare i prerequisiti sopra indicati per la distribuzione del database Oracle su Amazon FSx ONTAP e sull'istanza di elaborazione EC2, consulta<block ref="9fe0964775d4e89b8fa0000697106e28" category="inline-link-macro-rx"></block> o carta bianca<block ref="e448c29edca53d71511282e59019cb95" category="inline-link-macro-rx"></block></block>
  <block id="905649aa82828b72c7609e32261b6541" category="list-text">Accedi al tuo account AWS per creare una policy IAM con le autorizzazioni appropriate e assegnarla all'account AWS che verrà utilizzato per la distribuzione del connettore BlueXP .</block>
  <block id="9e2d2c1f725377dfd47bb10a092edb06" category="paragraph"><block ref="9e2d2c1f725377dfd47bb10a092edb06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2f43b4d90aacd2dff66dbba89df8d3e8" category="paragraph">La policy deve essere configurata con una stringa JSON disponibile nella documentazione NetApp .  La stringa JSON può anche essere recuperata dalla pagina quando viene avviato il provisioning del connettore e viene richiesto di assegnare le autorizzazioni dei prerequisiti.</block>
  <block id="8a93a46df85bf33efa5d5200b6c4ce06" category="list-text">Sono inoltre necessari AWS VPC, subnet, gruppo di sicurezza, una chiave di accesso e segreti dell'account utente AWS, una chiave SSH per ec2-user e così via, pronti per il provisioning del connettore.</block>
  <block id="04592f11c82d99f55bd84f8036b45389" category="list-text">Accedi alla console BlueXP .  Per un account condiviso, è consigliabile creare un'area di lavoro individuale facendo clic su *Account* &gt; *Gestisci account* &gt; *Area di lavoro* per aggiungere una nuova area di lavoro.</block>
  <block id="9c817d87ae36c552433df25f369d56f6" category="paragraph"><block ref="9c817d87ae36c552433df25f369d56f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c47cec29fcf0d8e782f2c91ad12914b4" category="list-text">Fare clic su *Aggiungi un connettore* per avviare il flusso di lavoro di provisioning del connettore.</block>
  <block id="91a013de6f075ef92c9d4ce3606f454c" category="paragraph"><block ref="91a013de6f075ef92c9d4ce3606f454c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bb78288dc7f5beb506e79a3af8041de" category="list-text">Scegli il tuo fornitore cloud (in questo caso, *Amazon Web Services*).</block>
  <block id="9e6221a639f56c05f62c9ded99dabc50" category="paragraph"><block ref="9e6221a639f56c05f62c9ded99dabc50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06a5177c61e31798acfdd25d766ef121" category="list-text">Salta i passaggi *Autorizzazione*, *Autenticazione* e *Rete* se li hai già configurati nel tuo account AWS.  In caso contrario, è necessario configurarli prima di procedere.  Da qui, è anche possibile recuperare le autorizzazioni per la policy AWS a cui si fa riferimento nella sezione precedente "<block ref="2204dd011c923b13eaa19e758c798231" category="inline-xref-macro-rx"></block> ."</block>
  <block id="144a7bf6e4b78ed80ccc5310a3175b96" category="paragraph"><block ref="144a7bf6e4b78ed80ccc5310a3175b96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfaeef102040345b1180ea94f2b0c2ff" category="list-text">Inserisci l'autenticazione del tuo account AWS con *Chiave di accesso* e *Chiave segreta*.</block>
  <block id="dd50e3a02dab7e3acd66b5bdd87bcf06" category="paragraph"><block ref="dd50e3a02dab7e3acd66b5bdd87bcf06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="712e596a90ac38ed31c6d4d55347a559" category="list-text">Assegna un nome all'istanza del connettore e seleziona *Crea ruolo* in *Dettagli*.</block>
  <block id="7f944bfe70957d841a98d0bfef5ae8b8" category="paragraph"><block ref="7f944bfe70957d841a98d0bfef5ae8b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8f366d09f3fd92a0239f6862ee9d35e" category="list-text">Configurare la rete con la *VPC*, la *Subnet* e la *coppia di chiavi* SSH appropriate per l'accesso al connettore.</block>
  <block id="132addd04cd3d0a22460fe2d8b46b04d" category="paragraph"><block ref="132addd04cd3d0a22460fe2d8b46b04d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e132860f3a8d1cbe124a67c4b5d67cc" category="list-text">Impostare il *Gruppo di sicurezza* per il connettore.</block>
  <block id="12c98e3f9c1fc15bdba478eaa446f222" category="paragraph"><block ref="12c98e3f9c1fc15bdba478eaa446f222" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f067570884442aa68da666583a8530cc" category="list-text">Rivedi la pagina di riepilogo e fai clic su *Aggiungi* per avviare la creazione del connettore.  In genere, per completare l'implementazione occorrono circa 10 minuti.  Una volta completata, l'istanza del connettore viene visualizzata nella dashboard di AWS EC2.</block>
  <block id="3a5d3a8eac6b7d7f10fa64c6ed905670" category="paragraph"><block ref="3a5d3a8eac6b7d7f10fa64c6ed905670" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74be0e1339ee168e43642c78894f516c" category="section-title">Definisci una credenziale in BlueXP per l'accesso alle risorse AWS</block>
  <block id="e0d8224cb04f8209c7dd255259abe722" category="list-text">Per prima cosa, dalla console AWS EC2, crea un ruolo nel menu *Identity and Access Management (IAM)* *Ruoli*, *Crea ruolo* per avviare il flusso di lavoro di creazione del ruolo.</block>
  <block id="ac27945c5043bbc256b7076402d94d9c" category="paragraph"><block ref="ac27945c5043bbc256b7076402d94d9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3f70a9b0bcfff938be5c9b967baac38" category="list-text">Nella pagina *Seleziona entità attendibile*, seleziona *Account AWS*, *Altro account AWS* e incolla l'ID dell'account BlueXP , che può essere recuperato dalla console BlueXP .</block>
  <block id="f8a5067f11fb586f430e190923856331" category="paragraph"><block ref="f8a5067f11fb586f430e190923856331" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c29f350fe0ef034c8595e5a9732939b3" category="list-text">Filtra i criteri di autorizzazione per fsx e aggiungi *Criteri di autorizzazione* al ruolo.</block>
  <block id="e892d792775a223804619e2ccefd0982" category="paragraph"><block ref="e892d792775a223804619e2ccefd0982" category="inline-image-macro-rx" type="image"></block></block>
  <block id="61a7a81a82f0f1d0520b066c19c3e2a1" category="list-text">Nella pagina *Dettagli ruolo*, assegna un nome al ruolo, aggiungi una descrizione, quindi fai clic su *Crea ruolo*.</block>
  <block id="ce048ed468da61c10cabb548207df10e" category="paragraph"><block ref="ce048ed468da61c10cabb548207df10e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21b7150d8525df111105dbb7e805e729" category="list-text">Tornando alla console BlueXP , fare clic sull'icona delle impostazioni nell'angolo in alto a destra della console per aprire la pagina *Credenziali account*, fare clic su *Aggiungi credenziali* per avviare il flusso di lavoro di configurazione delle credenziali.</block>
  <block id="a134163a058f0d807e081a99b22dd935" category="paragraph"><block ref="a134163a058f0d807e081a99b22dd935" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e555a0fd2fff62a47775a52b4b58f3b1" category="list-text">Scegli la posizione delle credenziali come - *Amazon Web Services - BlueXP*.</block>
  <block id="febd09224960038dd84e9ebf92486500" category="paragraph"><block ref="febd09224960038dd84e9ebf92486500" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2dc9db68323ce54999aefadc7fa6b9bf" category="list-text">Definisci le credenziali AWS con il *Role ARN* appropriato, che può essere recuperato dal ruolo AWS IAM creato nel passaggio 1 precedente.  *ID account* BlueXP , utilizzato per creare il ruolo AWS IAM nel primo passaggio.</block>
  <block id="42aa1d8d21329fe959f7f8de75f142a0" category="paragraph"><block ref="42aa1d8d21329fe959f7f8de75f142a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="712abba9fa690a0bcf8c85fa106d80c5" category="list-text">Rivedi e *Aggiungi*.<block ref="2cbed4ca8b8c1538ee78b3a4aae794da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4f3b4caea09bcee5fb52b1e6e4756a63" category="paragraph">Una volta distribuito il connettore e aggiunte le credenziali, è ora possibile configurare i servizi SnapCenter con la seguente procedura:</block>
  <block id="3ecf7d7cbb172543fe0f740496cfb9b0" category="list-text">Da *Il mio ambiente di lavoro* fare clic su *Aggiungi ambiente di lavoro* per scoprire FSx distribuito in AWS.</block>
  <block id="f49134cf37d9c85295178385c83794e0" category="paragraph"><block ref="f49134cf37d9c85295178385c83794e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4daeb16c1a9b1a0d173181068ef06541" category="list-text">Seleziona *Amazon Web Services* come posizione.</block>
  <block id="6986de4b1e4a1fa939faedf4a6b0ea17" category="paragraph"><block ref="6986de4b1e4a1fa939faedf4a6b0ea17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb51de833ca03a249f4885fe70ba6225" category="list-text">Fare clic su *Scopri esistente* accanto a * Amazon FSx ONTAP*.</block>
  <block id="b2a9ca88eea55298331d961c3ccc121e" category="paragraph"><block ref="b2a9ca88eea55298331d961c3ccc121e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6786db8c7bf41a3b431dcdbe1f49520" category="list-text">Selezionare il *Nome credenziali* creato nella sezione precedente per concedere a BlueXP le autorizzazioni necessarie per gestire FSx ONTAP.  Se non hai aggiunto le credenziali, puoi aggiungerle dal menu *Impostazioni* nell'angolo in alto a destra della console BlueXP .</block>
  <block id="55ada501711ea95913a857d1ea85fc5c" category="paragraph"><block ref="55ada501711ea95913a857d1ea85fc5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a01598f0f6397c112b45ac564bf14137" category="list-text">Scegli la regione AWS in cui è distribuito Amazon FSx ONTAP , seleziona il cluster FSx che ospita il database Oracle e fai clic su Aggiungi.</block>
  <block id="0cda79b1b9779defaa9601607b81fc64" category="paragraph"><block ref="0cda79b1b9779defaa9601607b81fc64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31407a3229acfa74059052991d399f9d" category="list-text">L'istanza Amazon FSx ONTAP rilevata ora viene visualizzata nell'ambiente di lavoro.</block>
  <block id="d018c4412fae6d277b3d7669a002023b" category="paragraph"><block ref="d018c4412fae6d277b3d7669a002023b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5abed4635dac308091151770538f31f6" category="list-text">Puoi accedere al cluster FSx con le credenziali del tuo account fsxadmin.</block>
  <block id="52508b4c18f0dca1b061d364ee571624" category="paragraph"><block ref="52508b4c18f0dca1b061d364ee571624" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5627a020a262be5583e9e9a66bc4592" category="list-text">Dopo aver effettuato l'accesso ad Amazon FSx ONTAP, rivedi le informazioni di archiviazione del database (ad esempio i volumi del database).</block>
  <block id="eaafc606281ab05ed5d9eb6835cf017e" category="paragraph"><block ref="eaafc606281ab05ed5d9eb6835cf017e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d66cf0e6cdb8abb33e7b0167faf0c6b2" category="paragraph"><block ref="d66cf0e6cdb8abb33e7b0167faf0c6b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d731a7d9a334af8231f2950894841f9" category="paragraph"><block ref="8d731a7d9a334af8231f2950894841f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bfcedcc06ce70b69b0c25371a7b68359" category="list-text">Selezionare *Oracle* come tipo di applicazione.</block>
  <block id="a2e181caa9c8b77b7e8d7522f6e15d45" category="paragraph"><block ref="a2e181caa9c8b77b7e8d7522f6e15d45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6ce8aeb69282423f1e8709e9bece6ce" category="list-text">Inserisci i dettagli dell'host dell'applicazione Oracle AWS EC2.  Seleziona *Utilizzo di SSH* come *Tipo di installazione host* per l'installazione del plugin e la scoperta del database in un unico passaggio.  Quindi, fare clic su *Aggiungi chiave privata SSH*.</block>
  <block id="60aced922f1d4dc5629cfb12b5d45914" category="paragraph"><block ref="60aced922f1d4dc5629cfb12b5d45914" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea41a89df50cac84ab851e6f7730c00d" category="list-text">Incolla la tua chiave SSH ec2-user per l'host del database EC2 e fai clic su *Convalida* per procedere.</block>
  <block id="cdda006d85b762021def263d2bee3f9b" category="paragraph"><block ref="cdda006d85b762021def263d2bee3f9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a70359387fcaa0512296895fb4f6a4ae" category="list-text">Per procedere, ti verrà richiesto di *Convalidare l'impronta digitale*.</block>
  <block id="71a3a4aab456d55189f44d0816ebb0ac" category="paragraph"><block ref="71a3a4aab456d55189f44d0816ebb0ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="032b4254e4889aa8b7e197feb31cbc5a" category="list-text">Fare clic su *Avanti* per installare un plugin del database Oracle e scoprire i database Oracle sull'host EC2.  I database scoperti vengono aggiunti ad *Applicazioni*.  Quando viene inizialmente scoperto, lo *Stato di protezione* del database viene visualizzato come *Non protetto*.</block>
  <block id="9ba7a868bfbcd5f0cbd87bedd4cd9518" category="paragraph"><block ref="9ba7a868bfbcd5f0cbd87bedd4cd9518" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d243d925299e4128a453e9d54b57e25d" category="list-text">Fare clic sui tre punti accanto allo *Stato di protezione* del database, quindi fare clic su *Criteri* per visualizzare i criteri di protezione del database precaricati predefiniti che possono essere applicati per proteggere i database Oracle.</block>
  <block id="a8f47f1d8b77e6a181edf1a736649f50" category="paragraph"><block ref="a8f47f1d8b77e6a181edf1a736649f50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b95d24dbc11f9b34c6cf18b07dcf3f7" category="list-text">È anche possibile creare una policy personalizzata con una frequenza di backup e una finestra di conservazione dei dati di backup.</block>
  <block id="155791e775944a613a29e1f3ce070b11" category="paragraph"><block ref="155791e775944a613a29e1f3ce070b11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44fa14fc437558bfdfce0d0ac643d1e2" category="list-text">Una volta soddisfatti della configurazione della policy, è possibile assegnare la policy desiderata per proteggere il database.</block>
  <block id="683778b7af98207a0f70928f086f27a7" category="paragraph"><block ref="683778b7af98207a0f70928f086f27a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4861abebdaa3d58ada4e621adac79010" category="list-text">Selezionare la policy da assegnare al database.</block>
  <block id="0e26253868fb22250c13f6fb84dd23b1" category="paragraph"><block ref="0e26253868fb22250c13f6fb84dd23b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da1635fa4036afa9fa39c868740e8560" category="list-text">Dopo l'applicazione del criterio, lo stato di protezione del database cambia in *Protetto* con un segno di spunta verde.</block>
  <block id="497ec1a307eb39cd1d25a616b5227f3c" category="paragraph"><block ref="497ec1a307eb39cd1d25a616b5227f3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7474327f9583bb0f2aa4aa276aa11e53" category="list-text">Il backup del database viene eseguito secondo una pianificazione predefinita.  È anche possibile eseguire un backup una tantum su richiesta, come mostrato di seguito.</block>
  <block id="2940056c70a31f5cb7b642861f280bae" category="paragraph"><block ref="2940056c70a31f5cb7b642861f280bae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7ba3fa48656ab6088ca8f9f4c64578f" category="list-text">I dettagli dei backup del database possono essere visualizzati facendo clic su *Visualizza dettagli* dall'elenco del menu.  Ciò include il nome del backup, il tipo di backup, SCN e la data del backup.  Un set di backup comprende uno snapshot sia per il volume dei dati che per il volume del registro.  Uno snapshot del volume di registro viene eseguito subito dopo uno snapshot del volume del database.  È possibile applicare un filtro se si cerca un backup specifico in un lungo elenco.</block>
  <block id="a4c193c614b7b601a25b10d44af844f4" category="paragraph"><block ref="a4c193c614b7b601a25b10d44af844f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d747acf93ee8abac3afd574a32b975fe" category="list-text">Per il ripristino di un database, scegliere il backup corretto, in base all'SCN o all'ora del backup.  Fare clic sui tre puntini dal backup dei dati del database, quindi fare clic su *Ripristina* per avviare il ripristino e il recupero del database.</block>
  <block id="64af0d7f2b5cd42bdfbe0dafd5de301a" category="paragraph"><block ref="64af0d7f2b5cd42bdfbe0dafd5de301a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4ced09bd050d5fa98df8a41ef04173e0" category="list-text">Scegli le impostazioni di ripristino.  Se si è certi che non è cambiato nulla nella struttura fisica del database dopo il backup (ad esempio l'aggiunta di un file di dati o di un gruppo di dischi), è possibile utilizzare l'opzione *Forza ripristino sul posto*, che in genere è più rapida.  In caso contrario, non selezionare questa casella.</block>
  <block id="393085e74500064736f2084487ad8085" category="paragraph"><block ref="393085e74500064736f2084487ad8085" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d58c0a59c722f81b5e2d0f77ffc4e126" category="list-text">Esaminare e avviare il ripristino e il recupero del database.</block>
  <block id="01716ed26147b8c9edc54ca43b870e3d" category="paragraph"><block ref="01716ed26147b8c9edc54ca43b870e3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e370cf26e04645138a40a3379e743fb7" category="list-text">Dalla scheda *Monitoraggio processi* è possibile visualizzare lo stato del processo di ripristino e tutti i dettagli durante l'esecuzione.</block>
  <block id="543c7f1e348fcffb05c8fbb143500608" category="paragraph"><block ref="543c7f1e348fcffb05c8fbb143500608" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4628ff02cd985f6d6a919efa900759ca" category="paragraph"><block ref="4628ff02cd985f6d6a919efa900759ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="35526fc92bd49edc3a11a0affafeae3b" category="paragraph">Per clonare un database, avviare il flusso di lavoro di clonazione dalla stessa pagina dei dettagli del backup del database.</block>
  <block id="71f8cd32cfa279d796f673879629f671" category="list-text">Seleziona la copia di backup del database corretta, clicca sui tre punti per visualizzare il menu e scegli l'opzione *Clona*.</block>
  <block id="72cd7574215273a51cc4d60317ce2039" category="paragraph"><block ref="72cd7574215273a51cc4d60317ce2039" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d552bd00a2d8ed3e1872a0f795180b9f" category="list-text">Selezionare l'opzione *Base* se non è necessario modificare alcun parametro del database clonato.</block>
  <block id="69a9b64c3a2d35a09f8e3def7da68c67" category="paragraph"><block ref="69a9b64c3a2d35a09f8e3def7da68c67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="90b931da49f7db8ce97de89c2b7ea8d5" category="list-text">In alternativa, seleziona *File di specifiche*, che ti dà la possibilità di scaricare il file init corrente, apportare modifiche e quindi caricarlo nuovamente nel lavoro.</block>
  <block id="1874b05f60b78935de303ca836c556a9" category="paragraph"><block ref="1874b05f60b78935de303ca836c556a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58b9252d48a9fcf8c03ec68f357e943a" category="list-text">Rivedi e avvia il lavoro.</block>
  <block id="e943133b9f12f3d41661ebcba559e3fb" category="paragraph"><block ref="e943133b9f12f3d41661ebcba559e3fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d388d0f32172ebe7aea2c3eeae0dfc4" category="list-text">Monitorare lo stato del processo di clonazione dalla scheda *Monitoraggio processo*.</block>
  <block id="683a283d67f46c0f233c8704ff2b8114" category="paragraph"><block ref="683a283d67f46c0f233c8704ff2b8114" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4e0fb0a8b932b4f05d487ea8a5748901" category="list-text">Convalidare il database clonato sull'host dell'istanza EC2.</block>
  <block id="c180b587fd0c77ff5aafc3b02fd3c7f3" category="paragraph"><block ref="c180b587fd0c77ff5aafc3b02fd3c7f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bbe91a88c409ff6baf6da643e8e46fd1" category="paragraph"><block ref="bbe91a88c409ff6baf6da643e8e46fd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5b9082efbf726d2e38c5042668ae4f0" category="doc">TR-4250: SAP con Oracle su UNIX e NFS con NetApp Clustered Data ONTAP e SnapManager per SAP 3.4</block>
  <block id="bb8cd3f7aec777de29cee988f4ade068" category="paragraph">Nils Bauer, NetApp</block>
  <block id="ea455e11718ea0bfb200c540f4e0c038" category="paragraph">TR-4250 affronta le sfide della progettazione di soluzioni di storage per supportare i prodotti della suite aziendale SAP utilizzando un database Oracle.  L'obiettivo principale di questo documento sono le comuni sfide di progettazione, implementazione, funzionamento e gestione delle infrastrutture di storage affrontate dai responsabili aziendali e IT che utilizzano le soluzioni SAP di ultima generazione.  Le raccomandazioni contenute nel presente documento sono generiche e non sono specifiche per un'applicazione SAP o per le dimensioni e l'ambito dell'implementazione SAP.  TR-4250 presuppone che il lettore abbia una conoscenza di base della tecnologia e del funzionamento dei prodotti NetApp e SAP.  TR-4250 è stato sviluppato sulla base dell'interazione tra il personale tecnico di NetApp, SAP, Oracle e i nostri clienti.</block>
  <block id="fb558936249b78a9b426ac6a575ece20" category="paragraph"><block ref="fb558936249b78a9b426ac6a575ece20" category="inline-link-macro-rx"></block></block>
  <block id="6e170e4c0b9eb50546a09aafc90dc157" category="doc">TR-4794: Database Oracle su NetApp EF-Series</block>
  <block id="9b6fc59469e9f5ee36cb85b08daacec3" category="paragraph">Mitch Blackburn, Ebin Kadavy, NetApp</block>
  <block id="fa8b4902d0c1e464dcf9256a434920ba" category="paragraph">TR-4794 è pensato per aiutare gli amministratori di storage e di database a implementare correttamente Oracle sullo storage NetApp EF-Series.</block>
  <block id="c6f1106d361e6595d08ff6340c004516" category="paragraph"><block ref="c6f1106d361e6595d08ff6340c004516" category="inline-link-macro-rx"></block></block>
  <block id="fe9155886965f88b4bb029103061156b" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione di Oracle in VMware Cloud Foundation (VCF) con vSphere Virtual Volumes (vVols) come storage del database primario e il database Oracle nella configurazione Real Application Clusters (RAC).</block>
  <block id="d04e05cc6f5337608b6ccfaae12a4905" category="doc">TR-4997: Distribuzione e protezione di Oracle RAC in VCF con vVols</block>
  <block id="ac91541ff82c6ee76b58150eca1250c7" category="paragraph">VMware vSphere Virtual Volumes (vVols) è un framework di gestione e integrazione SAN/NAS che espone i dischi virtuali come oggetti di storage nativi e consente operazioni basate su array a livello di disco virtuale.  In altre parole, vVols rende i dispositivi SAN/NAS compatibili con le VM e offre la possibilità di sfruttare servizi dati basati su array con un approccio incentrato sulle VM, con la granularità di un singolo disco virtuale. vVols consente ai clienti di sfruttare le capacità uniche dei loro attuali investimenti in storage e di passare senza interruzioni a un modello operativo più semplice ed efficiente, ottimizzato per ambienti virtuali che funzionano su tutti i tipi di storage.</block>
  <block id="77cb41e2baadb036dc6e4ed432367f90" category="inline-link-macro">TR-4996</block>
  <block id="98748e5f5bd3294051d902f505cedb3a" category="paragraph">In<block ref="a7f49ff11d15a9bd315ad584c8aeb5aa" category="inline-link-macro-rx"></block> , abbiamo dimostrato la distribuzione e la protezione di un singolo database Oracle in VCF con vVols.  Questa documentazione illustra la distribuzione e la protezione di un database Oracle RAC in un ambiente VMware Cloud Foundation con vVols come storage primario del database in un cluster di storage NetApp ONTAP .  Il database Oracle RAC è configurato come se fosse distribuito nei file system locali su un sistema di archiviazione locale.  Questo rapporto tecnico si concentra sui passaggi per la creazione vVols in VCF per la distribuzione di Oracle RAC.  Dimostriamo inoltre la distribuzione del database Oracle RAC in VCF su vVols con il toolkit di automazione NetApp e la protezione del database RAC con lo strumento NetApp SnapCenter UI.</block>
  <block id="f21a9288a8dbb6dc5e01f87371a1796f" category="list-text">Distribuzione del database Oracle RAC in VCF con datastore vVols su NetApp ONTAP AFF come storage del database primario</block>
  <block id="eb3a7a665b2ee606d74bf7d4657d5f1e" category="list-text">Backup e ripristino del database Oracle in VCF con datastore vVols utilizzando lo strumento NetApp SnapCenter UI</block>
  <block id="ba926686ab6ce2f50a39841cb91cf855" category="list-text">Un DBA che desidera distribuire Oracle RAC in VCF con datastore vVols su NetApp ONTAP AFF come storage di database primario</block>
  <block id="8e1c769a51ea82515d72b8676691e34f" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle RAC in VCF con datastore vVols sullo storage NetApp ONTAP AFF</block>
  <block id="f4498db90eae07fa4265e83f899ed7fb" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle RAC distribuito su VCF con datastore vVols su storage NetApp ONTAP AFF</block>
  <block id="ea94460ea59d1791e128c063e36a3f19" category="list-text">Un proprietario di un'applicazione che vorrebbe creare un database Oracle RAC in VCF con datastore vVol</block>
  <block id="e433a0f4d7802525d03be3ae89b7a1ff" category="paragraph">Il test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio in VCF con datastore vVols su storage NetApp ONTAP AFF che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="b91e86fc606e025f797c89b8aaa36a3c" category="paragraph"><block ref="b91e86fc606e025f797c89b8aaa36a3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad4ac6db8d9decf0eb775290a8c971cb" category="cell">NetApp ONTAP AFF A300</block>
  <block id="e5de8dc14dd3942120c44d5982b5a825" category="cell">Versione 9.14.1P4</block>
  <block id="0d4078e1e13a983e4de55aa01e5ad590" category="cell">Scaffale DS224 con 24 dischi NVMe, capacità totale 35,2 TiB</block>
  <block id="92950a7604605975794d500e05f4c7eb" category="cell">Cluster VMware VSphere</block>
  <block id="6e22cffc6ebecbdd7f47bd5d00e45b99" category="cell">Versione 8.02</block>
  <block id="bc5d0a2c32203fc25813789555247ee7" category="cell">12 CPU x Intel(R) Xeon(R) Gold 5218 CPU @ 2.30GHz, 8 nodi (4 di gestione e 4 domini di carico di lavoro)</block>
  <block id="c6ab07ee1aab16fa0a20d509cdf7b072" category="cell">Hosting di server Oracle DB, abbonamento RedHat distribuito per i test</block>
  <block id="8003cafa06ec27e11cb235ec9544ef74" category="cell">Centos Linux</block>
  <block id="ceebe4fc3acd82fd3188cded15f1d864" category="cell">CentOS Linux versione 8.5.2111</block>
  <block id="2d33ab49719ed91ddb197340eb32a2db" category="cell">Hosting del controller Ansible</block>
  <block id="f7dc6582169de1adc76cc1bd4479d98f" category="cell">Versione 6.0</block>
  <block id="3390e3575b3e341afa2b7172ff5b33a7" category="cell">SnapCenter Plug-in for VMware vSphere</block>
  <block id="0a8382f1a17329bbc921d30dfa2a2515" category="cell">Distribuito come VM ova nel cluster vSphere</block>
  <block id="a75e60f152424197f37afc9c5e9a5c2d" category="cell">Strumento ONTAP per VMware vSphere</block>
  <block id="117158dddb508cb9387d41bfdbfe579b" category="cell">Versione 9.13</block>
  <block id="5ce8d13929389b81584b3a78c447b524" category="cell">Versione java-11-openjdk-11.0.23.0.9-3.el8.x86_64</block>
  <block id="dd2b4d4faabc0fc80eacfaa74bf5a62d" category="section-title">Configurazione del database Oracle RAC in VCF</block>
  <block id="087c943fce6420f1490d5fc4bb4d400f" category="cell">*Nodo RAC*</block>
  <block id="cdd29859f51951ed5dd9535ccabf7075" category="cell">ora01</block>
  <block id="71f37500421f11ce0f41f795e618b625" category="cell">NTAP(NTAP_pdb1,NTAP_pdb2,NTAP_pdb3)</block>
  <block id="2d100c6ae63b5a20bd943bcf20dc9391" category="cell">Datastore vVols (VCF_ORA_BINS, VCF_ORA_CRS, VCF_ORA_DAT1, VCF_ORA_DAT2, VCF_ORA_LOGS) su NetApp ONTAP AFF A300</block>
  <block id="13ea1c308c536ce3317611dcb43ba74f" category="cell">ora02</block>
  <block id="d3d99bd870c856c58acfb8243d399b8b" category="list-text">*Protocollo per la connettività del cluster vVols - ONTAP .*  NFS o iSCSI sono delle buone scelte.  I livelli di prestazione sono equivalenti.  In questa dimostrazione della soluzione, abbiamo utilizzato iSCSI come protocollo di archiviazione per la connettività vVols al cluster di archiviazione ONTAP sottolineato.  Se l'infrastruttura VCF lo supporta, i protocolli FC/FCoE e NVMe/FC sono supportati anche per i datastore vVols su NetApp ONTAP.</block>
  <block id="18531131659005f729763c4bffd5f157" category="list-text">*Layout di archiviazione Oracle su datastore vVols .*  Nei nostri test e nelle nostre convalide, abbiamo distribuito cinque datastore vVols per i file binari Oracle, il registro/voto del cluster Oracle, i dati Oracle e i file di registro Oracle.  È buona norma separare i diversi tipi di file Oracle nei rispettivi datastore, in modo che il backup, il ripristino o la clonazione del database possano essere gestiti ed eseguiti facilmente.  Crea vVols dedicati per database di grandi dimensioni e condividi vVols per database più piccoli o database con profilo QoS simile. </block>
  <block id="406ce3af2ccd70d558c48b5e4f0e9cb5" category="list-text">*Ridondanza dello storage Oracle.*  Utilizzo<block ref="5aaa25223f67673cf29042a34b88e27e" prefix=" " category="inline-code"></block> per i file critici del registro/voto del cluster Oracle RAC in modo che tre file di voto su tre gruppi di errore del disco ASM forniscano una protezione ottimale del cluster e il registro del cluster venga replicato tra i gruppi di errore del disco ASM.  Utilizzo<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> per file binari, dati e log di Oracle per ottimizzare l'utilizzo dello storage.  Il RAID-DP ONTAP sottolineato fornisce protezione dei dati quando<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> è impiegato.</block>
  <block id="3ed99aa53a2f633957eb421708c54e40" category="list-text">*Credenziali per l'autenticazione dell'archiviazione ONTAP .*  Utilizzare solo credenziali a livello di cluster ONTAP per l'autenticazione del cluster di archiviazione ONTAP , inclusa la connettività SnapCenter al cluster di archiviazione ONTAP o la connettività dello strumento ONTAP al cluster di archiviazione ONTAP .</block>
  <block id="a6d88ee32eb46635dfd1330ee9c755dd" category="list-text">*Fornitura di spazio di archiviazione dal datastore vVols alla VM del database.*  Aggiungere solo un disco alla volta alla VM del database dal datastore vVols .  Al momento non è supportata l'aggiunta simultanea di più dischi dai datastore vVols .  </block>
  <block id="d1d4875856254459ea4c9c715e096d52" category="list-text">*Protezione del database.*  NetApp fornisce una suite SnapCenter software per il backup e il ripristino del database con un'interfaccia utente intuitiva.  NetApp consiglia di implementare tale strumento di gestione per ottenere un backup SnapShot rapido e un ripristino e recupero rapidi del database.</block>
  <block id="3a05b8d15001b422dfd704ad762eb5cc" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione del database Oracle 19c in VCF con datastore vVols su storage NetApp ONTAP in una configurazione Oracle RAC.</block>
  <block id="d9bda8b1c18ddbd2b5915f4d86da5ee6" category="inline-link-macro">Documentazione di VMware Cloud Foundation</block>
  <block id="a12fb51e6a26df58be980a0d67dc8ef0" category="list-text">È stato configurato un VMware VCF.  Per informazioni o istruzioni su come creare un VCF, fare riferimento alla documentazione VMware<block ref="59168b7ce3f6dbe18036b34793095689" category="inline-link-macro-rx"></block> .</block>
  <block id="79ff58877947942c116cf0b6b10c20e0" category="list-text">Fornire tre VM Linux, due VM per il cluster del database Oracle RAC e una VM per il controller Ansible all'interno del dominio del carico di lavoro VCF.  Fornire una VM del server Windows per l'esecuzione del server NetApp SnapCenter .  Per informazioni sulla configurazione del controller Ansible per la distribuzione automatizzata del database Oracle, fare riferimento alle seguenti risorse<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> .</block>
  <block id="90d497d59ee5d1ed30bf4e510c2643ac" category="list-text">Le VM del database Oracle RAC devono disporre di almeno due interfacce di rete: una per l'interconnessione privata di Oracle RAC e una per le app o il traffico dati pubblico.</block>
  <block id="8c3d0c00ea667e3e0723e5cdc6473a09" category="inline-link-macro">Documentazione SnapCenter Plug-in for VMware vSphere</block>
  <block id="abef732dd483cfddd1aaa364ad7fef69" category="list-text">Il plugin SnapCenter versione 6.0 per VMware vSphere è stato distribuito in VCF.  Per la distribuzione del plugin, fare riferimento alle seguenti risorse:<block ref="b0d40f86037388f17d222087e64d79a3" category="inline-link-macro-rx"></block> .</block>
  <block id="26ffc687a7267f96a389530199971cd1" category="inline-link-macro">Documentazione ONTAP tools for VMware vSphere</block>
  <block id="70f233bf52a3a33941dc2ecd693f03ae" category="list-text">Lo strumento ONTAP per VMware vSphere è stato distribuito in VCF.  Fare riferimento alle seguenti risorse per lo strumento ONTAP per la distribuzione VMware vSphere:<block ref="124f85081ad68c1408c62c0c72a9a0d0" category="inline-link-macro-rx"></block></block>
  <block id="ba5602a7d83e50db49caf0853dacb46a" category="section-title">Crea un profilo di capacità di archiviazione</block>
  <block id="574f4871a7f478f5bcc72e03eef4a96f" category="paragraph">Per prima cosa, creare un profilo di capacità di archiviazione personalizzato per l'archiviazione ONTAP sottolineata che ospita il datastore vVols .</block>
  <block id="ffb7e150691b98e078662c7a23f4adbe" category="list-text">Dai collegamenti del client vSphere, aprire lo strumento NetApp ONTAP .  Assicurarsi che il cluster di archiviazione ONTAP sia stato aggiunto a<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> come parte dell'implementazione dello strumento ONTAP .</block>
  <block id="ce0f28375029ece59ae6afd04718446f" category="inline-image-macro">Screenshot che mostra la configurazione di un profilo di capacità di archiviazione personalizzato.</block>
  <block id="d436681d1ba8c29c46f80b632ee9d35e" category="paragraph"><block ref="9146b6c4dda783e91bff3bed3df79ddb" category="inline-image-macro-rx" type="image"></block> <block ref="923f1b2327c5f0b26b7cfbc2e9c17418" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93b2d42abda9af2775a45e3d82033a4c" category="list-text">Clicca su<block ref="5671a8cbfb87337b09f7c0b3f03c48ec" prefix=" " category="inline-code"></block> per aggiungere un profilo personalizzato per Oracle.  Assegna un nome al profilo e aggiungi una breve descrizione.</block>
  <block id="032d6bcbe3c9911863c15ef1f1e3de32" category="paragraph"><block ref="032d6bcbe3c9911863c15ef1f1e3de32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7c1e70b93b043a558fd33a60b2b9a4f" category="list-text">Scegli la categoria del controller di archiviazione: prestazioni, capacità o ibrido.</block>
  <block id="a94a0ff1fbf802792d20f206753a4a32" category="paragraph"><block ref="a94a0ff1fbf802792d20f206753a4a32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6208541b7c69092d9c6007ae118c5a02" category="list-text">Selezionare il protocollo.</block>
  <block id="739891b8e01a85a9820bac242051b8a3" category="paragraph"><block ref="739891b8e01a85a9820bac242051b8a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40b8327c5adffbb8fd939d1e60225518" category="list-text">Se lo si desidera, definire una policy QoS.</block>
  <block id="b2ab72db8cc86555efabbbd859f38f6d" category="paragraph"><block ref="b2ab72db8cc86555efabbbd859f38f6d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f248abccd937c20eb587021d08cf5665" category="list-text">Attributi di archiviazione aggiuntivi per il profilo.  Se si desidera disporre della funzionalità di crittografia, assicurarsi che la crittografia sia abilitata sul controller NetApp , altrimenti potrebbero verificarsi problemi durante l'applicazione del profilo.</block>
  <block id="541454602119f2616b2e52d1437eaa42" category="paragraph"><block ref="541454602119f2616b2e52d1437eaa42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8259b9d166c6def0c94e28529b07408" category="list-text">Rivedere il riepilogo e completare la creazione del profilo di capacità di archiviazione.</block>
  <block id="3f190ee140f52ed9a70e98b2160ba070" category="paragraph"><block ref="3f190ee140f52ed9a70e98b2160ba070" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dff98535475eb3bdfc270946dfc29280" category="section-title">Crea e configura il datastore vVols</block>
  <block id="08c0ac84a22cfe0e83d0056cdd1fa92c" category="paragraph">Una volta completati i prerequisiti, accedi al VCF come utente amministratore tramite vSphere Client, passando al dominio del carico di lavoro.  Non utilizzare l'opzione di archiviazione VMware integrata per creare vVols.  In alternativa, utilizzare lo strumento NetApp ONTAP per creare vVols.  Di seguito vengono illustrate le procedure per creare e configurare vVols.</block>
  <block id="067d6c9f3530bf26b24a96375614a55b" category="list-text">Il flusso di lavoro di creazione vVols può essere attivato dall'interfaccia dello strumento ONTAP o dal cluster del dominio del carico di lavoro VCF.</block>
  <block id="d3e1d44cc16d5e3186aa6459e33c27e4" category="inline-image-macro">Screenshot che mostra la configurazione del datastore vVols .</block>
  <block id="1b17a29e6b887eb0d9ab7f9cb10f0d23" category="paragraph"><block ref="1b17a29e6b887eb0d9ab7f9cb10f0d23" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8b46e4068fac7221bf52e8488be49c68" category="paragraph"><block ref="8b46e4068fac7221bf52e8488be49c68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5988bd65b90ceb685034d86d3495df44" category="list-text">Inserimento di informazioni generali per l'archivio dati, tra cui destinazione di provisioning, tipo, nome e protocollo.</block>
  <block id="d368189b519e970a5a27b306b8f18bd0" category="paragraph"><block ref="d368189b519e970a5a27b306b8f18bd0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8eba6077a8d57ff41f9729a6edb1283e" category="list-text">Selezionare il profilo di capacità di archiviazione personalizzato creato nel passaggio precedente, il<block ref="f31303ddb8ada38aed08c2bb8f9d8e6c" prefix=" " category="inline-code"></block> , E<block ref="541b6c1ab6b503c34fc7cd5ed7105896" prefix=" " category="inline-code"></block> , dove devono essere creati i vVols .</block>
  <block id="330ab8276772c395097c58fcd2e16906" category="paragraph"><block ref="330ab8276772c395097c58fcd2e16906" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8639edb08078b0872af987ffcb3c41a" category="list-text">Scegliere<block ref="088758c5f1801338b7483d3a2cda15aa" prefix=" " category="inline-code"></block> , compila il nome e la dimensione del volume e clicca su<block ref="9eeb52badb613229884838847294b90d" prefix=" " category="inline-code"></block> Poi<block ref="47559fb833ff58321570e5e877b467f6" prefix=" " category="inline-code"></block> per passare alla pagina di riepilogo.</block>
  <block id="f51d7f6d1bec980f632c3b10651ddbe8" category="paragraph"><block ref="013327d04afd6ea8e9faec4777de31d2" category="inline-image-macro-rx" type="image"></block> <block ref="eef5142ea01c24de90052c34a0ce18ab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6879b520f65a093360e318970237ae41" category="list-text">Clic<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per creare un datastore vVols per il binario Oracle.</block>
  <block id="13f8e21ff600374db353b1507b9f9f06" category="paragraph"><block ref="13f8e21ff600374db353b1507b9f9f06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93661ffe65302224a0ead77d9b4edad1" category="list-text">Creare un datastore per il registro del cluster Oracle o CRS.</block>
  <block id="1c47f3e49fcd620b8a1d29a756da0f5b" category="paragraph"><block ref="1c47f3e49fcd620b8a1d29a756da0f5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c63205151dd92ee20affd76d5bfb792e" category="admonition">È possibile aggiungere più di un volume a un datastore vVols oppure distribuire i volumi di un datastore vVols su più nodi del controller ONTAP per migliorare le prestazioni o la ridondanza.</block>
  <block id="17f1e06e290e3a19906298c1d44152f2" category="list-text">Crea un datastore per i dati Oracle.  L'ideale sarebbe creare datastore separati su ciascun nodo controller ONTAP e utilizzare Oracle ASM per distribuire i dati sui nodi controller, in modo da massimizzare l'utilizzo della capacità del cluster di storage ONTAP .</block>
  <block id="0cc1f1380316a9b5fec93a6891981a02" category="paragraph"><block ref="fbc8cc302454a9bf54bf4a602124946d" category="inline-image-macro-rx" type="image"></block> <block ref="6c823f69e41e997eaf09e437dd277eba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09f886aa0490a78c38eebcf984caafb7" category="list-text">Crea un datastore per il registro Oracle.  Data la natura sequenziale della scrittura del log di Oracle, è consigliabile posizionarlo su un singolo nodo del controller ONTAP .</block>
  <block id="417e6a6d8788543679526f3590accc7d" category="paragraph"><block ref="417e6a6d8788543679526f3590accc7d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98485cfae59d0d91d7e5836355cda9f1" category="list-text">Convalidare gli archivi dati Oracle dopo la distribuzione.</block>
  <block id="6aac64fbe8699f7b2039377a331e6bb7" category="paragraph"><block ref="6aac64fbe8699f7b2039377a331e6bb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53805fd039c130e4639961665f4d52c7" category="section-title">Crea una policy di archiviazione VM in base al profilo di capacità di archiviazione</block>
  <block id="8597b3e29b3bfd1a6d11508383239d6f" category="paragraph">Prima di effettuare il provisioning dello storage dal datastore vVols alla VM del database, aggiungere un criterio di storage della VM basato sul profilo di capacità di storage creato nel passaggio precedente.  Di seguito sono riportate le procedure.</block>
  <block id="0cac31d91fd3c9b2951a23b3238222ba" category="list-text">Dai menu del client vSphere, aprire<block ref="618825ca73695fc2a237f6dcf99e5c27" prefix=" " category="inline-code"></block> e mettere in evidenza<block ref="9f1893d8db5ceaf62726d1a0aa228224" prefix=" " category="inline-code"></block> .  Clic<block ref="686e697538050e4664636337cc3b834f" prefix=" " category="inline-code"></block> aprire<block ref="9f1893d8db5ceaf62726d1a0aa228224" prefix=" " category="inline-code"></block> flusso di lavoro.</block>
  <block id="9a6d57df0589e3632c8c0f69749dfbb0" category="inline-image-macro">Screenshot che mostra la configurazione dei criteri di archiviazione di una macchina virtuale.</block>
  <block id="e5500d8d9309a538769c9fc3ef496163" category="paragraph"><block ref="e5500d8d9309a538769c9fc3ef496163" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c1b50b4d689fb35a32cefabc42b21c7" category="list-text">Assegna un nome al criterio di archiviazione della VM.</block>
  <block id="c0a108e0c5e3b490410317e9ddd118a3" category="paragraph"><block ref="c0a108e0c5e3b490410317e9ddd118a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19fbb3187befaa8e7ddf2ee168778b40" category="list-text">In<block ref="e06edd159cb29fd25e7a6b6ca07b5c45" prefix=" " category="inline-code"></block> , controllo<block ref="e4cbdedd5072d1d5bf70b96942a75033" prefix=" " category="inline-code"></block></block>
  <block id="904d383f8fe0b5448083390508155d00" category="paragraph"><block ref="904d383f8fe0b5448083390508155d00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1fd9dc94d502a651207949123c63c43" category="list-text">Per le regole NetApp.clustered.Data.ONTAP ONTAP<block ref="ae13e51f99f3be623a6d44d7439d9bb5" prefix=" " category="inline-code"></block> , seleziona il profilo di capacità di archiviazione personalizzato creato nel passaggio precedente.</block>
  <block id="92ca1c06b53a9bf7169d9d37b87c5b78" category="paragraph"><block ref="92ca1c06b53a9bf7169d9d37b87c5b78" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f6f104c16849aecc74ac68cf09c0c24" category="list-text">Per le regole NetApp.clustered.Data.ONTAP ONTAP<block ref="8c340dc334134096f68b880b42a8692c" prefix=" " category="inline-code"></block> , scegliere<block ref="b9f5c797ebbf55adccdd8539a65a0241" prefix=" " category="inline-code"></block> se i vVols non vengono replicati.</block>
  <block id="8165f4626c70c1132ec673e56c7820ce" category="paragraph"><block ref="8165f4626c70c1132ec673e56c7820ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37da436400640cf811c491c3a99d576c" category="list-text">La pagina di compatibilità dell'archiviazione mostra i datastore vVols compatibili nell'ambiente VCF.</block>
  <block id="ece101e6dd39ee01ca8d93783001fb96" category="paragraph"><block ref="ece101e6dd39ee01ca8d93783001fb96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4a923ac6fb99ee5d0fc17211d1c3eec5" category="list-text">Rivedere e terminare la creazione del criterio di archiviazione della VM.</block>
  <block id="08364e1b880d527123d02990fd16ba05" category="paragraph"><block ref="08364e1b880d527123d02990fd16ba05" category="inline-image-macro-rx" type="image"></block></block>
  <block id="818749afba521c90e53181fd57b26e4f" category="list-text">Convalidare la policy di archiviazione della VM appena creata.</block>
  <block id="d6a760252e81d9cb59b731f435829b28" category="paragraph"><block ref="d6a760252e81d9cb59b731f435829b28" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1abdd6a035215ba0bbd05f64107eba8b" category="section-title">Assegnare i dischi alle VM RAC dagli archivi dati vVols e configurare l'archiviazione DB</block>
  <block id="1694a0fa71dd4bf27eb32be743d62229" category="paragraph">Dal client vSphere, aggiungere i dischi desiderati dai datastore vVols alla VM del database modificando le impostazioni della VM.  Quindi, accedi alla VM per formattare e montare il disco binario sui punti di montaggio /u01.  Di seguito sono illustrati i passaggi e le attività esatti.</block>
  <block id="671c65f2aaf6e342c3dc64e10e4c1de7" category="list-text">Prima di allocare i dischi dal datastore alla VM del database, effettuare l'accesso agli host VMware ESXi per convalidare e garantire che la funzionalità multi-writer sia abilitata (valore GBLAllowMW impostato su 1) a livello ESXi.</block>
  <block id="13ab15eddd890290ff1ab6c3369c5105" category="list-text">Aggiungere un nuovo controller SCSI dedicato da utilizzare con i dischi Oracle RAC.  Disabilitare la condivisione del bus SCSI.</block>
  <block id="bd7a11e9ebe1d463ea78c92b8e7ae29a" category="inline-image-macro">Screenshot che mostra la configurazione di archiviazione di una macchina virtuale.</block>
  <block id="7129a382764ea949fb8bed104a6ade0d" category="paragraph"><block ref="7129a382764ea949fb8bed104a6ade0d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97583967fb763c3e123e7d04b518fc1d" category="list-text">Dal nodo RAC 1 - ora01, aggiungere un disco alla VM per l'archiviazione binaria Oracle senza condivisione.</block>
  <block id="c27003cfb2a02d3762fb8010a92687e3" category="paragraph"><block ref="c27003cfb2a02d3762fb8010a92687e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53c2a1ff3fee6b5a708dd1e2272923a0" category="list-text">Dal nodo RAC 1, aggiungere tre dischi alla VM per l'archiviazione Oracle RAC CRS e abilitare la condivisione multi-writer.</block>
  <block id="f919bb8993e2bfb16b2fd0d702c971dc" category="paragraph"><block ref="53bf97527722008ce8d661e5a309e560" category="inline-image-macro-rx" type="image"></block> <block ref="08ea8751649164407ff156cec3b0f8df" category="inline-image-macro-rx" type="image"></block> <block ref="b3fd0f6ce783da27e8e68462beeebe24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9eece672ad02e005280b550f41a48a30" category="list-text">Dal nodo RAC 1, aggiungere due dischi da ciascun datastore per i dati alla VM per l'archiviazione dati Oracle condivisa.</block>
  <block id="270e62c3c8d11006b7edcfe66059250a" category="paragraph"><block ref="d7b183566e25dc549478bcca6cdc80c2" category="inline-image-macro-rx" type="image"></block> <block ref="fe2d230937200fbf9d659ef323fee125" category="inline-image-macro-rx" type="image"></block> <block ref="6533373b87f2553fe6f1fc753af7035e" category="inline-image-macro-rx" type="image"></block> <block ref="0df165bcac752e5c603b8291621de793" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1359af07f8950bb57fd01d7cb00ae87d" category="list-text">Dal nodo RAC 1, aggiungere due dischi alla VM dall'archivio dati dei log per l'archiviazione condivisa dei file di log Oracle.</block>
  <block id="1a2621fa74db5588a92781648c7a9b36" category="paragraph"><block ref="dd19d7d15f63e0956db9b7d3d79be330" category="inline-image-macro-rx" type="image"></block> <block ref="b8e00814d92a9ec8d8b4002f70a59bf7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a49c9fafad9c156d258b0cfaa9465b32" category="list-text">Dal nodo RAC 2, aggiungere un disco alla VM per l'archiviazione binaria Oracle senza condivisione.</block>
  <block id="91065060851a6c470074ef0bfcb42538" category="paragraph"><block ref="91065060851a6c470074ef0bfcb42538" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b675282a475ed2d6ad7cf98f616e6501" category="list-text">Dal nodo RAC 2, aggiungi altri dischi condivisi selezionando<block ref="6aed226660dfd7b887814d05152d2b27" prefix=" " category="inline-code"></block> opzione e abilitare la condivisione multi-writer per ogni disco condiviso.</block>
  <block id="da16222a0401d0bf0515114004684032" category="paragraph"><block ref="d9c573b6e63b8ec12d1408782f147dd4" category="inline-image-macro-rx" type="image"></block> <block ref="3d61bea0adbfbf5903f99d8ef7176268" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2693086f370c879a2082d4d3d7dab372" category="list-text">Da VM<block ref="21b14bb4c76726ee1f508919a7a313cc" prefix=" " category="inline-code"></block> ,<block ref="c9d7eedc8be4380c02106619824b8449" prefix=" " category="inline-code"></block> , aggiungi attributo<block ref="786ce2a862b7971f5d75434b768ebdbe" prefix=" " category="inline-code"></block> con valore<block ref="c0d83f0b82a6b30de8811e69e6d95c61" prefix=" " category="inline-code"></block> .  Per aggiungere il parametro avanzato, la macchina virtuale deve essere inattiva.  Impostando questa opzione, SnapCenter può identificare con precisione il vVol nel tuo ambiente.  Questa operazione dovrebbe essere eseguita su tutti i nodi RAC.</block>
  <block id="4797e9bfb4da93ec6f6a12558ab02361" category="paragraph"><block ref="4797e9bfb4da93ec6f6a12558ab02361" category="inline-image-macro-rx" type="image"></block></block>
  <block id="665639cc3720d39b6e081d6894c32ad9" category="list-text">Ora riavvia la macchina virtuale.  Accedi alla VM come utente amministratore tramite ssh per esaminare le unità disco appena aggiunte.</block>
  <block id="a0d946a1dd4f8686c8eb7d38dfac9fce" category="list-text">Da ciascun nodo RAC, partizionare il disco binario Oracle (/dev/sdb) come partizione primaria e singola accettando semplicemente le scelte predefinite.</block>
  <block id="092b3ded0c71a57dc9e6c900236e8802" category="list-text">Formattare i dischi partizionati come file system xfs.</block>
  <block id="bb3b392e1475d9424bf707a161d5e269" category="list-text">Montare il disco sul punto di montaggio /u01.</block>
  <block id="5c14ee5bcebed05ca6f36737fa926611" category="list-text">Aggiungere punti di montaggio a /etc/fstab in modo che le unità disco vengano montate al riavvio della macchina virtuale.</block>
  <block id="9a05743b08fa1f2a741732b4dcc91133" category="section-title">Distribuzione di Oracle RAC in VCF</block>
  <block id="adcafa77c4aa4f4efd0db63c6320a0c5" category="paragraph">Si consiglia di sfruttare il toolkit di automazione NetApp per distribuire Oracle RAC in VCF con vVols.  Leggere attentamente le istruzioni incluse (READme) e configurare i file dei parametri di distribuzione, come il file di destinazione della distribuzione (host), il file delle variabili globali (vars/vars.yml) e il file delle variabili della VM del database locale (host_vars/host_name.yml) seguendo le istruzioni nel toolkit.  Di seguito sono riportate le procedure passo passo.</block>
  <block id="4a5abe82a7fae2eaf788dd6f9951e913" category="list-text">Accedi alla VM del controller Ansible come utente amministratore tramite SSH e clona una copia del toolkit di automazione per la distribuzione di Oracle RAC in VCF con vVols.</block>
  <block id="8cbbbb19113497bb9e98082d50559d57" category="list-text">Mettere in fase i seguenti file di installazione di Oracle nella cartella /tmp/archive sulla VM del database RAC node 1.  La cartella dovrebbe consentire l'accesso a tutti gli utenti con autorizzazione 777.</block>
  <block id="24171804df1cf0c75810555078f5363a" category="list-text">Imposta l'autenticazione senza chiave SSH tra il controller Ansible e le VM del database, che richiede la generazione di una coppia di chiavi SSH e la copia della chiave pubblica nella directory radice dell'utente amministratore delle VM del database, nella cartella .ssh e nel file authorized_keys.</block>
  <block id="728193b5c7846573379d02085e909342" category="list-text">Configurare i file dei parametri host di destinazione definiti dall'utente.  Di seguito è riportato un esempio di configurazione tipica per il file host di destinazione: hosts.</block>
  <block id="69e161901e08e482a784be5dc7f0a651" category="list-text">Configurare i file dei parametri specifici dell'host locale definiti dall'utente.  Di seguito è riportato un esempio di configurazione tipica per il file host_name.yml locale - ora01.yml.</block>
  <block id="f58c2ca9903ffc6f561b9a0ad4d259ce" category="list-text">Configurare il file dei parametri globali definiti dall'utente.  Di seguito è riportato un esempio di configurazione tipica per il file dei parametri globali - vars.yml</block>
  <block id="e24b23c25dcec5be6339809014c3bdcd" category="list-text">Dal controller Ansible, dalla directory home del toolkit di automazione clonato /home/admin/na_oracle_deploy_rac, eseguire il playbook dei prerequisiti per configurare i prerequisiti Ansible.</block>
  <block id="6ae4f18884244011c1af48b055b81490" category="list-text">Eseguire il playbook di configurazione di Linux.</block>
  <block id="7bf1e8acde5c2dc40b02275ed5e2cc1d" category="list-text">Eseguire il playbook di distribuzione Oracle.</block>
  <block id="a7119acd29a953169996c6cd5828ae0e" category="list-text">Facoltativamente, tutti i playbook sopra indicati possono essere eseguiti anche da un'unica esecuzione del playbook.</block>
  <block id="f72bad29aa332450a1473c4ee42daca5" category="section-title">Convalida della distribuzione Oracle RAC in VCF</block>
  <block id="6837977f570679b216db78e041f5750c" category="paragraph">Questa sezione fornisce dettagli sulla convalida della distribuzione di Oracle RAC in VCF per garantire che tutte le risorse di Oracle RAC siano completamente distribuite, configurate e funzionanti come previsto.</block>
  <block id="44f80d3b64dcf0f0f6d4874745b23da8" category="list-text">Accedi alla RAC VM come utente amministratore per convalidare l'infrastruttura Oracle Grid.</block>
  <block id="b8a929b95bdc686f95e0bbb3ccdb7465" category="list-text">Elenca i nodi del cluster.</block>
  <block id="bfd716e1e7ec88f5c5b5066291adc63e" category="list-text">Convalida OCR/VOTAZIONE.</block>
  <block id="da3a1bafa7ba4c1638c7b89315232c57" category="list-text">Passare all'utente Oracle per convalidare il database in cluster.</block>
  <block id="7513062e80b0ae42ada4bcb96f44b96c" category="list-text">Oppure accedi a EM express per convalidare il database RAC dopo l'esecuzione corretta del playbook.</block>
  <block id="5afe58c129643433adc50a2af141f9f9" category="inline-image-macro">Screenshot che mostra la configurazione di Oracle EM Express.</block>
  <block id="0d718d583110b0638c413fa9daabb09e" category="paragraph"><block ref="02c78b42881b138cbd2173e76d46ae3c" category="inline-image-macro-rx" type="image"></block> <block ref="070c3132ee6ef8b48eed502e3adc9130" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b1814436c2f5e378f75bf1540169449" category="section-title">Backup e ripristino del database Oracle RAC in VCF con SnapCenter</block>
  <block id="75e3c73d79159eb8120f96e67738c1e4" category="paragraph">La versione 6 SnapCenter presenta numerosi miglioramenti rispetto alla versione 5, tra cui il supporto per il datastore VMware vVols .  SnapCenter si basa su un plug-in lato host su una macchina virtuale del database per eseguire attività di gestione della protezione dei dati basate sulle applicazioni.  Per informazioni dettagliate sul plug-in NetApp SnapCenter per Oracle, fare riferimento a questa documentazione<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Di seguito sono riportati i passaggi principali per configurare SnapCenter versione 6 per il backup e il ripristino del database Oracle RAC in VCF.</block>
  <block id="db870e382c718288732e8cddc579b13c" category="list-text">Scarica la versione 6 del SnapCenter software dal sito di supporto NetApp :<block ref="3cca19c7256555824970f142627f53d3" category="inline-link-macro-rx"></block> .</block>
  <block id="9535205879e21b3b44dc228f092b815c" category="list-text">Accedi come amministratore allo SnapCenter che ospita la VM Windows.  Installare i prerequisiti per SnapCenter 6.0.</block>
  <block id="14aae9a2299009444cb9a8fdd1043241" category="inline-image-macro">Screenshot che mostra i prerequisiti SnapCenter 6.0.</block>
  <block id="74a7e491803d407fa356faec536f3e4a" category="paragraph"><block ref="74a7e491803d407fa356faec536f3e4a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8586c002ab45881c90190837b88451c2" category="list-text">Come amministratore, installa l'ultimo Java JDK da<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .</block>
  <block id="fb21ef84f7da10fcc41ae83d827544e8" category="paragraph"><block ref="fb21ef84f7da10fcc41ae83d827544e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="212969042f73c7fab7539a4425462c46" category="list-text">Revisione<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menu per essere aggiornato su SnapCenter se sei un nuovo utente.</block>
  <block id="75a05d0c05723a7a5ede08e6f38be9b9" category="paragraph"><block ref="75a05d0c05723a7a5ede08e6f38be9b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfed4c63c22e68017be86717e681a47d" category="list-text">Aggiungi cluster di archiviazione ONTAP a<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> con IP di gestione del cluster e autenticato tramite ID utente amministratore del cluster.</block>
  <block id="88a22ff01ead33d55b3381621c99e508" category="paragraph"><block ref="118ecd8fa6fa8ef279ec1b295b0e4b39" category="inline-image-macro-rx" type="image"></block> <block ref="0aed5468c7b83a06063df279a572fb30" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9be829820801059aa2e6f8032dedcb5b" category="list-text">Aggiungi VM del database Oracle RAC e VM del plugin vSphere<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> per l'accesso SnapCenter alla VM DB e alla VM del plugin vSphere.  Le credenziali devono avere privilegi sudo sulle VM Linux.  È possibile creare credenziali diverse per diversi ID utente di gestione per le VM. L'ID utente di gestione della VM del plugin vShpere viene definito quando la VM del plugin viene distribuita in vCenter.</block>
  <block id="4f27b1e39049720a171ec680e3ecb615" category="list-text">Aggiungere la VM del database Oracle RAC in VCF a<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> con le credenziali DB VM create nel passaggio precedente.</block>
  <block id="8ddc920b9e6fb57e45e5771d5f36dc94" category="paragraph"><block ref="fbff666368d60621f04b1ee0149f2820" category="inline-image-macro-rx" type="image"></block> <block ref="5a4aa74a2cc8a46683840b27cac3651f" category="inline-image-macro-rx" type="image"></block> <block ref="c9618368d4d179889440afac05b78be5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="532bf73956152aae1e31d71a303110bb" category="list-text">Allo stesso modo, aggiungi il plugin NetApp VMware VM a<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> con le credenziali della VM del plugin vSphere create nel passaggio precedente.</block>
  <block id="b09c50eb29716e0670c57af959a2f106" category="paragraph"><block ref="d67c0eec4e399b286c043e8cf3a4bec1" category="inline-image-macro-rx" type="image"></block> <block ref="925268510b9e4bd3e1443c47abec7cf9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="836e220077eef7f134a2eca3d11dd42a" category="list-text">Infine, dopo che il database Oracle è stato scoperto sulla VM DB, torna a<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block><block ref="9e476387322a5c250893cf9c5c4ce78c" prefix="-" category="inline-code"></block> per creare policy di backup del database Oracle.  L'ideale sarebbe creare una policy di backup separata per i registri di archivio, per consentire intervalli di backup più frequenti e ridurre al minimo la perdita di dati in caso di errore.</block>
  <block id="9042135e15b7d736f2926087cc1cbac4" category="admonition">Assicurarsi che il nome del server SnapCenter possa essere risolto nell'indirizzo IP della VM DB e della VM del plugin vSphere.  Allo stesso modo, il nome della VM del DB e il nome della VM del plugin vSphere possono essere risolti nell'indirizzo IP del server SnapCenter .</block>
  <block id="f2f5ea20fbc62b491869c43a522dcf59" category="paragraph">SnapCenter sfrutta lo snapshot del volume ONTAP per un backup, un ripristino o una clonazione del database molto più rapidi rispetto alla metodologia tradizionale basata su RMAN.  Gli snapshot sono coerenti con l'applicazione poiché il database viene messo in modalità di backup Oracle prima di uno snapshot.</block>
  <block id="9700d849a16259acb4af12489f80cf93" category="paragraph"><block ref="9700d849a16259acb4af12489f80cf93" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d86fa67cb5a60379e561235b1bbcf1a2" category="list-text">Fare clic sul database per avviare un flusso di lavoro per abilitare la protezione del database.</block>
  <block id="d1479f1d5187c38b8bdcce66ac37574d" category="paragraph"><block ref="d1479f1d5187c38b8bdcce66ac37574d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a32086592e3e98e202dec84f5352e6b" category="list-text">Applicare criteri di backup e, se necessario, impostare la pianificazione.</block>
  <block id="2dbd120aca5ea296277fd8a472f62e83" category="paragraph"><block ref="2dbd120aca5ea296277fd8a472f62e83" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9550848b32d2fbf200fe1071ca3cfa4" category="list-text">Se necessario, impostare la notifica del processo di backup.</block>
  <block id="2165fc473cdf3ef639e0944d17ddddb7" category="paragraph"><block ref="2165fc473cdf3ef639e0944d17ddddb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5dad3646303c6a4e4f76cc956dddef68" category="list-text">Rivedere il riepilogo e terminare per abilitare la protezione del database.</block>
  <block id="33f837abd461bac99f5941eccc6afcc4" category="paragraph"><block ref="33f837abd461bac99f5941eccc6afcc4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="60b30cb13078f340c18a220e2cbe412f" category="list-text">Il processo di backup su richiesta può essere attivato facendo clic su<block ref="9af892ad254c844922acba8e89078d6d" prefix=" " category="inline-code"></block> .</block>
  <block id="dd9e46e6124a944f89102fd53f55b762" category="paragraph"><block ref="a002fd216ac89a97a3ce9b1e6da49f41" category="inline-image-macro-rx" type="image"></block> <block ref="336b8ad4002b898a6de2a41977355869" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bf9c2e0bb29d6312e54a54f058ac378" category="paragraph"><block ref="2bf9c2e0bb29d6312e54a54f058ac378" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf4113b041da79313c635fc0fc15a81f" category="list-text">Fare clic sul database per rivedere i set di backup completati per il database RAC.</block>
  <block id="e41ad1e36bc19ff3165359f835ddef80" category="paragraph"><block ref="e41ad1e36bc19ff3165359f835ddef80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c978f8cd51a54f6f818224c07b37081" category="section-title">Ripristino/recupero del database</block>
  <block id="c416dcf0d7b8466599ed23e88f4d2c7b" category="paragraph">SnapCenter offre numerose opzioni di ripristino e recupero per il database Oracle RAC dal backup snapshot.  In questo esempio, mostriamo come ripristinare da un backup snapshot precedente, quindi eseguire il rollforward del database all'ultimo log disponibile.</block>
  <block id="ac8a46d614401dc313c8dfdc41d3b6ad" category="list-text">Per prima cosa, esegui un backup snapshot.  Quindi, crea una tabella di prova e inserisci una riga nella tabella per convalidare il database recuperato dall'immagine snapshot prima che la creazione della tabella di prova la ripristini.</block>
  <block id="516bbb855bac93422a0befab9b7f2cc7" category="list-text">Da SnapCenter<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, aprire la pagina della topologia di backup del database NTAP1.  Evidenzia il set di backup dei dati snapshot creato 3 giorni fa.  Clicca su<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> per avviare il flusso di lavoro di ripristino-recupero.</block>
  <block id="9c4b6c788f60f2fceed9808039828690" category="paragraph"><block ref="9c4b6c788f60f2fceed9808039828690" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15d3f8cc8551722b92986955a6f33ed1" category="paragraph"><block ref="15d3f8cc8551722b92986955a6f33ed1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b2e47b0bb47c8052c2ba29b2a019287" category="list-text">Scegli l'ambito di ripristino per<block ref="eeb41be937965dcb49c6d428805a16ba" prefix=" " category="inline-code"></block> .</block>
  <block id="5004792c73659bd8e32f395acb2b5bb1" category="paragraph"><block ref="5004792c73659bd8e32f395acb2b5bb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97c0a280f28f15fdfc930e4311736a46" category="paragraph"><block ref="97c0a280f28f15fdfc930e4311736a46" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ca9f3877e706843edbe4178753216f5" category="paragraph"><block ref="8ca9f3877e706843edbe4178753216f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96890589023936940a4cb9f6c0c8d9f6" category="paragraph"><block ref="96890589023936940a4cb9f6c0c8d9f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1cc93933588a5b4d56f03e039adeb25" category="paragraph"><block ref="b1cc93933588a5b4d56f03e039adeb25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8a920caceb0dfbf3270fa19b5faafdc" category="list-text">Da RAC DB VM ora01, convalidare che un ripristino/recupero riuscito del database sia stato riportato allo stato più recente e abbia recuperato la tabella di prova creata 3 giorni dopo.</block>
  <block id="5af876911ef89b1e7c4739bf87f4c28a" category="paragraph">Questo completa la dimostrazione del backup, ripristino e recupero di SnapCenter del database Oracle RAC in VCF con vVols.</block>
  <block id="ded9cd19cde727f824d72e3ad8ef7662" category="inline-link-macro">Fondazione VMware Cloud</block>
  <block id="153af65d8710c27484761f4f0f0b1328" category="list-text"><block ref="153af65d8710c27484761f4f0f0b1328" category="inline-link-macro-rx"></block></block>
  <block id="8127605cde4cee83a23b35f1207c7572" category="inline-link-macro">Documentazione SnapCenter software</block>
  <block id="bb45eb5524b20b253fe60d799a69dbf8" category="list-text"><block ref="bb45eb5524b20b253fe60d799a69dbf8" category="inline-link-macro-rx"></block></block>
  <block id="124f85081ad68c1408c62c0c72a9a0d0" category="list-text"><block ref="124f85081ad68c1408c62c0c72a9a0d0" category="inline-link-macro-rx"></block></block>
  <block id="ed7da1d98db2a5f56b9b51c80676689c" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione di Oracle in VMware Cloud Foundation (VCF) con vSphere Virtual Volumes (vVols) come storage del database primario e database Oracle in una configurazione a istanza singola (SI).</block>
  <block id="7771b3227f6011277af7c6f86381981f" category="doc">TR-4996: Distribuzione e protezione di Oracle SI in VCF con vVols</block>
  <block id="63187ee661198eecd7fe25cff775a86a" category="paragraph">La soluzione fornisce una panoramica e dettagli per la distribuzione e la protezione di Oracle in VMware Cloud Foundation (VCF) con vSphere Virtual Volumes (vVols) come storage del database primario e database Oracle in una configurazione a istanza singola (SI).</block>
  <block id="54c64849cbb768c12543c38fa3342f0f" category="paragraph">Questa documentazione illustra la distribuzione e la protezione di un database Oracle a istanza singola in un ambiente VMware Cloud Foundation con vVols come storage del database primario in un cluster di storage NetApp ONTAP .  Il database Oracle è configurato come se fosse distribuito nei file system locali su un sistema di archiviazione locale.  Questo rapporto tecnico si concentra sui passaggi per la creazione vVols in VCF per la distribuzione Oracle.  Mostreremo inoltre come utilizzare lo strumento NetApp SnapCenter UI per eseguire il backup, il ripristino e la clonazione di un database Oracle per lo sviluppo/test o altri casi d'uso per operazioni di database efficienti in termini di storage in VCF.</block>
  <block id="4c7d4a60b738b4714cddcc488009b210" category="list-text">Distribuzione del database Oracle SI in VCF con datastore vVols su NetApp ONTAP AFF come storage del database primario</block>
  <block id="25f2a359e29ebc505f92bc2118d15bec" category="list-text">Clone del database Oracle per sviluppo/test o altri casi d'uso in VCF con datastore vVols utilizzando lo strumento NetApp SnapCenter UI</block>
  <block id="3b17c15a96e90a03f424ba8ff84edda9" category="list-text">Un DBA che desidera distribuire Oracle in VCF con datastore vVols su NetApp ONTAP AFF come storage di database primario</block>
  <block id="d349eb44120afd2a733ed0cca1af1bb6" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle in VCF con datastore vVols sullo storage NetApp ONTAP AFF</block>
  <block id="1b7115ed74fb7546fe9b3aaf8e5001c8" category="list-text">Un amministratore di storage che desidera distribuire e gestire un database Oracle distribuito su VCF con datastore vVols su storage NetApp ONTAP AFF</block>
  <block id="ee657e8e58545003d830b6e8249dfef8" category="list-text">Un proprietario di un'applicazione che vorrebbe creare un database Oracle in VCF con datastore vVol</block>
  <block id="514383da7989f9a243a928e30fa946eb" category="paragraph">Il test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio con VCF con datastore vVols su storage NetApp ONTAP AFF che potrebbe non corrispondere all'ambiente di distribuzione finale. Per ulteriori informazioni, consultare la sezione <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f41b2cba0fbf8126d5b6737390e57f17" category="paragraph"><block ref="f41b2cba0fbf8126d5b6737390e57f17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="338b2420dac1e34d75bddea18c33a6ed" category="section-title">Configurazione del database Oracle in VCF</block>
  <block id="0db665f03cbb89d625759cc113d29320" category="cell">NTAP1(NTAP1_pdb1,NTAP1_pdb2,NTAP1_pdb3)</block>
  <block id="847c86000821f4308a632844393be895" category="cell">Datastore vVols su NetApp ONTAP AFF A300</block>
  <block id="fdd523ab1355a652be7785ec356296ce" category="cell">NTAP2(NTAP2_pdb1,NTAP2_pdb2,NTAP2_pdb3), NTAP1CLN</block>
  <block id="e833c850593670a5e6671378fcfddf3a" category="list-text">*Protocollo per la connettività del cluster vVols - ONTAP .*  NFS o iSCSI sono delle buone scelte.  I livelli di prestazione sono equivalenti.  In questa dimostrazione della soluzione, abbiamo utilizzato NFS come protocollo di archiviazione per la connettività vVols al cluster di archiviazione ONTAP sottolineato.  Se l'infrastruttura VCF lo supporta, i protocolli FC/FCoE e NVMe/FC sono supportati anche per i datastore vVols su NetApp ONTAP.</block>
  <block id="038f6eed09324a5254381f8e80a54f3d" category="list-text">*Layout di archiviazione Oracle su datastore vVols .*  Nei nostri test e nelle nostre convalide, abbiamo distribuito tre datastore vVols per i file binari Oracle, i dati Oracle e i file di registro Oracle.  È buona norma separare i diversi tipi di file Oracle nel loro datastore, in modo che il backup, il ripristino o la clonazione del database possano essere gestiti ed eseguiti facilmente.  Crea vVols dedicati per database di grandi dimensioni e condividi vVols per database più piccoli o database con profilo QoS simile. </block>
  <block id="935faab0c1724a6292faa21145fa1f7a" category="list-text">*Protezione del database.*  NetApp fornisce una suite SnapCenter software per il backup, il ripristino e la clonazione del database con un'interfaccia utente intuitiva.  NetApp consiglia di implementare tale strumento di gestione per ottenere un backup SnapShot veloce (meno di un minuto), un ripristino rapido del database (in pochi minuti) e una clonazione del database.</block>
  <block id="3ff3605993898c98bf107a74c1104b5c" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la distribuzione di Oracle 19c in VCF con datastore vVols su storage NetApp ONTAP in una configurazione a istanza singola di Oracle.</block>
  <block id="d642b6b6d64510f4e9ecdb6b6ab5f2ba" category="list-text">Fornire tre VM Linux, due VM per il database Oracle e una VM per il controller Ansible all'interno del dominio del carico di lavoro VCF.  Fornire una VM del server Windows per l'esecuzione del server NetApp SnapCenter .  Per informazioni sulla configurazione del controller Ansible per la distribuzione automatizzata del database Oracle, fare riferimento alle seguenti risorse<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> .</block>
  <block id="a003917c4a9634b2ce8d9b5b71ace9f5" category="paragraph"><block ref="a003917c4a9634b2ce8d9b5b71ace9f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6197223bdacc221a4a98dfbf0784cdf8" category="paragraph"><block ref="6197223bdacc221a4a98dfbf0784cdf8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4ab805ff1f111190e4619a5680e27d5" category="paragraph"><block ref="d4ab805ff1f111190e4619a5680e27d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1dbcab7480e5628accc586b51e7ae14a" category="admonition">Per migliorare le prestazioni, è possibile aggiungere più di un volume a un datastore vVols oppure distribuire i volumi di un datastore vVols su più nodi del controller ONTAP .</block>
  <block id="3aa2eedce4fdf93f0da96e86a78819b6" category="paragraph"><block ref="3aa2eedce4fdf93f0da96e86a78819b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f623a471bae2cf02f80bfc265f6c3d5f" category="list-text">Ripetere le stesse procedure per creare un datastore vVols per i dati e il registro Oracle.</block>
  <block id="c85846f79fb826c4698a667ef5c4c6e9" category="paragraph"><block ref="c85846f79fb826c4698a667ef5c4c6e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c49449890c4bc83acd8f37c4b0c8c760" category="admonition">Si noti che quando si clona un database Oracle, all'elenco vVols viene aggiunto un ulteriore vVols per i dati.</block>
  <block id="a8753f2e6a16f8ea1de20f8500f9aeef" category="paragraph"><block ref="a8753f2e6a16f8ea1de20f8500f9aeef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d9aaa275a447e9d31c528981b4f80a9" category="section-title">Assegnare i dischi alla VM DB dagli archivi dati vVols e configurare l'archiviazione DB</block>
  <block id="0148fef951b21df8e50803feb861c17f" category="paragraph">Dal client vSphere, aggiungi tre dischi dai datastore vVols alla VM del database modificando le impostazioni della VM.  Quindi, accedi alla VM per formattare e montare i dischi sui punti di montaggio /u01, /u02 e /u03.  Di seguito sono illustrati i passaggi e le attività esatti.</block>
  <block id="8a594a4062120343f6d1214b060c990e" category="list-text">Aggiungere un disco alla VM per l'archiviazione binaria Oracle.</block>
  <block id="d028d3a30efb13a13d7bf44b7a3b2d5d" category="paragraph"><block ref="d028d3a30efb13a13d7bf44b7a3b2d5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7b26f1b39d7f1134b617c758271388d" category="list-text">Aggiungere un disco alla VM per l'archiviazione dei dati Oracle.</block>
  <block id="ecfd90db517d3ccb7f53640add067b20" category="paragraph"><block ref="ecfd90db517d3ccb7f53640add067b20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9688034f93bd59a451be614f54b3bd31" category="list-text">Aggiungere un disco alla macchina virtuale per l'archiviazione dei log Oracle.</block>
  <block id="0216433349985bcb31e3f4f975f30b1b" category="paragraph"><block ref="0216433349985bcb31e3f4f975f30b1b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="20494f43a704174a7c66937c434822c8" category="list-text">Da VM<block ref="21b14bb4c76726ee1f508919a7a313cc" prefix=" " category="inline-code"></block> ,<block ref="c9d7eedc8be4380c02106619824b8449" prefix=" " category="inline-code"></block> , aggiungi attributo<block ref="786ce2a862b7971f5d75434b768ebdbe" prefix=" " category="inline-code"></block> con valore<block ref="c0d83f0b82a6b30de8811e69e6d95c61" prefix=" " category="inline-code"></block> .  Per aggiungere il parametro avanzato, la macchina virtuale deve essere inattiva.  Impostando questa opzione, SnapCenter può identificare con precisione il vVol nel tuo ambiente.</block>
  <block id="5c74da629f32767926f7ad7166336d3d" category="list-text">Partizionare le unità come partizione primaria e singola accettando semplicemente le scelte predefinite.</block>
  <block id="81529182dc2ad74d9f7dad30c6854f7a" category="list-text">Montare le unità sui punti di montaggio /u01, /u02 e /u03.</block>
  <block id="25f25999e7ae6cad40283a3ef624517a" category="section-title">Distribuzione del database Oracle in VCF</block>
  <block id="a2dbdc551f64fb11d4fa44270223db37" category="inline-link-macro">Distribuzione Oracle semplificata e automatizzata su NetApp C-Series con NFS</block>
  <block id="6813d3fc7d4ebe73dd45031ac8800804" category="paragraph">Si consiglia di sfruttare il toolkit di automazione NetApp per distribuire Oracle in VCF con vVols.  Per informazioni dettagliate sull'esecuzione della distribuzione automatizzata di Oracle sui file system xfs, fare riferimento a TR-4992:<block ref="69e84a8d3d6c5d27b49fbb81c11a7d37" category="inline-link-macro-rx"></block> .  Sebbene TR-4992 copra la distribuzione Oracle automatizzata su NetApp C-Series con NFS, è identica alla distribuzione Oracle in VCF con vVols se si bypassano i file system NFS montati sulla VM del database.  Semplicemente salteremmo questa fase con tag specifici.  Di seguito sono riportate le procedure passo passo.</block>
  <block id="18221967648c6cef9becffedbdba6e84" category="list-text">Accedi alla VM del controller Ansible come utente amministratore tramite SSH e clona una copia del toolkit di automazione per Oracle su NFS.</block>
  <block id="1ac10c3f57c4a31176d5de142e164d21" category="list-text">Mettere in fase i seguenti file di installazione di Oracle nella cartella /tmp/archive sulla VM del database.  La cartella dovrebbe consentire l'accesso a tutti gli utenti con autorizzazione 777.</block>
  <block id="4f8a7e3d09ed245456c0fe6a1f23244b" category="list-text">Configurare il file di destinazione della distribuzione (host), il file delle variabili globali (vars/vars.yml) e il file delle variabili della VM del database locale (host_vars/host_name.yml) secondo le istruzioni in questa sezione di TR-4992:<block ref="7bf5a4a19d96bb799d8289a13fabc6df" category="inline-link-macro-rx"></block> .  Commentare la variabile nfs_lif dal file delle variabili della VM del database locale.</block>
  <block id="f04a957e840ec1a63abf180d46387d50" category="list-text">Dal controller Ansible, clona la directory home del toolkit di automazione /home/admin/na_oracle_deploy_nf, esegui il playbook dei prerequisiti.</block>
  <block id="3380790c6b6607b8bdbb4dc491a193a6" category="list-text">Accedi a EM express per convalidare Oracle dopo l'esecuzione corretta del playbook.</block>
  <block id="842c4b652e88ec571da9b891cb513244" category="paragraph"><block ref="888d57860441dfc9c1fc6082d2364d89" category="inline-image-macro-rx" type="image"></block> <block ref="23eee6fde5b44fcfda003276b407c10b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="17fa3d33636f0f23f65c8d49f2592f2a" category="list-text">Facoltativamente, eseguire destroy playbook per rimuovere il database dalla DB VM.</block>
  <block id="7a1924f25fed25748daead1d2d5b01e9" category="section-title">Backup, ripristino e clonazione di Oracle in VCF con SnapCenter</block>
  <block id="9884c3c5b6856de90af08a8c26b025bd" category="paragraph">La versione 6 SnapCenter presenta numerosi miglioramenti rispetto alla versione 5, tra cui il supporto per il datastore VMware vVols .  SnapCenter si basa su un plug-in lato host su una macchina virtuale del database per eseguire attività di gestione della protezione dei dati basate sulle applicazioni.  Per informazioni dettagliate sul plug-in NetApp SnapCenter per Oracle, fare riferimento a questa documentazione<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Di seguito sono riportati i passaggi principali per configurare SnapCenter versione 6 per il backup, il ripristino e la clonazione del database Oracle in VCF.</block>
  <block id="b4368c5bff67fcdd30ed15befeb0bb5d" category="list-text">Aggiungi database VM e plugin VM vSphere<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> per l'accesso SnapCenter alla VM DB e alla VM del plugin vSphere.  Le credenziali devono disporre del privilegio sudo sulle VM Linux.  È possibile creare credenziali diverse per diversi ID utente di gestione per le VM.</block>
  <block id="59d5938e76d240d7dd6bc36a5b63bc74" category="list-text">Aggiungere la VM del database Oracle in VCF a<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> con le credenziali DB VM create nel passaggio precedente.</block>
  <block id="14e24ed3000f63d13b3c2dbb72725f64" category="paragraph"><block ref="31ccdda516ff15be043ab5bb01cc947b" category="inline-image-macro-rx" type="image"></block> <block ref="bdfb0675b851e14184fa62f280c17011" category="inline-image-macro-rx" type="image"></block> <block ref="816c425a89ae21b88cf83bcffbcca090" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9cee3f5f59ee683c1f09b5ea98a48249" category="paragraph"><block ref="d67c0eec4e399b286c043e8cf3a4bec1" category="inline-image-macro-rx" type="image"></block> <block ref="a5a429cf4b72212fd76c54db96065177" category="inline-image-macro-rx" type="image"></block></block>
  <block id="573d0af89416c61b52d479e98cf7ea8d" category="paragraph"><block ref="573d0af89416c61b52d479e98cf7ea8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16449fcb2911066c7f22bf61fb1b5bb0" category="paragraph"><block ref="16449fcb2911066c7f22bf61fb1b5bb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11b72074cc43b17dab69c669721461b1" category="paragraph"><block ref="11b72074cc43b17dab69c669721461b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a88fdb2227fc9514ba4a101761f20c3" category="paragraph"><block ref="0a88fdb2227fc9514ba4a101761f20c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fa630faa71e62812c5b73b74a2a0ce4c" category="paragraph"><block ref="fa630faa71e62812c5b73b74a2a0ce4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ee7678087998f16363ef172e3d47ffc" category="paragraph"><block ref="45708633ac635c8f7f9a04ff20faadd5" category="inline-image-macro-rx" type="image"></block> <block ref="9924c9c2cae1dacadbe543dfd833d3b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd1646b54a28735656217e244fe43d3f" category="paragraph"><block ref="dd1646b54a28735656217e244fe43d3f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="812d6325185d3c54cc9fdb6993aa88d5" category="list-text">Fare clic sul database per rivedere i set di backup completati per ciascun database.</block>
  <block id="2fa8dc10d20419afc3a60bdeb1b193be" category="paragraph">SnapCenter offre numerose opzioni di ripristino e recupero per i database Oracle dal backup snapshot.  In questo esempio, mostriamo come ripristinare da un backup snapshot precedente, quindi eseguire il rollforward del database all'ultimo log disponibile.</block>
  <block id="4de3a9d50c6a6b2be148858c04496ca7" category="list-text">Da SnapCenter<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, aprire la pagina della topologia di backup del database NTAP1.  Evidenzia il set di backup dei dati snapshot prima della creazione della tabella di test.  Clicca su<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> per avviare il flusso di lavoro di ripristino-recupero.</block>
  <block id="a81c00e3c6d8a561ee64ced3b7ca0a69" category="paragraph"><block ref="a81c00e3c6d8a561ee64ced3b7ca0a69" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e75d1f767cd936b1747bcf7d879de87" category="paragraph"><block ref="9e75d1f767cd936b1747bcf7d879de87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b9df42e1c46b607266d10c3d6047754" category="paragraph"><block ref="4b9df42e1c46b607266d10c3d6047754" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c2dcdd9443132bd5bfde3beeb7c8ec0" category="paragraph"><block ref="4c2dcdd9443132bd5bfde3beeb7c8ec0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b34f206cc03c4a2957e0dc1a529dc29" category="paragraph"><block ref="3b34f206cc03c4a2957e0dc1a529dc29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1876a126bb30d124d4ce83afe66d3e09" category="paragraph"><block ref="1876a126bb30d124d4ce83afe66d3e09" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49fc40acb6f58593bcf91ebe4f767336" category="paragraph"><block ref="49fc40acb6f58593bcf91ebe4f767336" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7405f99edab815706f8763fe14a3587b" category="paragraph"><block ref="7405f99edab815706f8763fe14a3587b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c199d70e7019bbaed298c974d51a440" category="list-text">Da DB VM ora_01, convalidare che un ripristino/recupero riuscito del database abbia riportato il suo stato più recente e recuperato la tabella di prova.</block>
  <block id="e902731ca71b8d6f3fd85319cfab2a70" category="paragraph">In questo esempio, i set di backup più recenti vengono utilizzati per clonare un database sulla VM DB ora_02 in un'installazione software diversa e ORACLE_HOME in VCF.</block>
  <block id="11ca26aa1b6ef9aa055d3bbfa787304e" category="list-text">Aprire nuovamente l'elenco di backup del database NTAP1.  Selezionare il set di backup dei dati più recente, fare clic su<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione del database.</block>
  <block id="f55da0989cc3bf506fc949e0a930bba8" category="paragraph"><block ref="f55da0989cc3bf506fc949e0a930bba8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4592237458b4b234c6ad49941e35fca7" category="paragraph"><block ref="4592237458b4b234c6ad49941e35fca7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="900b3b01b70ff3dfa061c370394c20d1" category="list-text">Selezionare ora_02 in VCF come host clone del database di destinazione.  Sull'host avrebbe dovuto essere installato e configurato un software di database Oracle identico.</block>
  <block id="45a4ecbf5e87d541ec78a88557c8ecf0" category="paragraph"><block ref="45a4ecbf5e87d541ec78a88557c8ecf0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5b13482d2f42f30ce29b2e73167f205" category="paragraph"><block ref="f5b13482d2f42f30ce29b2e73167f205" category="inline-image-macro-rx" type="image"></block></block>
  <block id="facd55edf242677ab9c6bd42674e871d" category="list-text">È possibile modificare i parametri del database clone per soddisfare i requisiti di configurazione o di risorse del database clone.</block>
  <block id="42e152d1514166da84bf8a9cb2bbcff6" category="paragraph"><block ref="42e152d1514166da84bf8a9cb2bbcff6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bddca6e47861c5daf7a84db4656b023" category="paragraph"><block ref="8bddca6e47861c5daf7a84db4656b023" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e8288753cde5975be0cea5d26b70faa" category="paragraph"><block ref="2e8288753cde5975be0cea5d26b70faa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e6071bbf07da326e351b605b797203d" category="paragraph"><block ref="8e6071bbf07da326e351b605b797203d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acbadad61e7ffc80605cdac2c224003e" category="paragraph"><block ref="acbadad61e7ffc80605cdac2c224003e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74c1617600b118b68903b6dbbc37362b" category="list-text">Da DB VM ora_02, convalidare il database clonato ed eseguire una query sulla tabella di prova.</block>
  <block id="d0caaae21ff57a6da3b954572e19d5fc" category="paragraph">Questo completa la dimostrazione del backup, del ripristino e della clonazione del database Oracle in VCF SnapCenter .</block>
  <block id="653a98af1c9a004c51b4e7358f06db9a" category="summary">La soluzione fornisce una panoramica e dettagli per la distribuzione del database PostgreSQL e la configurazione HA/DR, il failover e la risincronizzazione basati sulla tecnologia NetApp SnapMirror integrata nell'offerta di storage FSx ONTAP e sul toolkit di automazione NetApp Ansible in AWS.</block>
  <block id="e5f44d648a9d8c4db4e2b580d3370fbf" category="doc">TR-4956: Distribuzione automatizzata di PostgreSQL ad alta disponibilità e ripristino di emergenza in AWS FSx/EC2</block>
  <block id="b997a984dad34493c1769c47b99c113b" category="paragraph">Questa soluzione fornisce una panoramica e dettagli per la distribuzione del database PostgreSQL e la configurazione HA/DR, il failover e la risincronizzazione basati sulla tecnologia NetApp SnapMirror integrata nell'offerta di storage FSx ONTAP e sul toolkit di automazione NetApp Ansible in AWS.</block>
  <block id="03784a7c5600d29113972955e602a944" category="inline-link-macro">DB-Engines</block>
  <block id="1d8f1bdc206db1d9edd9fa46f02aa08c" category="paragraph">PostgreSQL è un database open source ampiamente utilizzato che è classificato al quarto posto tra i primi dieci motori di database più popolari da<block ref="6e2d0e5987102894082cbdb135303e4d" category="inline-link-macro-rx"></block> .  Da un lato, PostgreSQL deve la sua popolarità al suo modello open source e senza licenza, pur mantenendo funzionalità sofisticate.  D'altro canto, poiché è open source, mancano linee guida dettagliate sull'implementazione di database di livello produttivo nell'ambito dell'alta disponibilità e del disaster recovery (HA/DR), in particolare nel cloud pubblico.  In generale, può essere difficile configurare un tipico sistema PostgreSQL HA/DR con standby a caldo e a caldo, replica in streaming e così via.  Testare l'ambiente HA/DR promuovendo il sito di standby e poi tornando al sito primario può avere ripercussioni negative sulla produzione.  Sono ben documentati i problemi di prestazioni sul server primario quando i carichi di lavoro di lettura vengono distribuiti in streaming hot standby.</block>
  <block id="3ba3cda3d91af072810327bfd691205c" category="paragraph">In questa documentazione, illustriamo come è possibile eliminare una soluzione HA/DR in streaming PostgreSQL a livello di applicazione e creare una soluzione HA/DR PostgreSQL basata su istanze di storage AWS FSx ONTAP e di elaborazione EC2 utilizzando la replica a livello di storage.  La soluzione crea un sistema più semplice e comparabile e fornisce risultati equivalenti se confrontati con la tradizionale replicazione in streaming a livello di applicazione PostgreSQL per HA/DR.</block>
  <block id="e2543d0568626be8ab6adad9d9a78652" category="paragraph">Questa soluzione si basa sulla collaudata e matura tecnologia di replica a livello di storage NetApp SnapMirror , disponibile nello storage cloud FSX ONTAP nativo di AWS per PostgreSQL HA/DR.  È semplice da implementare con un toolkit di automazione fornito dal team NetApp Solutions.  Offre funzionalità simili eliminando al contempo la complessità e il rallentamento delle prestazioni sul sito primario con la soluzione HA/DR basata sullo streaming a livello di applicazione.  La soluzione può essere facilmente implementata e testata senza influire sul sito primario attivo.</block>
  <block id="f67bd3c0833b1d6bf90bb26a55f0a9ce" category="list-text">Distribuzione HA/DR di livello produttivo per PostgreSQL nel cloud pubblico AWS</block>
  <block id="420a5f3809172bb0dc9d501758fe94d2" category="list-text">Test e convalida di un carico di lavoro PostgreSQL nel cloud pubblico AWS</block>
  <block id="c9d6a5076f52c5abce5f2003446ab211" category="list-text">Test e convalida di una strategia HA/DR PostgreSQL basata sulla tecnologia di replicazione NetApp SnapMirror</block>
  <block id="4a7bde15fa2753ce507cef621fd789b2" category="list-text">L'amministratore di database interessato a distribuire PostgreSQL con HA/DR nel cloud pubblico AWS.</block>
  <block id="c5e04df584e0992a5dbdae10d89ded97" category="list-text">L'architetto di soluzioni di database interessato a testare i carichi di lavoro PostgreSQL nel cloud pubblico AWS.</block>
  <block id="ba083ee91407315383bac538162833ff" category="list-text">L'amministratore di storage interessato a distribuire e gestire istanze PostgreSQL distribuite su storage AWS FSx.</block>
  <block id="73ad058c671f3e1e105d92585f5ece7a" category="list-text">Il proprietario dell'applicazione interessato a creare un ambiente PostgreSQL in AWS FSx/EC2.</block>
  <block id="bfa420253f0a67626a51ce1fa045944c" category="inline-image-macro">Questa immagine fornisce un quadro dettagliato dell'organizzazione della soluzione cloud ibrida PostgreSQL, inclusi il lato locale e il sito AWS.</block>
  <block id="66b44e40d76d390f30ee34c066fa49a2" category="paragraph"><block ref="66b44e40d76d390f30ee34c066fa49a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="011fedf4050817b8826f95a53d9555b2" category="cell">Versione attuale</block>
  <block id="0b70cdec9293f5625e5aaae9cdd38526" category="cell">Due coppie FSx HA nella stessa VPC e zona di disponibilità come cluster HA primario e di standby</block>
  <block id="e3d6d4b94f9415561957f8c22f5fea2e" category="cell">Due EC2 T2 xlarge come istanze di elaborazione primaria e di standby</block>
  <block id="3008feb4272787858d4d27f7e8acb08b" category="cell">Controllore Ansible</block>
  <block id="26b9568eac10de69d574b84626735921" category="cell">VM Centos on-prem/4vCPU/8G</block>
  <block id="7f151fffe66dad0021b1918085977654" category="cell">Una VM per ospitare il controller di automazione Ansible in locale o nel cloud</block>
  <block id="04cd32c57cf3229ae9374fc80cd50d96" category="cell">CentOS Linux versione 8.2.2004 (Core)</block>
  <block id="63b6df5ba9d257bb0f6fbda5541d9171" category="cell">Hosting del controller Ansible distribuito nel laboratorio locale</block>
  <block id="399bd1ee587245ecac6f39beaa99886f" category="cell">PostgreSQL</block>
  <block id="a3c20b719830dc5fda947c7b6f3e42be" category="cell">Versione 14.5</block>
  <block id="f8c3d3a84c62eb07a1009aacdc46a50f" category="cell">L'automazione estrae l'ultima versione disponibile di PostgreSQL dal repository yum postgresql.ora</block>
  <block id="202351f581b52c61061d29151c81d061" category="cell">Versione 2.10.3</block>
  <block id="d222003898249e4a560d569acb0b5563" category="cell">Prerequisiti per le raccolte e le librerie richieste installate con il playbook dei requisiti</block>
  <block id="b062352f67359ac6729601c60a9a57a2" category="list-text">*Backup, ripristino e recupero del database PostgreSQL.*  Un database PostgreSQL supporta diversi metodi di backup, come un backup logico tramite pg_dump, un backup online fisico con pg_basebackup o un comando di backup del sistema operativo di livello inferiore e snapshot coerenti con il livello di archiviazione.  Questa soluzione utilizza snapshot di gruppo di coerenza NetApp per il backup, il ripristino e il recupero dei dati del database PostgreSQL e dei volumi WAL nel sito di standby.  Gli snapshot del volume del gruppo di coerenza NetApp sequenziano l'I/O mentre viene scritto nello storage e proteggono l'integrità dei file di dati del database.</block>
  <block id="a28c157802547f294e145f164007d752" category="list-text">*Istanze di calcolo EC2.*  In questi test e convalide, abbiamo utilizzato il tipo di istanza AWS EC2 t2.xlarge per l'istanza di calcolo del database PostgreSQL.  NetApp consiglia di utilizzare un'istanza EC2 di tipo M5 come istanza di elaborazione per PostgreSQL nella distribuzione, perché è ottimizzata per i carichi di lavoro del database.  L'istanza di elaborazione standby deve essere sempre distribuita nella stessa zona del file system passivo (standby) distribuito per il cluster FSx HA.</block>
  <block id="d7aed04148f8b6ba1b91a7ed84d3fd10" category="list-text">*Distribuzione di cluster HA di storage FSx a zona singola o multizona.*  In questi test e convalide, abbiamo distribuito un cluster FSx HA in una singola zona di disponibilità AWS.  Per la distribuzione in produzione, NetApp consiglia di distribuire una coppia FSx HA in due diverse zone di disponibilità.  È possibile configurare una coppia HA di standby per il disaster recovery per la continuità aziendale in una regione diversa se è richiesta una distanza specifica tra il server primario e quello di standby.  Un cluster FSx HA viene sempre fornito in una coppia HA sincronizzata in una coppia di file system attivi-passivi per fornire ridondanza a livello di storage.</block>
  <block id="c6f1f46bc7e80b73e6d77a7f862e0625" category="list-text">*Posizionamento dei dati e dei log di PostgreSQL.*  Le distribuzioni PostgreSQL tipiche condividono la stessa directory radice o gli stessi volumi per i file di dati e di registro.  Nei nostri test e nelle nostre convalide, abbiamo separato i dati e i log di PostgreSQL in due volumi separati per migliorare le prestazioni.  Un collegamento simbolico viene utilizzato nella directory dei dati per puntare alla directory dei log o al volume che ospita i log WAL di PostgreSQL e i log WAL archiviati.</block>
  <block id="6e6dddb70c24cf218d0163faa3fb6a8f" category="list-text">*Timer di ritardo all'avvio del servizio PostgreSQL.*  Questa soluzione utilizza volumi montati NFS per archiviare il file del database PostgreSQL e i file di registro WAL.  Durante il riavvio dell'host del database, il servizio PostgreSQL potrebbe tentare di avviarsi mentre il volume non è montato.  Ciò provoca un errore nell'avvio del servizio di database.  Per avviare correttamente il database PostgreSQL è necessario un ritardo del timer di 10-15 secondi.</block>
  <block id="ee79ca09fee704e63d972baa3c1319a2" category="list-text">*RPO/RTO per la continuità aziendale.*  La replica dei dati FSx dal primario allo standby per DR si basa su ASYNC, il che significa che l'RPO dipende dalla frequenza dei backup Snapshot e della replica SnapMirror .  Una frequenza più elevata di copie Snapshot e di replica SnapMirror riduce l'RPO.  Pertanto, esiste un equilibrio tra la potenziale perdita di dati in caso di disastro e i costi di archiviazione incrementali.  Abbiamo stabilito che la copia Snapshot e la replica SnapMirror possono essere implementate in intervalli di appena 5 minuti per RPO e che PostgreSQL può essere generalmente ripristinato nel sito di standby DR in meno di un minuto per RTO.</block>
  <block id="cbeb123cc0c2c950a65a0c39f8412dc4" category="list-text">*Backup del database.*  Dopo che un database PostgreSQL è stato implementato o migrato nello storage AWS FSx da un data center locale, i dati vengono sincronizzati automaticamente e replicati nella coppia FSx HA per motivi di protezione.  I dati sono ulteriormente protetti da un sito di standby replicato in caso di disastro.  Per la conservazione dei backup o la protezione dei dati a lungo termine, NetApp consiglia di utilizzare l'utilità pg_basebackup integrata in PostgreSQL per eseguire un backup completo del database che può essere trasferito nell'archiviazione BLOB S3.</block>
  <block id="d2598d7d09e212cad1231cd233c5f7dc" category="paragraph">L'implementazione di questa soluzione può essere completata automaticamente utilizzando il toolkit di automazione basato su NetApp Ansible, seguendo le istruzioni dettagliate descritte di seguito.</block>
  <block id="7cfbd2a753781ece3080a48b0a56dad2" category="inline-link-macro">na_postgresql_aws_deploy_hadr</block>
  <block id="fce91619a13ef0fd71e3ffe1da6b5724" category="list-text">Leggi le istruzioni nel toolkit di automazione READme.md<block ref="139722adb31b9bbcb8f923b221d78595" category="inline-link-macro-rx"></block> .</block>
  <block id="9a1c6815d4b1e7dc53acf5a926ab662e" category="list-text">Guarda il seguente video tutorial.</block>
  <block id="5cf04a9bbc1dcc2fadd56ff48a750287" category="video-title">Distribuzione e protezione automatizzate di PostgreSQL</block>
  <block id="c73ece4b7be6bb88143afe096ded59aa" category="list-text">Configurare i file dei parametri richiesti<block ref="85cf4e6d42a71e693fd780c8b29accdd" prefix="(" category="inline-code"></block> ,<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> ,<block ref="cb8e25d5e6251a20afadf4c5f4b626bb" prefix=" " category="inline-code"></block> ) inserendo parametri specifici dell'utente nel modello nelle sezioni pertinenti.  Quindi utilizzare il pulsante Copia per copiare i file sull'host del controller Ansible.</block>
  <block id="00aaa5ff8fbd0841ab311f7d9b1e4e78" category="section-title">Prerequisiti per la distribuzione automatizzata</block>
  <block id="eb03aa8f939650517c1c56a6d0b9ad2f" category="list-text">Dalla console AWS EC2, è necessario distribuire due istanze EC2 Linux, una come server DB PostgreSQL primario nel sito DR primario e una nel sito DR di standby.  Per la ridondanza di elaborazione nei siti DR primario e di standby, distribuire due istanze EC2 Linux aggiuntive come server DB PostgreSQL di standby.  Per maggiori dettagli sulla configurazione dell'ambiente, consultare il diagramma dell'architettura nella sezione precedente.  Rivedere anche il<block ref="32934851360be4fd00506586c2cbc221" category="inline-link-macro-rx"></block> per maggiori informazioni.</block>
  <block id="db01fe05d3d3aed74c46d6d290dd1cab" category="list-text">Dalla console AWS EC2, distribuisci due cluster HA di storage FSx ONTAP per ospitare i volumi del database PostgreSQL.  Se non hai familiarità con la distribuzione dell'archiviazione FSx, consulta la documentazione<block ref="3aa2f9e2ff4e46f232bd5ec63657d0d7" category="inline-link-macro-rx"></block> per istruzioni dettagliate.</block>
  <block id="7053a216e34d0f83be18a65f22ce62ce" category="list-text">Creare una VM Centos Linux per ospitare il controller Ansible.  Il controller Ansible può essere installato in locale o nel cloud AWS.  Se si trova in locale, è necessario disporre di connettività SSH alla VPC, alle istanze EC2 Linux e ai cluster di archiviazione FSx.</block>
  <block id="aaac1ea7463ef799eaafc693b16b1f81" category="inline-link-macro">Introduzione all'automazione delle soluzioni NetApp</block>
  <block id="5f064367e08e42aa3f3156a0eeaa0ca8" category="list-text">Configurare il controller Ansible come descritto nella sezione "Configurare il nodo di controllo Ansible per le distribuzioni CLI su RHEL/CentOS" dalla risorsa<block ref="bbf9e73d195c905907d3c05f6204320d" category="inline-link-macro-rx"></block> .</block>
  <block id="007fa0067fff9abdcd3e5b9ce9f20c06" category="list-text">Clonare una copia del toolkit di automazione dal sito pubblico NetApp GitHub.</block>
  <block id="0ca21e6da2c89e765706d9a77f412898" category="list-text">Dalla directory radice del toolkit, eseguire i playbook prerequisiti per installare le raccolte e le librerie richieste per il controller Ansible.</block>
  <block id="df40cb16c4a24c991c143fbddeedd0bc" category="list-text">Recupera i parametri dell'istanza EC2 FSx richiesti per il file delle variabili host del DB<block ref="ea858a411f1af6150f14b84176148712" prefix=" " category="inline-code"></block> e il file delle variabili globali<block ref="cb8e25d5e6251a20afadf4c5f4b626bb" prefix=" " category="inline-code"></block> configurazione.</block>
  <block id="57c7844b0a299340cf9b625ce4a0745a" category="section-title">Configurare il file hosts</block>
  <block id="ed578fbfbec5634c4fa508cde5bc4e85" category="paragraph">Inserire l'IP di gestione del cluster FSx ONTAP primario e i nomi host delle istanze EC2 nel file hosts.</block>
  <block id="6ef214427ca7b42201d0b0508f56df98" category="section-title">Configurare il file host_name.yml nella cartella host_vars</block>
  <block id="77ac1da2cd356e327eb4bfc4c5a21bcc" category="section-title">Configurare il file globale fsx_vars.yml nella cartella vars</block>
  <block id="d56625a35762821798a2f3dd55ead05d" category="section-title">Distribuzione PostgreSQL e configurazione HA/DR</block>
  <block id="943a124028d8f011631df765453640dc" category="paragraph">Le seguenti attività distribuiscono il servizio server DB PostgreSQL e inizializzano il database nel sito primario sull'host server DB EC2 primario.  Un host server DB EC2 primario di standby viene quindi configurato nel sito di standby.  Infine, la replica del volume DB viene impostata dal cluster FSx del sito primario al cluster FSx del sito di standby per il ripristino di emergenza.</block>
  <block id="08f6dd070ef1adfcbe3d7f3c70b08905" category="list-text">Creare volumi DB sul cluster FSx primario e configurare PostgreSQL sull'host dell'istanza EC2 primaria.</block>
  <block id="bf22091495c9a041dcbdba3a97795095" category="list-text">Configurare l'host dell'istanza EC2 DR in standby.</block>
  <block id="f2dd18dfc82378171d01bdd3f956bc6f" category="list-text">Impostare il peering del cluster FSx ONTAP e la replica del volume del database.</block>
  <block id="d681aef28cf1f863d0683a6896f12995" category="list-text">Consolidare i passaggi precedenti in un'unica fase di distribuzione PostgreSQL e configurazione HA/DR.</block>
  <block id="fe217a2e30a79cebc71db6d5cb676a71" category="list-text">Per impostare un host DB PostgreSQL di standby nel sito primario o in quello di standby, commentare tutti gli altri server nella sezione [dr_postgresql] del file hosts e quindi eseguire il playbook postgresql_standby_setup.yml con il rispettivo host di destinazione (ad esempio psql_01ps o l'istanza di elaborazione EC2 di standby nel sito primario).  Assicurarsi che un file di parametri host come<block ref="7c0f59fa275836ef9c4f28bec839acca" prefix=" " category="inline-code"></block> è configurato sotto il<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> elenco.</block>
  <block id="d3ecdce9695eacdb90ec80fa276865d4" category="section-title">Backup e replica degli snapshot del database PostgreSQL sul sito di standby</block>
  <block id="3b320790a7f864b473e3baa86de785fe" category="paragraph">Il backup e la replica degli snapshot del database PostgreSQL sul sito di standby possono essere controllati ed eseguiti sul controller Ansible con un intervallo definito dall'utente.  Abbiamo verificato che l'intervallo può essere anche solo di 5 minuti.  Pertanto, in caso di errore nel sito primario, si verificano 5 minuti di potenziale perdita di dati se l'errore si verifica subito prima del successivo backup snapshot pianificato.</block>
  <block id="421057a9fa982de2a1c1f79f5f03d750" category="section-title">Failover sul sito di standby per DR</block>
  <block id="6ddcc779c247e4adb5b5a56a34edd75d" category="paragraph">Per testare il sistema PostgreSQL HA/DR come esercizio di DR, eseguire il failover e il ripristino del database PostgreSQL sull'istanza primaria del database EC2 in standby sul sito in standby eseguendo il seguente playbook.  In uno scenario di DR effettivo, eseguire la stessa operazione per un failover effettivo sul sito DR.</block>
  <block id="724a617bc1dcc9b26fedb732f63a569d" category="section-title">Risincronizza i volumi DB replicati dopo il test di failover</block>
  <block id="6a08e960bd12a4fcddfd08082fbece4b" category="paragraph">Eseguire la risincronizzazione dopo il test di failover per ristabilire la replica SnapMirror del volume del database.</block>
  <block id="145966bc8e38b26c384abaf4e450f6a7" category="section-title">Failover dal server DB EC2 primario al server DB EC2 di standby a causa di un errore dell'istanza di elaborazione EC2</block>
  <block id="32d16eeba786f125b3c1e4750ad34e08" category="paragraph">NetApp consiglia di eseguire il failover manuale o di utilizzare un clusterware del sistema operativo consolidato che potrebbe richiedere una licenza.</block>
  <block id="a123daaac5749e4d0965aca160f0adfd" category="list-text">Automazione delle soluzioni NetApp</block>
  <block id="efd1209a6356c489b62e6d27e7914fb3" category="paragraph"><block ref="efd1209a6356c489b62e6d27e7914fb3" category="inline-link-macro-rx"></block></block>
  <block id="0208d173d842cfec8be8dad63b708882" category="summary">La soluzione fornisce una panoramica e dettagli per il backup, il ripristino e la clonazione del database PostgreSQL su storage ONTAP nel cloud pubblico o in locale tramite lo strumento di interfaccia utente per la gestione del database NetApp SnapCenter .</block>
  <block id="86afe5e672706ebf07a25cefdaf65a83" category="doc">TR-5000: Backup, ripristino e clonazione del database PostgreSQL su ONTAP con SnapCenter</block>
  <block id="b0a4a4b16084579b9fb08abd84fc9200" category="paragraph">In questa documentazione, illustriamo la protezione e la gestione del database PostgreSQL sullo storage NetApp ONTAP nel cloud pubblico o in locale con uno strumento SnapCenter UI molto intuitivo.</block>
  <block id="ff6a47e55ebc21d8a14740c025974a4c" category="list-text">Backup e ripristino del database PostgreSQL distribuito sullo storage NetApp ONTAP nel cloud pubblico o in locale.</block>
  <block id="0082c0db1963117376abf882b6d7b931" category="list-text">Gestisci gli snapshot del database PostgreSQL e le copie clonate per accelerare lo sviluppo delle applicazioni e migliorare la gestione del ciclo di vita dei dati.</block>
  <block id="bfd25b929e933678d469923b32058ad4" category="list-text">Un DBA che desidera distribuire database PostgreSQL sullo storage NetApp ONTAP .</block>
  <block id="0bd9df05e1b49801909e3e3c2420bc5e" category="list-text">Un architetto di soluzioni di database che desidera testare i carichi di lavoro PostgreSQL sullo storage NetApp ONTAP .</block>
  <block id="cc6d7c78a5d2bbe29ba930d9350cc604" category="list-text">Un amministratore di storage che desidera distribuire e gestire database PostgreSQL su storage NetApp ONTAP .</block>
  <block id="d86607cdb1a8c3ac3bbfd6e85898c33f" category="list-text">Un proprietario di un'applicazione che vorrebbe installare un database PostgreSQL sullo storage NetApp ONTAP .</block>
  <block id="6f510a5066e949832609cf0e09e0d8f6" category="inline-image-macro">Questa immagine fornisce un'immagine dettagliata del backup, del ripristino e della clonazione di PostgreSQL con SnapCenter.</block>
  <block id="c14c539bd15c52bf4cbdae2bfb825a79" category="paragraph"><block ref="c14c539bd15c52bf4cbdae2bfb825a79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1672d070f346948fb25e819b40bb3ade" category="cell">NetApp AFF A220</block>
  <block id="624ebd65ecbd0b6f332df1b7eba2c765" category="cell">Versione 9.12.1P2</block>
  <block id="8ca87a47b2fcf81dd40142a6a32994e5" category="cell">Ripiano per dischi DS224-12, modulo IOM12E, 24 dischi / capacità 12 TiB</block>
  <block id="465ebb14ba960c957b9556c49d0b833c" category="cell">Cluster VMware vSphere</block>
  <block id="ca307f4e3ed38941bf4f8edd45ba05b8" category="cell">Versione 6.7</block>
  <block id="a6ab034252d4b84947848f05595a81c2" category="cell">4 nodi di elaborazione ESXi NetApp HCI H410C</block>
  <block id="f9fa8e4ec8d4dfd8388984164c7cfd07" category="cell">Database PostgreSQL</block>
  <block id="134c70e6eb14194780a6359f17cc4310" category="cell">Versione 14.13</block>
  <block id="7dc0bda5f0004471cce88c42838480bc" category="cell">Cluster di database PostgreSQL popolato con schema tpcc HammerDB</block>
  <block id="5e62c3b48256169734f39b488e4f9d7a" category="cell">Separare i dati e il registro in punti di montaggio diversi</block>
  <block id="37d7df2dbb98a2882a22b3ecade3b0e3" category="section-title">Configurazione del database PostgreSQL nell'ambiente di laboratorio</block>
  <block id="880863f85b2815165e7ac105506b208c" category="cell">psql01</block>
  <block id="1358bd019e82f5018e9e8cfc36ef6a41" category="cell">Server di database primario</block>
  <block id="e76e361abe7f4e8b566774c9bcca08f8" category="cell">/pgdata, /pglogs Montaggi di volumi NFS su storage ONTAP</block>
  <block id="db3efa9cd192776a04c743c134f1916b" category="cell">psql02</block>
  <block id="3ecf136d176922e6f3931b519567c35f" category="cell">Clona il server del database</block>
  <block id="3dc32132e76aaa74475ec3ea0d44d554" category="cell">/pgdata_clone, /pglogs_clone Il volume clone sottile NFS viene montato sullo storage ONTAP</block>
  <block id="c09c0b95c6847bc3d6ff6de15094ac78" category="paragraph">Le sezioni seguenti forniscono procedure dettagliate per la SnapCenter , la configurazione e il backup, il ripristino e la clonazione del database PostgreSQL su storage NetApp ONTAP nel cloud pubblico o in locale.</block>
  <block id="7e7efb7e7b278c5ce5253a775d1c8313" category="inline-link-macro">Distribuzione automatizzata di PostgreSQL ad alta disponibilità e ripristino di emergenza in AWS FSx/EC2</block>
  <block id="b3bff6e76bf725332f7c508ee39d953e" category="list-text">Per la distribuzione sono necessari due database PostgreSQL esistenti in esecuzione su storage ONTAP , uno come server DB primario e l'altro come server DB clone.  Per informazioni sulla distribuzione del database PostgreSQL su ONTAP, fare riferimento a TR-4956:<block ref="8126b81fc116f151aaaff9f3a552fb15" category="inline-link-macro-rx"></block> , alla ricerca del playbook di distribuzione automatizzata di PostgreSQL sull'istanza primaria.</block>
  <block id="e7e7b30ec48b23043db7c916c4df64a8" category="list-text">Fornire un server Windows per eseguire lo strumento NetApp SnapCenter UI con la versione più recente.  Per maggiori dettagli fare riferimento al seguente link:<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block> .</block>
  <block id="db810f259bfbdfcbd49b2e60f2b18bcd" category="paragraph">Ti consigliamo di procedere online<block ref="709a64672cb1b481d7e1d00abe15371a" category="inline-link-macro-rx"></block> prima di procedere all'installazione e alla configurazione SnapCenter : .  Di seguito è riportato un riepilogo di alto livello dei passaggi per l'installazione e la configurazione del SnapCenter software per PostgreSQL su ONTAP.</block>
  <block id="7b8b31d8c8cb538a930b9ccb8f9f08a4" category="list-text">Dal server Windows SnapCenter , scarica e installa l'ultima versione di Java JDK da<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .  Disattivare il firewall di Windows.</block>
  <block id="d12211135ff96a41848a6b55b09edc14" category="list-text">Dal server Windows di SnapCenter , scaricare e installare o aggiornare i prerequisiti SnapCenter 6.0 Windows: PowerShell - PowerShell-7.4.3-win-x64.msi e pacchetto di hosting .Net - dotnet-hosting-8.0.6-win.</block>
  <block id="a76f9b9e5a7dcbabe5996af8a905ab9a" category="list-text">Dal server Windows di SnapCenter , scaricare e installare l'ultima versione (attualmente 6.0) dell'eseguibile di installazione SnapCenter dal sito di supporto NetApp :<block ref="f0da1a8fe9efadb5bab3d3f47fea4f67" category="inline-link-macro-rx"></block> .</block>
  <block id="1376d3475bdd5060c0e89308f0afdee0" category="list-text">Dal database DB VM, abilitare l'autenticazione senza password SSH per l'utente amministratore<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> e i suoi privilegi sudo senza password.</block>
  <block id="0f0497916335b81b650f8e666e4f87fb" category="list-text">Dalle VM del database DB, arrestare e disabilitare il demone del firewall Linux.  Installa java-11-openjdk.</block>
  <block id="98485ba3e816ef2c376e735eaaca1996" category="list-text">Dal server Windows SnapCenter , avviare il browser per accedere a SnapCenter con le credenziali dell'utente amministratore locale di Windows o dell'utente di dominio tramite la porta 8146.</block>
  <block id="abd24445739e5a7754ac103143f18d3a" category="list-text">Da<block ref="c4646a4d73e5bf2cf1843bda6cd9f769" prefix=" " category="inline-code"></block> , crea credenziali per gli obiettivi di gestione SnapCenter .  In questo caso d'uso dimostrativo, sono l'utente amministratore Linux per l'accesso alla VM del server DB e le credenziali PostgreSQL per l'accesso a PostgreSQL.</block>
  <block id="8889f151bdda6708396be51876a8ff8d" category="paragraph"><block ref="8889f151bdda6708396be51876a8ff8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="677b94a89e12424ac5cbd93888053f2a" category="admonition">Reimpostare la password dell'utente PostgreSQL postgres prima di creare le credenziali.</block>
  <block id="fd264fac64919245c8d695dbfd26a480" category="list-text">Da<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> scheda, aggiungi<block ref="dbc7df65565b4f36db0a469d1e54a440" prefix=" " category="inline-code"></block> con credenziali di amministratore del cluster ONTAP .  Per Azure NetApp Files, sarà necessario creare una credenziale specifica per l'accesso al pool di capacità.</block>
  <block id="a7837619aa2e63c32a8ae9ba2572273c" category="paragraph"><block ref="3f452db27d93b3b21830089bd789d431" category="inline-image-macro-rx" type="image"></block> <block ref="36761126796ab413463a554efb0001ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="502b2a8980e06e76734f80a068d0b06c" category="list-text">Da<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> scheda, aggiungi PostgreSQL DB VM, che installa il plugin SnapCenter per PostgreSQL su Linux.</block>
  <block id="07880f6edf31c3c2ac8b2a6b4b2081dd" category="paragraph"><block ref="ef48b75130c272576b13e5d1b6c5308c" category="inline-image-macro-rx" type="image"></block> <block ref="95682b2bc05155e7e29326f779550a7f" category="inline-image-macro-rx" type="image"></block> <block ref="8b708809baf85183238eec9c3f938af2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="529c952afb482fc77011cc6bd24f129d" category="list-text">Una volta installato il plug-in host sulla macchina virtuale del server DB, i database sull'host vengono rilevati automaticamente e visibili in<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda.</block>
  <block id="83120b6ff085b221f66d9c0f071d5bdf" category="paragraph"><block ref="83120b6ff085b221f66d9c0f071d5bdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ad7cd840125fb6f07e266c4bc3c1eb5" category="paragraph">Il cluster PostgreSQL iniziale rilevato automaticamente visualizza un lucchetto rosso accanto al nome del cluster.  Deve essere sbloccato utilizzando le credenziali del database PostgreSQL create durante la configurazione SnapCenter nella sezione precedente.  Quindi, è necessario creare e applicare una policy di backup per proteggere il database.  Infine, esegui il backup manualmente o tramite uno scheduler per creare un backup SnapShot.  Nella sezione seguente vengono illustrate le procedure passo passo.</block>
  <block id="96faaeef1e288b118e8b631cb8ab3aa2" category="list-text">Sblocca il cluster PostgreSQL.</block>
  <block id="2571003ef690a80c9c0bf4e39d778f57" category="list-text">Navigazione verso<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, che elenca il cluster PostgreSQL scoperto dopo l'installazione del plugin SnapCenter sulla VM del database.  Inizialmente è bloccato e il<block ref="58d4fcf0afd65a0eb3857a2d3e254c8c" prefix=" " category="inline-code"></block> del cluster di database mostra come<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="e414a538146036b1e6ca9525797b59e0" category="paragraph"><block ref="e414a538146036b1e6ca9525797b59e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77b1c18fa518724e1236456c858ba584" category="list-text">Fare clic sul nome del cluster e quindi,<block ref="b79be9bf75eddcfcf0eaf3eaae45af53" prefix=" " category="inline-code"></block> per aprire la pagina di configurazione delle credenziali.</block>
  <block id="db726e19c56a88309707d21cd42936d6" category="paragraph"><block ref="db726e19c56a88309707d21cd42936d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb5db70e92095f4efa76e82f7939bbeb" category="list-text">Scegliere<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> credenziale creata durante la precedente configurazione SnapCenter .</block>
  <block id="adcd09c398b23e75b6b2c5076322d334" category="paragraph"><block ref="adcd09c398b23e75b6b2c5076322d334" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76b9f4973756486f704884356cfe956d" category="list-text">Una volta applicate le credenziali, il cluster verrà sbloccato.</block>
  <block id="13804670af016195555b93b9b804463c" category="paragraph"><block ref="13804670af016195555b93b9b804463c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c05439d1de79d9c345b3085afda8e4e6" category="list-text">Creare una policy di backup per PostgreSQL.</block>
  <block id="c602ab5dbbe71f61cf71910ed3d1c0ea" category="list-text">Vai a<block ref="51ac4bf63a0c6a9cefa7ba69b4154ef1" prefix=" " category="inline-code"></block> -<block ref="0b9e4bd17df66a1924ad40a4509486a6" prefix=" " category="inline-code"></block> e clicca su<block ref="03c2e7e41ffc181a4e84080b4710e81e" prefix=" " category="inline-code"></block> per creare una politica di backup.</block>
  <block id="b9dfbe8d7e0d9c8d48609a4276e63f04" category="paragraph"><block ref="b9dfbe8d7e0d9c8d48609a4276e63f04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e8b3ca749686249fcd8ef481245e875" category="list-text">Assegna un nome alla policy di backup.</block>
  <block id="13f2a9283fd70543178a65bf3549fb32" category="paragraph"><block ref="13f2a9283fd70543178a65bf3549fb32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="578d9a13279df5d9ea7b35c9fc8e7b98" category="list-text">Scegli il tipo di archiviazione.  L'impostazione di backup predefinita dovrebbe andare bene per la maggior parte degli scenari.</block>
  <block id="61fa41332f45b70301d4b2d002c1438c" category="paragraph"><block ref="61fa41332f45b70301d4b2d002c1438c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca19e822e81192c8cf149ac143b265ae" category="list-text">Definire la frequenza di backup e la conservazione degli SnapShot.</block>
  <block id="03f265d1356b7666cc080eb131e88f9e" category="paragraph"><block ref="03f265d1356b7666cc080eb131e88f9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15f8e466c9cd82504fc845cd9332b11b" category="list-text">Opzione per selezionare la replica secondaria se i volumi del database vengono replicati in una posizione secondaria.</block>
  <block id="f7e5cabbc57d98886ee55e1fca1b2c0f" category="paragraph"><block ref="f7e5cabbc57d98886ee55e1fca1b2c0f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04aae0c8fa5dccdca948a5fbe2dc70b8" category="list-text">Rivedi il riepilogo e<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per creare la politica di backup.</block>
  <block id="0662f913c0e57dce93102b020558785e" category="paragraph"><block ref="4f2248ac7b84dbe69e1721ddfaf3f337" category="inline-image-macro-rx" type="image"></block> <block ref="c3a39cff8cb25160f7ed4a399072cdaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c7a20b4d56ae0aaf45c44165115aeff" category="list-text">Applicare una policy di backup per proteggere il database PostgreSQL.</block>
  <block id="d443cf7412994ece6c3ca26fd8e41564" category="list-text">Torna indietro a<block ref="be8545ae7ab0276e15898aae7acfbd7a" prefix=" " category="inline-code"></block> scheda, fare clic sul nome del cluster per avviare il flusso di lavoro di protezione del cluster PostgreSQL.</block>
  <block id="c8a83073208f72761bad05d7d00e4992" category="paragraph"><block ref="c8a83073208f72761bad05d7d00e4992" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9233033e8cb4e25b59690b7ce57b92b0" category="list-text">Accetta predefinito<block ref="d5b084b03b5aab3967861dd719a68968" prefix=" " category="inline-code"></block> .  Molte delle opzioni presenti in questa pagina non si applicano alla destinazione rilevata automaticamente.</block>
  <block id="e505e2a9a93ad9795a3a2bc7da12bacb" category="paragraph"><block ref="e505e2a9a93ad9795a3a2bc7da12bacb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39c2db3deae4cef924f42236c1adbf9c" category="list-text">Applica la policy di backup appena creata.  Se necessario, aggiungere una pianificazione di backup.</block>
  <block id="4ad9f9dbfbff9cfdceaa05a96c88267e" category="paragraph"><block ref="4ad9f9dbfbff9cfdceaa05a96c88267e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe3641a010d1ff6f82662dafebee518a" category="list-text">Fornire le impostazioni e-mail se è richiesta la notifica di backup.</block>
  <block id="8e651d737b144135225cf947df0c9dc8" category="paragraph"><block ref="8e651d737b144135225cf947df0c9dc8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b327947defdbe57ec5d913a55ca76ac4" category="list-text">Riepilogo della recensione e<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per implementare la politica di backup.  Ora il cluster PostgreSQL è protetto.</block>
  <block id="739b5dc8cca62aa2e4a75d12a56f08e9" category="paragraph"><block ref="739b5dc8cca62aa2e4a75d12a56f08e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77f6fec794580b2b4858c5f4e7509626" category="list-text">Il backup viene eseguito in base alla pianificazione del backup o dalla topologia di backup del cluster, fare clic su<block ref="9a9852432e1a7055c64fef6ff8f6dd65" prefix=" " category="inline-code"></block> per attivare un backup manuale su richiesta.</block>
  <block id="50edd2fb9b477367c86f22e57105f807" category="paragraph"><block ref="f37272777cd8868058d66bffd162513d" category="inline-image-macro-rx" type="image"></block> <block ref="b41e1a7e9ebfb657f9e30e2914353178" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9ade48a065ecfbd218afb0eadbaf239" category="list-text">Monitorare il processo di backup da<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> scheda.  In genere, per eseguire il backup di un database di grandi dimensioni occorrono pochi minuti e, nel nostro caso di test, ci sono voluti circa 4 minuti per eseguire il backup di volumi di database vicini a 1 TB.</block>
  <block id="e2757abc2f7f647849775a6428defa79" category="paragraph"><block ref="e2757abc2f7f647849775a6428defa79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6323ab216acd62daadbfba4b3ec72ce" category="paragraph">In questa dimostrazione di ripristino del database, illustriamo un ripristino point-in-time del cluster del database PostgreSQL.  Per prima cosa, creare un backup SnapShot del volume del database sullo storage ONTAP utilizzando SnapCenter.  Quindi, accedi al database, crea una tabella di prova, annota il timestamp ed elimina la tabella di prova.  Ora avvia un ripristino dal backup fino al timestamp in cui viene creata la tabella di prova per recuperare la tabella eliminata.  Di seguito vengono descritti i dettagli del flusso di lavoro e della convalida del ripristino point-in-time del database PostgreSQL con l'interfaccia utente SnapCenter .</block>
  <block id="30603c41394f7491df013d9baa50dbf6" category="list-text">Accedi a PostgreSQL come<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> utente.  Crea, quindi elimina una tabella di prova.</block>
  <block id="eb62842761a932b02da6c4cf55d64467" category="list-text">Da<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, apri la pagina di backup del database.  Selezionare il backup SnapShot da ripristinare.  Quindi, fare clic su<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di ripristino del database.  Quando si esegue un ripristino point-in-time, prendere nota del timestamp del backup.</block>
  <block id="84942db335626931f46c547d8bea0443" category="paragraph"><block ref="84942db335626931f46c547d8bea0443" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dbe57512be8bd275e479f50fe17aa78f" category="list-text">Selezionare<block ref="d4df13b7b67d28291a4967c9f76598a9" prefix=" " category="inline-code"></block> .  Al momento, una risorsa completa è l'unica opzione.</block>
  <block id="dbdf41c5c64fe9bb8ad4a841622b0f8c" category="paragraph"><block ref="dbdf41c5c64fe9bb8ad4a841622b0f8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7de1ed3464b5a06c38a965757c7a04fe" category="list-text">Per<block ref="ec47ba775b6cce559706e86f20fde009" prefix=" " category="inline-code"></block> , scegliere<block ref="129686c9823d4288bb3b45b13af000ec" prefix=" " category="inline-code"></block> e immettere il timestamp fino al quale viene effettuato il rollforward del ripristino.</block>
  <block id="28836d0a660cf881fa94228cd1026586" category="paragraph"><block ref="28836d0a660cf881fa94228cd1026586" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2eda5ae4387f3a70e2347a034cc9dbed" category="list-text">IL<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> consente l'esecuzione di script sul database prima dell'operazione di ripristino/recupero oppure lasciarlo nero.</block>
  <block id="25fe7f0bae341be80e154bb1b060bd74" category="paragraph"><block ref="25fe7f0bae341be80e154bb1b060bd74" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4593198c96ed2233f198af8ced4bd7f" category="list-text">IL<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> consente l'esecuzione di script sul database dopo l'operazione di ripristino/recupero oppure lasciarlo nero.</block>
  <block id="402b95e44ccba2b8b4b39ac5d260da72" category="paragraph"><block ref="402b95e44ccba2b8b4b39ac5d260da72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ab8f9d86658caf8a09dc0ae54e251d7" category="paragraph"><block ref="3ab8f9d86658caf8a09dc0ae54e251d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="75088a6e38910cb6847b87bd57ba937a" category="list-text">Rivedi il riepilogo del lavoro e<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per avviare il processo di ripristino.</block>
  <block id="65e7cbbf460e630c000608524748457d" category="paragraph"><block ref="65e7cbbf460e630c000608524748457d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="841c1b65187e697011e91b1db980de9c" category="paragraph"><block ref="841c1b65187e697011e91b1db980de9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11ac2011dd9dc2421978bc449b6395c9" category="list-text">Accedi a PostgreSQL come<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> utente e convalidare che la tabella di prova sia stata recuperata.</block>
  <block id="582af225dd8e934ba8d6926f2df8462c" category="paragraph">La clonazione del cluster del database PostgreSQL tramite SnapCenter crea un nuovo volume clonato sottile da un backup snapshot di un volume di dati del database di origine.  Ancora più importante, è rapido (pochi minuti) ed efficiente rispetto ad altri metodi per creare una copia clonata del database di produzione a supporto dello sviluppo o dei test.  In questo modo si riducono drasticamente i costi di archiviazione e si migliora la gestione del ciclo di vita delle applicazioni del database.  La sezione seguente illustra il flusso di lavoro del clone del database PostgreSQL con SnapCenter UI.</block>
  <block id="583bd7e8d60315274fdc25c8e5c3f74b" category="list-text">Per convalidare il processo di clonazione.  Di nuovo, inserisci una riga nella tabella di prova.  Quindi eseguire un backup per acquisire i dati di prova.</block>
  <block id="2de672ab8b866fedc2bf90f571060980" category="list-text">Da<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> scheda, aprire la pagina di backup del cluster del database.  Selezionare lo snapshot del backup del database che contiene i dati di prova.  Quindi, fare clic su<block ref="d329fd777726c300d7a044e482b967e7" prefix=" " category="inline-code"></block> pulsante per avviare il flusso di lavoro di clonazione del database.</block>
  <block id="c0faaffb0e7463a446213cce24d0ecc0" category="paragraph"><block ref="c0faaffb0e7463a446213cce24d0ecc0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5baf4bc9cb40283c777aa0b045944fc" category="list-text">Selezionare un host del server DB diverso dal server DB di origine.  Scegliere una porta TCP 543x non utilizzata sull'host di destinazione.</block>
  <block id="3d0e90f74aab0b8c85bea9f019e5b5df" category="paragraph"><block ref="3d0e90f74aab0b8c85bea9f019e5b5df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="836b4d8e8ec3303ebe8363f432c65bd4" category="list-text">Inserire eventuali script da eseguire prima o dopo l'operazione di clonazione.</block>
  <block id="cbdb8d7fbf1e56310d090c03326e19d9" category="paragraph"><block ref="cbdb8d7fbf1e56310d090c03326e19d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fbd7c2563256da70e05b443d82747d2" category="paragraph"><block ref="9fbd7c2563256da70e05b443d82747d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c8a16d3a6bf836b8134ee4e876c688a6" category="list-text">Riepilogo della recensione e<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> per avviare il processo di clonazione.</block>
  <block id="e0146ad317cf32ca7f43031ac4936470" category="paragraph"><block ref="e0146ad317cf32ca7f43031ac4936470" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bf5ea7f8f55895d7d88247b7bce20c8" category="paragraph"><block ref="6bf5ea7f8f55895d7d88247b7bce20c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e11fa846760366244d9202b92d30955" category="paragraph"><block ref="8e11fa846760366244d9202b92d30955" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0aaa839d8d5f53a06bb0f0c101731b6" category="list-text">Convalida il cluster di database clonato sull'host del server DB di destinazione.</block>
  <block id="20084f3b89c7a2f2188c293bbfb15918" category="paragraph"><block ref="20084f3b89c7a2f2188c293bbfb15918" category="inline-link-macro-rx"></block></block>
  <block id="10b2aec15aae4d935355e27497e66c5f" category="summary">Serie di video e demo che illustrano le funzionalità di molte soluzioni NetApp</block>
  <block id="0a280221d417c887229dcf2fb82d03da" category="doc">Guarda video e demo sulle soluzioni di database per database open source con NetApp</block>
  <block id="c24eb24cff42f2f4cb18033c948982f1" category="paragraph">Esplora le soluzioni di database per database open source con NetApp.</block>
  <block id="5b70a7f45ddd32cacfe28af238662d3d" category="video-title">Distribuzione automatizzata di PostgreSQL, configurazione della replica HA/DR, failover, risincronizzazione</block>
  <block id="6540af8f67ebb2e360ec621818ae2244" category="doc">Guarda video e demo sulle soluzioni di database per Oracle con NetApp</block>
  <block id="de87544950491bfc780917668ccef43c" category="paragraph">Esplora la completa libreria video di NetApp con soluzioni di database per Oracle con NetApp.  Ogni raccolta mette in evidenza soluzioni pratiche, best practice di integrazione e gestione moderna dei database per i carichi di lavoro aziendali.</block>
  <block id="bcd88b2fc5783b2d005dae0d02ee27b0" category="section-title">Distribuzione e automazione</block>
  <block id="3c1997d1c3baaf5cbfe55f26b8001c10" category="video-title">Clonazione automatizzata di Oracle DB da DataGuard standby su GCNV con ASM</block>
  <block id="9efcc0ad3c93b238cc0495e3c87b715f" category="video-title">Distribuzione automatizzata di Oracle 19c RAC su FlexPod con Ansible</block>
  <block id="bfc99c60db13c79f3bec1440ef75ea3a" category="section-title">Backup, ripristino e clonazione</block>
  <block id="938d46c61cee67ddb1711167aba9f463" category="video-title">Parte 4a - Clonazione del database per sviluppo/test con interfaccia utente SnapCenter da copia standby replicata</block>
  <block id="09b285fbf39efff75f085bbadedde45e" category="video-title">Parte 4b - Backup, ripristino e clonazione del database con l'interfaccia utente SnapCenter</block>
  <block id="45885d9d91879afc9c37a8b3e046aac4" category="video-title">Parte 4c - Backup e ripristino del database con BlueXP SaaS Apps backup e ripristino</block>
  <block id="befb671d4726ae8f3ef8dab781033dcc" category="video-title">Clone di database Oracle multi-tenant collegabile tramite snapshot di archiviazione</block>
  <block id="5255e744c8d781088cf41d09d7e36c01" category="section-title">Modernizzazione e migrazione</block>
  <block id="17380577cd51f141b6dff37ee29d0805" category="video-title">Parte 1 - Modernizzazione di Oracle con cloud ibrido in AWS e FSx ONTAP</block>
  <block id="369b9aec1beb25441dc7c7fb46bc0fc6" category="video-title">Parte 2a - Migrazione del database da locale ad AWS utilizzando la rilocazione PDB automatizzata con la massima disponibilità</block>
  <block id="2edb94ef9695015c5cd01fec59bcc782" category="video-title">Parte 2b - Migrazione del database da locale ad AWS utilizzando la console BlueXP tramite SnapMirror</block>
  <block id="f18e8bcc857ce0b078e974c3f0ccf5cb" category="section-title">Alta disponibilità, ripristino di emergenza e replicazione</block>
  <block id="59fa2b2110d3350efd262bd841c10975" category="video-title">Parte 3 - Configurazione automatizzata della replica HA/DR del database, failover, risincronizzazione</block>
  <block id="e257c31f05ab40b766b6abee28bfd5fd" category="doc">Guarda video e demo sulle soluzioni di database per database SQL Server con NetApp</block>
  <block id="ba4a53a72528eb0c7be5c86b38558399" category="paragraph">Esplora i video sulle soluzioni di database per database SQL Server con NetApp.</block>
  <block id="a5d647feb3f163e0333891f5484df24d" category="video-title">Distribuisci SQL Server su AWS EC2 utilizzando Amazon FSx ONTAP</block>
  <block id="6efb1daf837012f866ff5d278e9fa94f" category="summary">Registro delle modifiche recenti apportate al materiale collaterale delle soluzioni di database NetApp .</block>
  <block id="4a0cf7e1e14c17dc208e75d79ec06134" category="doc">Novità nelle soluzioni di database NetApp</block>
  <block id="83451d3d21ca1fb627e22751c0bc12c4" category="paragraph">Scopri le novità nelle soluzioni di database.</block>
  <block id="bab52961b58c502c7991d35556c25367" category="section-title">18 agosto 2025</block>
  <block id="47e26e0d5bbeef43c544dd9ae72e66b0" category="inline-link-macro">Famiglia di soluzioni NetApp</block>
  <block id="840125a006aee7dc0e8efd313e7b614e" category="paragraph">Il sito NetApp Solutions è ora il<block ref="f083b096ae581e72c5ab727ef8bd5732" category="inline-link-macro-rx"></block> , che comprende i seguenti siti:</block>
  <block id="e87298059f60b0844dc971f315184cf5" category="inline-link-macro">Soluzioni di intelligenza artificiale NetApp</block>
  <block id="ac42ca0e1f789a8367b40d9824726778" category="list-text"><block ref="ac42ca0e1f789a8367b40d9824726778" category="inline-link-macro-rx"></block></block>
  <block id="9cae574c1dc1ca50a949c1e889637ba7" category="inline-link-macro">Soluzioni container NetApp</block>
  <block id="31d1ae0120af1d791e4320e17eb10687" category="list-text"><block ref="31d1ae0120af1d791e4320e17eb10687" category="inline-link-macro-rx"></block></block>
  <block id="3947417923606d3599bcba7a82f71f1b" category="inline-link-macro">Soluzioni di gestione dei dati NetApp</block>
  <block id="56c054d4bb919790ebe189f7a7d11c3c" category="list-text"><block ref="56c054d4bb919790ebe189f7a7d11c3c" category="inline-link-macro-rx"></block></block>
  <block id="9bb3e58246c5654a6d8e08a7bddd60ec" category="list-text">Soluzioni di database NetApp</block>
  <block id="a37049a2a78422ac5627c7987db5c337" category="inline-link-macro">Soluzioni cloud pubbliche e ibride NetApp</block>
  <block id="144417321224efbf0afc2ae665a84a46" category="list-text"><block ref="144417321224efbf0afc2ae665a84a46" category="inline-link-macro-rx"></block></block>
  <block id="2729aba3baa90aaaed37b282e515f6e4" category="inline-link-macro">Soluzioni NetApp per SAP</block>
  <block id="5e056430559fb77ac659dbb71ecce256" category="list-text"><block ref="5e056430559fb77ac659dbb71ecce256" category="inline-link-macro-rx"></block></block>
  <block id="4ead908c2ca3b4c7156e0e703642415d" category="inline-link-macro">Soluzioni di virtualizzazione NetApp</block>
  <block id="3100186c9f62cec85ac05309c5d10217" category="list-text"><block ref="3100186c9f62cec85ac05309c5d10217" category="inline-link-macro-rx"></block></block>
  <block id="279cfd690e69d2bed1bbe733dc99b31e" category="sidebar">Le soluzioni di database NetApp sono un insieme di funzionalità strategiche e tecnologiche che dimostrano le potenzialità dello storage NetApp nei principali database aziendali.</block>
  <block id="4156bf7ad90273c885ab4d182a53809a" category="sidebar">Le soluzioni di database aziendali NetApp sono un insieme di funzionalità strategiche e tecnologiche che dimostrano le potenzialità dello storage NetApp nei principali database aziendali.</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">Iniziare</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">Cosa c'è di nuovo</block>
  <block id="d6b9ea32b921a9f56de32062ba4b94f3" category="sidebar">Blog</block>
  <block id="de42653a3a04e4aefa258105632011d4" category="sidebar">Video e demo</block>
  <block id="ae5730a15c3528c9703ea67ae24a7833" category="sidebar">Oracle per Amazon FSx per ONTAP</block>
  <block id="9727d6d2e0af471edc45d5f975582f75" category="sidebar">Distribuisci Oracle HA in AWS EC2</block>
  <block id="9a512e395c60d9ecfa257afc805c4ec6" category="sidebar">Distribuisci Oracle su FSx ONTAP</block>
  <block id="8c2c4d00957841c79c4d6ac4b4d0b132" category="sidebar">Esegui Oracle su VMware Cloud con FSx ONTAP</block>
  <block id="b97556532b01ad38b054552c28318ba8" category="sidebar">Riduci i costi di Data Guard con FSx ONTAP</block>
  <block id="e715a8cac89c930fe15882a3b18971bf" category="sidebar">Ripristina e clona Oracle VLDB su FSx ONTAP</block>
  <block id="571c97c7b1dee69efb848be73bb1c028" category="sidebar">Proteggere e distribuire Oracle su FSx/EC2</block>
  <block id="090508cde04f264f9c230748f68cd0ff" category="sidebar">Oracle per Azure NetApp Files</block>
  <block id="150bc25b813aa8a3e09febd108a03d47" category="sidebar">Distribuisci Oracle VLDB su ANF</block>
  <block id="974f0493d067b45b7e91b94229fc1176" category="sidebar">Riduci i costi di Data Guard con ANF</block>
  <block id="c06329dff30487420677a3c25b155195" category="sidebar">Recupera e clona Oracle VLDB su ANF</block>
  <block id="c106be60d8793552a7922fe7d84ef632" category="sidebar">Distribuisci Oracle su Azure NetApp Files con NFS</block>
  <block id="6234d7c091322d248f7d708876dce5a6" category="sidebar">Distribuisci e migra Oracle su ANF</block>
  <block id="99ef5097c44400a46470fd5f23637be4" category="sidebar">Oracle per Google Cloud</block>
  <block id="67a1a09611116d04603468dc094fb6d0" category="sidebar">Ottimizza il backup e il ripristino di Oracle VLDB su Google Cloud</block>
  <block id="8174debba33e64bd04a88069853151ad" category="sidebar">Distribuisci Oracle VLDB con Data Guard su Google Cloud</block>
  <block id="e6f0c3be7bd07e8ec3d6f27fd281636f" category="sidebar">Esamina le soluzioni di archiviazione Oracle su Google Cloud</block>
  <block id="1bb0fdcb752942858433bb15a81fd3e1" category="sidebar">Soluzioni SQL Server per cloud e on-premise</block>
  <block id="2d3ee711b69d74e8c520788ec742835f" category="sidebar">Backup e ripristino di SQL Server su AWS FSx ONTAP</block>
  <block id="a85dc1fbad340687161342496dc0d487" category="sidebar">Esegui SQL Server su AWS EC2 con FSx ONTAP</block>
  <block id="9240b0a4d8bbf9eb8d2ddb8dd3296260" category="sidebar">Eseguire SQL Server su Azure NetApp Files</block>
  <block id="236922ec8febdbdaff2ea5410b84b2c2" category="sidebar">Migrazione del carico di lavoro SQL on-prem su FSx ONTAP</block>
  <block id="39067cf084f47533139355bf90aa7629" category="sidebar">SAP con Microsoft SQL Server su Windows utilizzando Clustered Data ONTAP</block>
  <block id="13d3aa69bc69a44fa5de6d2bb88a7fb7" category="sidebar">Modernizzare Microsoft SQL Server</block>
  <block id="3ca11780da61eb707393ab7209c1c402" category="sidebar">Procedure consigliate per Microsoft SQL Server con ONTAP</block>
  <block id="d725f17f7af1db4c6409301f03741431" category="sidebar">Procedure consigliate per Microsoft SQL Server con EF-Series</block>
  <block id="015e528254d9c6d2f8768070035f3bb6" category="sidebar">Soluzioni di database cloud ibride</block>
  <block id="a1963b628ec07c1a4ff0d4f55af534cf" category="sidebar">Distribuisci e proteggi Oracle RAC con vVols in VCF</block>
  <block id="d40fb31cd591f68543a4b63d4de565f7" category="sidebar">Distribuisci e proteggi Oracle SI con vVols in VCF</block>
  <block id="64862bc8f3a9cee846ff01326a559437" category="sidebar">Distribuisci Oracle su NetApp C-Series con NFS</block>
  <block id="ffc819195b5fafcc848fb445d9a256b9" category="sidebar">Distribuisci Oracle su NetApp ASA con iSCSI</block>
  <block id="28e1849f5511a949a329191836e34c92" category="sidebar">Distribuisci Oracle19c su ONTAP con automazione</block>
  <block id="8a45683486bc8b478a3d7b91a71d448c" category="sidebar">Esegui database Oracle su NetApp EF-Series</block>
  <block id="8a05b26b3229c5c737c8a6dc618e4f1f" category="sidebar">Database open source</block>
  <block id="525ee0a5080d64b5df771a5ff66fdf4e" category="sidebar">Distribuisci il database PostgreSQL e configura il disaster recovery in AWS FSx/EC2</block>
  <block id="290294dfbb12a5801fa4969156ac736c" category="sidebar">Database MySQL su ONTAP</block>
  <block id="6fabfc29f0b3a196c8407c190bb67293" category="sidebar">SnapCenter per database</block>
  <block id="4c6c494e6accfb5f79a5a55a9f502111" category="sidebar">Esegui il backup e la clonazione di PostgreSQL su ONTAP con SnapCenter</block>
  <block id="1c4ec2d5f9bd3129e17f35c67d064ead" category="sidebar">Configura, clona e aggiorna i database Oracle con l'automazione</block>
  <block id="e10888e7f9e324aa90d57c8362b94b43" category="sidebar">Distribuzione Oracle automatizzata in Microsoft Azure NetApp File</block>
  <block id="4e6197d31c21c5dc2048c6f623a132e5" category="sidebar">Distribuisci soluzioni di database cloud ibrido con SnapCenter</block>
  <block id="ff60f9e1276c69fda13b3a4f3c170eea" category="sidebar">Kit di strumenti per l'automazione dei database</block>
  <block id="b4878d2bd5728448bc4d4d566ced64bb" category="sidebar">Automatizza il ciclo di vita dei cloni Oracle su GCNV con ASM</block>
  <block id="c0eba4be997131d4466a5f0ca8da4463" category="sidebar">Automatizza il ciclo di vita dei cloni Oracle su ANF con ASM</block>
  <block id="935567dbc5e5dface4969d172a289ca5" category="sidebar">Migrazione di Oracle con rilocazione PDB</block>
  <block id="2a3ce7c986d03a29d8e02470ec34e396" category="sidebar">Distribuisci Oracle HA/DR con Amazon FSx for NetApp ONTAP</block>
  <block id="01d3110a47518d755aa71530c30135c9" category="sidebar">Provisioning Amazon FSx for NetApp ONTAP ed EC2</block>
  <block id="7350e91854bfa849be06d5cd48d8321d" category="sidebar">Distribuisci PostgreSQL in AWS</block>
  <block id="e95b75f557af9310f3d9c6299286a533" category="sidebar">Richieste di soluzioni e feedback</block>
  <block id="776ab15fef436c9315c14738509d299e" category="sidebar">Proponi una nuova soluzione</block>
  <block id="cfdaac8ef24ac5b2612570c34da00954" category="sidebar">Fornire feedback sulla soluzione</block>
  <block id="74f147b5050a83e2f17403b8cf652de0" category="sidebar">Scopri la completa libreria video di NetApp che illustra le soluzioni di database per Oracle, SQL Server e database open source. Ogni raccolta si concentra su casi d'uso e scenari di integrazione specifici.</block>
  <block id="1a10d5f94107a8b01986811847c40bb3" category="sidebar">Video sulle soluzioni di database NetApp</block>
  <block id="c0a394fcf82b9c71d6d09426d3c2ff7a" category="sidebar">Esplora i video sulle soluzioni di database Oracle, SQL Server, open source e ibride con NetApp.</block>
  <block id="80d12e518e5e57b41940fc60b9767799" category="sidebar">Video sul database Oracle</block>
  <block id="e005cc668ae927bb11468eaea8939fd3" category="sidebar">Alta disponibilità, ripristino di emergenza e replicazione</block>
  <block id="84522df2c422f53bb8c28b69e33d81f5" category="sidebar">Video su SQL Server e database open source</block>
  <block id="9ecb8eb6518d5fb0d48187a3a8fe6f01" category="sidebar">Video di SQL Server</block>
  <block id="e538067572baf04e5a80c1a3dfdee826" category="sidebar">Video di database open source</block>
  <block id="114dd74d303c1a7a0ca71b00760474ba" category="sidebar">Soluzioni di database</block>
  <block id="7971b65756ed6daabdb37d67874e0dbb" category="sidebar">Cloud AWS</block>
  <block id="f79dc2068fcf2265241e4f9f6d3892b8" category="sidebar">Oracle HA in AWS EC2 con Pacemaker Clustering e FSx ONTAP</block>
  <block id="42f50c71268208e2ec344d3cd2a9a691" category="sidebar">Distribuzione Oracle semplificata e automatizzata su Amazon FSx ONTAP con iSCSI</block>
  <block id="64de5a7dfd6282ca282a38cee5f5a0b6" category="sidebar">Distribuzione Oracle semplificata e automatizzata su Amazon FSx ONTAP con iSCSI</block>
  <block id="8d4ab3d80a936103be6c5ad407f12335" category="sidebar">Oracle in VMware Cloud su AWS con FSx ONTAP montato su guest</block>
  <block id="571c3c1a53637956756540259d1b4c11" category="sidebar">Riduzione dei costi di Oracle Active Data Guard con Amazon FSx ONTAP</block>
  <block id="998e18ee910f7610303d504847d5f06d" category="sidebar">Riduzione dei costi di Oracle Active Data Guard con Amazon FSx ONTAP</block>
  <block id="1f5891fe66fe85319fc1d076ceb8c604" category="sidebar">Ripristino rapido e clonazione di Oracle VLDB con Amazon FSx ONTAP</block>
  <block id="6e6fa0d6a0c9cc4ff7b09a8dfc32bd84" category="sidebar">Ripristino rapido e clonazione di Oracle VLDB con Amazon FSx ONTAP</block>
  <block id="9755d896e4f9ca9108f85fb00c9429d2" category="sidebar">Oracle 19c in riavvio autonomo su AWS FSx/EC2 con NFS/ASM</block>
  <block id="309f62df43e29b5bb0a1ec7e6c3e1c43" category="sidebar">Distribuzione e protezione del database Oracle su AWS FSx/EC2 con iSCSI/ASM</block>
  <block id="5081e4816da4cb3b09aa6fc9e618b15f" category="sidebar">Distribuzione e protezione del database Oracle su AWS FSx/EC2 con iSCSI/ASM</block>
  <block id="8dccbd41bb4436a6cf63741ef9f9f9d5" category="sidebar">Best practice per la distribuzione del database Oracle su AWS EC2 e FSx</block>
  <block id="d842058c0e8814799a596324a98e5323" category="sidebar">Best practice per la distribuzione di Oracle Database su AWS EC2 e FSx</block>
  <block id="5ac7b083aa99c6ec0d7a272c37dc611d" category="sidebar">Procedure di distribuzione</block>
  <block id="71ab9d8f34c9ab92ef83627b823e9825" category="sidebar">Gestione del database</block>
  <block id="c3b88d5ff29715f5f8dd3c907b3f1bc3" category="sidebar">Migrazione del database</block>
  <block id="83399f78bd83aa045ee6f6e7d51bc5fa" category="sidebar">Azure Cloud</block>
  <block id="be9d5210892e9637d00ac53e1404724d" category="sidebar">Implementazione Oracle VLDB ad alta produttività su ANF</block>
  <block id="443d052ccf1b623e95a76c453c9b19f4" category="sidebar">Implementazione Oracle VLDB ad alta produttività su ANF</block>
  <block id="2fadf2cda0f69a4641f81c17acb81602" category="sidebar">Riduzione dei costi di Oracle Active Data Guard con Azure NetApp Files</block>
  <block id="967c88214a8b348dcebff5cfc0b978fb" category="sidebar">Ripristino rapido di Oracle VLDB con unione incrementale su ANF</block>
  <block id="c90c43251c42b6636335f78ddce9094b" category="sidebar">Ripristino rapido di Oracle VLDB con unione incrementale su ANF</block>
  <block id="40aa34ba60592cc4b4c8b00b9ccf6240" category="sidebar">Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS</block>
  <block id="574c3ced17d944413584e89df38ac5c5" category="sidebar">Procedure consigliate per la distribuzione e la migrazione del database Oracle per ANF</block>
  <block id="0e6883e4af152807aa920a0eeadf0482" category="sidebar">Procedure consigliate per la distribuzione e la migrazione del database Oracle per ANF</block>
  <block id="56ef2682280ac110060b881925a87b80" category="sidebar">Google Cloud</block>
  <block id="bf134cab228a61f0b253ca70ec608fd6" category="sidebar">Ottimizza il backup e il ripristino di Oracle VLDB con l'unione incrementale in-server su Google Cloud NetApp Volumes</block>
  <block id="6484ffcad1504019ca921cf712d4cdde" category="sidebar">Ottimizza il backup e il ripristino di Oracle VLDB con l'unione incrementale in-server su Google Cloud NetApp Volumes</block>
  <block id="8924310da0def7ad0ddcbe7d9739a158" category="sidebar">Implementazione Oracle VLDB ad alta produttività su Google Cloud NetApp Volumes con Data Guard</block>
  <block id="30a12495834244cfa9f600ebbccc6196" category="sidebar">Implementazione Oracle VLDB ad alta produttività su GCNV con Data Guard</block>
  <block id="ca93abca0899efda7bb04e7579656e75" category="sidebar">Panoramica: database Oracle con Google Cloud NetApp Volumes</block>
  <block id="ea9d5b870a4d8ca5671f6250b7d07541" category="sidebar">Cloud locale e ibrido</block>
  <block id="2b484f28f18f20d85d20028c6ee55ab4" category="sidebar">Distribuzione e protezione di Oracle RAC in VCF con vVols</block>
  <block id="9f61fd2b757f5758c07d0a9a117098f0" category="sidebar">Distribuzione e protezione Oracle RAC in VCF con vVols</block>
  <block id="0826b4c0567cf966831f76745a9081b2" category="sidebar">Distribuzione e protezione di Oracle SI in VCF con vVols</block>
  <block id="836cb906f52ed0e393be18cb078522a3" category="sidebar">Distribuzione e protezione di Oracle SI in VCF con vVols</block>
  <block id="d4d9306febc80e3bab7d6accb928772c" category="sidebar">Distribuzione Oracle semplificata e automatizzata su NetApp C-Series con NFS</block>
  <block id="1299a93be9dfa863b3a25fbfb997e6f6" category="sidebar">Distribuzione Oracle semplificata e automatizzata su NetApp ASA con iSCSI</block>
  <block id="366a32367c76504b66f48c17b771a662" category="sidebar">Distribuzione Oracle semplificata e automatizzata su NetApp ASA con iSCSI</block>
  <block id="5a4f68b5b79ab9178902e8b5d02bad52" category="sidebar">Database Oracle 19c RAC su FlexPod DataCenter con Cisco UCS e NetApp AFF A800 su FC</block>
  <block id="14c4dbb7c61081eee1c499c4cf138c96" category="sidebar">Database Oracle 19c RAC su FlexPod DataCenter con Cisco UCS e NetApp AFF A800 su FC</block>
  <block id="0a2866cc3e2ba203c7e2e3ebeca395be" category="sidebar">SAP con Oracle su UNIX e NFS con NetApp Clustered Data ONTAP</block>
  <block id="c6264b98810c0566ac11ca7130b5e0dc" category="sidebar">Distribuzione automatizzata di Oracle 19c per ONTAP su NFS</block>
  <block id="e9dcec3e531a3cec5ee733f23baab91d" category="sidebar">Distribuzione automatizzata di Oracle 19c per ONTAP su NFS</block>
  <block id="094d840522ee81c5fc0f61fd15568853" category="sidebar">Per iniziare e requisiti</block>
  <block id="a02e4cb19544ad716abaf594270969ad" category="sidebar">Distribuzione automatizzata di Oracle 19c AWX/Tower</block>
  <block id="ef1f1c0442b12bd50bf4f9444a78c10f" category="sidebar">Distribuzione automatizzata della CLI Oracle 19c</block>
  <block id="0ac88e3b9d83acd02b3e66ecdd21d42c" category="sidebar">Protezione automatizzata dei dati Oracle</block>
  <block id="3e9d3644ee18a66c51ddd16b668eaa5a" category="sidebar">Protezione automatizzata dei dati Oracle</block>
  <block id="76476f02ec31c850419864c41ee54a23" category="sidebar">Protezione automatizzata dei dati Oracle per AWX/Tower</block>
  <block id="e994e7cce04879f77e879252b05c2146" category="sidebar">Database Oracle su NetApp EF-Series</block>
  <block id="78898e52fcbdc5337204a384f2456d4f" category="sidebar">Microsoft SQL Server</block>
  <block id="3d9841f85bcf366fc5a9893eb039254a" category="sidebar">Backup e ripristino per Microsoft SQL Server su AWS FSx ONTAP</block>
  <block id="62fdfaf6f9dd1d46f2f23b4b2e1bb196" category="sidebar">Backup e ripristino per Microsoft SQL Server su AWS FSx ONTAP</block>
  <block id="148d2aaa0a7c8052b05acda85cf8f070" category="sidebar">SQL Server su AWS EC2 utilizzando Amazon FSx ONTAP</block>
  <block id="760b7d532df381143dc946fd59bf0b62" category="sidebar">SQL Server su Azure NetApp Files</block>
  <block id="61def2ac347af2f10fd60cd67052a311" category="sidebar">Progettazione di riferimento (progettazione di alto livello in tempo reale)</block>
  <block id="2c09e46a03d2358a54b88941caf365b6" category="sidebar">SAP con Microsoft SQL Server su Windows utilizzando Clustered Data ONTAP</block>
  <block id="89447eb7454239e11376250fa04a88f7" category="sidebar">SAP con Microsoft SQL Server su Windows utilizzando Clustered Data ONTAP</block>
  <block id="7c02456b91ace7501ea6f18d1657dcf7" category="sidebar">Modernizzazione di Microsoft SQL Server</block>
  <block id="9d816887d40a5251f5427d7cacd2c573" category="sidebar">Guida alle migliori pratiche per Microsoft SQL Server con ONTAP</block>
  <block id="61baed6667c7e3ae83d95c8b1c634c2e" category="sidebar">Guida alle best practice per Microsoft SQL Server con NetApp EF-Series</block>
  <block id="5c008a8422e884d74da1d4b50a7ada55" category="sidebar">Guida alle best practice per Microsoft SQL Server con NetApp EF-Series</block>
  <block id="610c3d73e215aa97295b0176a950b976" category="sidebar">Distribuzione automatizzata di PostgreSQL HA e DR in AWS FSx/EC2</block>
  <block id="1ae3eccde141a365ede8f18b188ae588" category="sidebar">Distribuzione automatizzata di PostgreSQL HA e DR in AWS FSx/EC2</block>
  <block id="880e1cadc75e63cb5d99a01b614c2c5f" category="sidebar">Database MySQL su NetApp ONTAP</block>
  <block id="a778c2474db5f0263c74583332c37399" category="sidebar">Database MySQL su NetApp ONTAP</block>
  <block id="c6846442fcc36b333d5b22aac4e0fef5" category="sidebar">Backup, ripristino e clonazione di PostgreSQL su ONTAP</block>
  <block id="2de363e9c11e72fe1c95728c8cf3e449" category="sidebar">Ciclo di vita del clone Oracle SnapCenter</block>
  <block id="d7ea87ae176596e65c20709701590891" category="sidebar">Backup, ripristino e clonazione del database Oracle su ANF</block>
  <block id="8a708dc28e6881f4ca61b1dac86fb745" category="sidebar">BlueXP SaaS per Oracle - Azure</block>
  <block id="72fabf1add0034062f091db87a4723b3" category="sidebar">BlueXP SaaS per Oracle - AWS</block>
  <block id="5f95fbda20eeb9ce0859afe2ac6f42fa" category="sidebar">Requisiti della soluzione</block>
  <block id="59f8ae0d5c4ba13dee4828e2727c8859" category="sidebar">Per iniziare in locale</block>
  <block id="73eef3ab50fbcc7a042deef357b9fa33" category="sidebar">Casi di studio di clienti reali</block>
  <block id="04b7cda1d19d446c6e853fc038db5a5e" category="sidebar">Un'azienda di prodotti medicali migra il carico di lavoro SQL on-prem su Amazon FSx ONTAP per ridurre i costi</block>
  <block id="ffb66354e0d5475c4786ced5e4cb81cb" category="sidebar">Ciclo di vita automatizzato della clonazione Oracle VLDB con backup dell'immagine nel server</block>
  <block id="2dbf851934e823cf50e5fcbe910b69d5" category="sidebar">Ciclo di vita automatizzato dei cloni Oracle su GCNV con ASM</block>
  <block id="eca7922520811a928d6d61402cc26bcc" category="sidebar">Ciclo di vita automatizzato dei cloni Oracle su ANF con ASM</block>
  <block id="5fd324f4fd7639d5700e6b973c7a6840" category="sidebar">Ciclo di vita del clone Oracle SnapCenter</block>
  <block id="f4d8825927d11df25770df5e00d6a52e" category="sidebar">Migrazione Oracle</block>
  <block id="d8c849deb1477c8cfaee422dd193388f" category="sidebar">Oracle HA/DR con AWS FSx ONTAP</block>
  <block id="20f7635cace61e3ed7b6537e403c5ceb" category="sidebar">Fornitura di AWS FSx ONTAP ed EC2</block>
  <block id="409c22336fbfc84b2d2683964f89c253" category="sidebar">Kit di strumenti per il dimensionamento dei database</block>
  <block id="6f0e1094a5c97fb9eb0f2f06af18b3f7" category="sidebar">Guida alle dimensioni di Oracle per ANF</block>
  <block id="554cfab3938e21d9270bd6b75931f96f" category="sidebar">Video</block>
  <block id="5ffbe0deb5b41148dc58e63a20df8411" category="sidebar">database Oracle</block>
  <block id="39a2008d48dcc4f61288e4668979970c" category="sidebar">database SQL Server</block>
</blocks>