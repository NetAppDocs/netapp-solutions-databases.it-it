---
sidebar: sidebar 
permalink: automation/automation-ora-anf-nfs.html 
keywords: Database, Oracle, Azure, ANF, Ansible, Automation 
summary: La soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato. 
---
= TR-4987: Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


Allen Cao, Niyaz Mohamed, NetApp

[role="lead"]
Questa soluzione fornisce una panoramica e dettagli per la distribuzione automatizzata di Oracle in Microsoft Azure NetApp Files come archivio di database primario con protocollo NFS e il database Oracle viene distribuito come database contenitore con dNFS abilitato.



== Scopo

Eseguire carichi di lavoro Oracle ad alte prestazioni e sensibili alla latenza nel cloud può essere impegnativo.  Azure NetApp Files (ANF) semplifica la migrazione e l'esecuzione di carichi di lavoro Oracle impegnativi per i professionisti delle linee di business (LOB) e dell'archiviazione, senza dover modificare il codice.  Azure NetApp Files è ampiamente utilizzato come servizio di archiviazione file condiviso sottostante in vari scenari, ad esempio nuove distribuzioni o migrazioni (lift and shift) di database Oracle da locali ad Azure.

Questa documentazione illustra la distribuzione semplificata dei database Oracle nei file di Azure NetApp tramite montaggi NFS utilizzando l'automazione Ansible.  Il database Oracle viene distribuito in una configurazione di database contenitore (CDB) e database collegabili (PDB) con protocollo Oracle dNFS abilitato per aumentare le prestazioni.  Inoltre, il database Oracle a istanza singola locale o PDB può essere migrato in un database contenitore appena distribuito in Azure utilizzando una metodologia di rilocazione PDB automatizzata con un'interruzione minima del servizio.  Fornisce inoltre informazioni sul backup, il ripristino e la clonazione rapidi del database Oracle con lo strumento NetApp SnapCenter UI in Azure Cloud.

Questa soluzione affronta i seguenti casi d'uso:

* Distribuzione automatizzata del database del contenitore Oracle sui file di Azure NetApp
* Migrazione automatizzata del database Oracle tra locale e cloud Azure




== Pubblico

Questa soluzione è destinata alle seguenti persone:

* Un DBA che vorrebbe distribuire Oracle su Azure NetApp Files.
* Un architetto di soluzioni di database che desidera testare i carichi di lavoro Oracle su Azure NetApp Files.
* Un amministratore di storage che desidera distribuire e gestire un database Oracle su Azure NetApp Files.
* Un proprietario di un'applicazione che vorrebbe creare un database Oracle su Azure NetApp Files.




== Ambiente di test e convalida della soluzione

I test e la convalida di questa soluzione sono stati eseguiti in un ambiente di laboratorio che potrebbe non corrispondere all'ambiente di distribuzione finale.  Vedi la sezione<<Fattori chiave per la considerazione dell'implementazione>> per maggiori informazioni.



=== Architettura

image:automation-ora-anf-nfs-architecture.png["Questa immagine fornisce un quadro dettagliato della configurazione di distribuzione di Oracle nel cloud pubblico AWS con iSCSI e ASM."]



=== Componenti hardware e software

[cols="33%, 33%, 33%"]
|===


3+| *Hardware* 


| Azure NetApp Files | Offerta attuale in Azure da parte di Microsoft | Pool di capacità unica con livello di servizio Premium 


| VM di Azure per server DB | Standard_B4ms - 4 vCPU, 16 GiB | Due istanze di macchine virtuali Linux per la distribuzione simultanea 


| VM di Azure per SnapCenter | Standard_B4ms - 4 vCPU, 16 GiB | Un'istanza di macchina virtuale Windows 


3+| *Software* 


| RedHat Linux | RHEL Linux 8.6 (LVM) - x64 Gen2 | Abbonamento RedHat distribuito per i test 


| Server Windows | DataCenter 2022; Hotpatch Azure Edition - x64 Gen2 | Hosting del server SnapCenter 


| Database Oracle | Versione 19.18 | Patch RU applicata p34765931_190000_Linux-x86-64.zip 


| Oracle OPatch | Versione 12.2.0.1.36 | Ultima patch p6880880_190000_Linux-x86-64.zip 


| Server SnapCenter | Versione 5.0 | Distribuzione del gruppo di lavoro 


| Apri JDK | Versione java-11-openjdk | Requisiti del plugin SnapCenter sulle VM DB 


| NFS | Versione 3.0 | Oracle dNFS abilitato 


| Ansible | nucleo 2.16.2 | Python 3.6.8 
|===


=== Configurazione del database Oracle nell'ambiente di laboratorio

[cols="33%, 33%, 33%"]
|===


3+|  


| *Server* | *Banca dati* | *Archiviazione DB* 


| ora-01 | NTAP1(NTAP1_PDB1,NTAP1_PDB2,NTAP1_PDB3) | /u01, /u02, /u03 montaggi NFS sul pool di capacità ANF 


| ora-02 | NTAP2(NTAP2_PDB1,NTAP2_PDB2,NTAP2_PDB3) | /u01, /u02, /u03 montaggi NFS sul pool di capacità ANF 
|===


=== Fattori chiave per la considerazione dell'implementazione

* *Layout di archiviazione del database Oracle.*  In questa distribuzione Oracle automatizzata, per impostazione predefinita forniamo tre volumi di database per ogni database per ospitare file binari, dati e log di Oracle.  I volumi vengono montati sul server Oracle DB come /u01 - binario, /u02 - dati, /u03 - log tramite NFS.  Per ridondanza, i file di controllo doppi sono configurati sui punti di montaggio /u02 e /u03.
* *Implementazione di più server DB.*  La soluzione di automazione può distribuire un database contenitore Oracle su più server DB in un'unica esecuzione del playbook Ansible.  Indipendentemente dal numero di server DB, l'esecuzione del playbook rimane la stessa.  È possibile distribuire più database contenitore su una singola istanza VM ripetendo la distribuzione con ID istanza database diversi (Oracle SID).  Ma assicurati che ci sia memoria sufficiente sull'host per supportare i database distribuiti.
* *configurazione dNFS.*  Utilizzando dNFS (disponibile a partire da Oracle 11g), un database Oracle in esecuzione su una macchina virtuale di Azure può gestire un I/O significativamente maggiore rispetto al client NFS nativo.  Per impostazione predefinita, la distribuzione automatizzata di Oracle configura dNFS su NFSv3.
* *Assegnare volumi di grandi dimensioni per accelerare la distribuzione.*  La velocità di trasmissione I/O del file system ANF è regolata in base alle dimensioni del volume.  Per la distribuzione iniziale, l'allocazione di volumi di grandi dimensioni può velocizzare la distribuzione.  Successivamente, i volumi possono essere ridimensionati dinamicamente senza alcun impatto sull'applicazione.
* *Backup del database.*  NetApp fornisce una suite SnapCenter software per il backup, il ripristino e la clonazione del database con un'interfaccia utente intuitiva.  NetApp consiglia di implementare tale strumento di gestione per ottenere un backup snapshot rapido (in meno di un minuto), un ripristino rapido del database (in pochi minuti) e una clonazione del database.




== Distribuzione della soluzione

Le sezioni seguenti forniscono procedure dettagliate per la distribuzione automatizzata di Oracle 19c e la migrazione del database su Azure NetApp Files con volumi di database montati direttamente tramite NFS su VM di Azure.



=== Prerequisiti per la distribuzione

[%collapsible%open]
====
Per la distribuzione sono richiesti i seguenti prerequisiti.

. È stato configurato un account Azure e sono stati creati i segmenti di rete e VNet necessari all'interno dell'account Azure.
. Dal portale cloud di Azure, distribuisci le VM Linux di Azure come server Oracle DB.  Creare un pool di capacità Azure NetApp Files e volumi di database per il database Oracle.  Abilita l'autenticazione con chiave privata/pubblica SSH della VM per azureuser sui server DB.  Per i dettagli sulla configurazione dell'ambiente, vedere il diagramma dell'architettura nella sezione precedente.  Riferito anche alink:../oracle/azure-ora-nfile-procedures.html["Procedure di distribuzione Oracle dettagliate su Azure VM e Azure NetApp Files"^] per informazioni dettagliate.
+

NOTE: Per le VM di Azure distribuite con ridondanza del disco locale, assicurarsi di aver allocato almeno 128 GB nel disco radice della VM per avere spazio sufficiente per organizzare i file di installazione di Oracle e aggiungere il file di swap del sistema operativo.  Espandere di conseguenza le partizioni del sistema operativo /tmplv e /rootlv.  Aggiungere 1 GB di spazio libero a rootvg-homelv se è inferiore a 1 GB.  Assicurarsi che la denominazione del volume del database segua la convenzione VMname-u01, VMname-u02 e VMname-u03.

+
[source, cli]
----
sudo lvresize -r -L +20G /dev/mapper/rootvg-rootlv
----
+
[source, cli]
----
sudo lvresize -r -L +10G /dev/mapper/rootvg-tmplv
----
+
[source, cli]
----
sudo lvresize -r -L +1G /dev/mapper/rootvg-homelv
----
. Dal portale cloud di Azure, predisponi un server Windows per eseguire lo strumento NetApp SnapCenter UI con la versione più recente.  Per maggiori dettagli fare riferimento al seguente link:link:https://docs.netapp.com/us-en/snapcenter/install/task_install_the_snapcenter_server_using_the_install_wizard.html["Installare il server SnapCenter"^]
. Fornire una VM Linux come nodo controller Ansible con installata l'ultima versione di Ansible e Git.  Per maggiori dettagli fare riferimento al seguente link:link:https://docs.netapp.com/us-en/netapp-solutions-dataops/automation/getting-started.html["Introduzione all'automazione delle soluzioni NetApp ^"^] nella sezione -
`Setup the Ansible Control Node for CLI deployments on RHEL / CentOS` O
`Setup the Ansible Control Node for CLI deployments on Ubuntu / Debian` .
+

NOTE: Il nodo del controller Ansible può essere localizzato in locale o nel cloud di Azure, purché riesca a raggiungere le VM del database di Azure tramite la porta SSH.

. Clonare una copia del toolkit di automazione della distribuzione NetApp Oracle per NFS.
+
[source, cli]
----
git clone https://bitbucket.ngage.netapp.com/scm/ns-bb/na_oracle_deploy_nfs.git
----
. Fase successiva ai file di installazione di Oracle 19c nella directory /tmp/archive della VM di Azure DB con autorizzazione 777.
+
....
installer_archives:
  - "LINUX.X64_193000_db_home.zip"
  - "p34765931_190000_Linux-x86-64.zip"
  - "p6880880_190000_Linux-x86-64.zip"
....
. Guarda il seguente video:
+
.Distribuzione Oracle semplificata e automatizzata su Azure NetApp Files con NFS
video::d1c859b6-e45a-44c7-8361-b10f012fc89b[panopto,width=360]


====


=== File dei parametri di automazione

[%collapsible%open]
====
Il playbook Ansible esegue attività di installazione e configurazione del database con parametri predefiniti.  Per questa soluzione di automazione Oracle, sono presenti tre file di parametri definiti dall'utente che necessitano dell'input dell'utente prima dell'esecuzione del playbook.

* host: definiscono i target su cui viene eseguito il playbook di automazione.
* vars/vars.yml: il file delle variabili globali che definisce le variabili che si applicano a tutti i target.
* host_vars/host_name.yml: il file delle variabili locali che definisce le variabili che si applicano solo a una destinazione denominata.  Nel nostro caso d'uso, si tratta dei server Oracle DB.


Oltre a questi file di variabili definiti dall'utente, esistono diversi file di variabili predefiniti che contengono parametri predefiniti che non richiedono modifiche, a meno che non siano strettamente necessari.  Le sezioni seguenti mostrano come configurare i file delle variabili definite dall'utente.

====


=== Configurazione dei file dei parametri

[%collapsible%open]
====
. Obiettivo Ansible `hosts` configurazione dei file:
+
[source, shell]
----
# Enter Oracle servers names to be deployed one by one, follow by each Oracle server public IP address, and ssh private key of admin user for the server.
[oracle]
ora_01 ansible_host=10.61.180.21 ansible_ssh_private_key_file=ora_01.pem
ora_02 ansible_host=10.61.180.23 ansible_ssh_private_key_file=ora_02.pem

----


. Globale `vars/vars.yml` configurazione dei file
+
[source, shell]
----
######################################################################
###### Oracle 19c deployment user configuration variables       ######
###### Consolidate all variables from ONTAP, linux and oracle   ######
######################################################################

###########################################
### ONTAP env specific config variables ###
###########################################

# Prerequisite to create three volumes in NetApp ONTAP storage from System Manager or cloud dashboard with following naming convention:
# db_hostname_u01 - Oracle binary
# db_hostname_u02 - Oracle data
# db_hostname_u03 - Oracle redo
# It is important to strictly follow the name convention or the automation will fail.


###########################################
### Linux env specific config variables ###
###########################################

redhat_sub_username: XXXXXXXX
redhat_sub_password: XXXXXXXX


####################################################
### DB env specific install and config variables ###
####################################################

# Database domain name
db_domain: solutions.netapp.com

# Set initial password for all required Oracle passwords. Change them after installation.
initial_pwd_all: XXXXXXXX

----


. Server DB locale `host_vars/host_name.yml` configurazione come ora_01.yml, ora_02.yml ...
+
[source, shell]
----
# User configurable Oracle host specific parameters

# Enter container database SID. By default, a container DB is created with 3 PDBs within the CDB
oracle_sid: NTAP1

# Enter database shared memory size or SGA. CDB is created with SGA at 75% of memory_limit, MB. The grand total of SGA should not exceed 75% available RAM on node.
memory_limit: 8192

# Local NFS lif ip address to access database volumes
nfs_lif: 172.30.136.68

----


====


=== Esecuzione del playbook

[%collapsible%open]
====
Il toolkit di automazione contiene in totale cinque playbook.  Ognuno di essi esegue blocchi di attività diversi e ha scopi diversi.

....
0-all_playbook.yml - execute playbooks from 1-4 in one playbook run.
1-ansible_requirements.yml - set up Ansible controller with required libs and collections.
2-linux_config.yml - execute Linux kernel configuration on Oracle DB servers.
4-oracle_config.yml - install and configure Oracle on DB servers and create a container database.
5-destroy.yml - optional to undo the environment to dismantle all.
....
Esistono tre opzioni per eseguire i playbook con i seguenti comandi.

. Eseguire tutti i playbook di distribuzione in un'unica esecuzione combinata.
+
[source, cli]
----
ansible-playbook -i hosts 0-all_playbook.yml -u azureuser -e @vars/vars.yml
----
. Eseguire i playbook uno alla volta con la sequenza numerica da 1 a 4.
+
[source, cli]]
----
ansible-playbook -i hosts 1-ansible_requirements.yml -u azureuser -e @vars/vars.yml
----
+
[source, cli]
----
ansible-playbook -i hosts 2-linux_config.yml -u azureuser -e @vars/vars.yml
----
+
[source, cli]
----
ansible-playbook -i hosts 4-oracle_config.yml -u azureuser -e @vars/vars.yml
----
. Eseguire 0-all_playbook.yml con un tag.
+
[source, cli]
----
ansible-playbook -i hosts 0-all_playbook.yml -u azureuser -e @vars/vars.yml -t ansible_requirements
----
+
[source, cli]
----
ansible-playbook -i hosts 0-all_playbook.yml -u azureuser -e @vars/vars.yml -t linux_config
----
+
[source, cli]
----
ansible-playbook -i hosts 0-all_playbook.yml -u azureuser -e @vars/vars.yml -t oracle_config
----
. Annulla l'ambiente
+
[source, cli]
----
ansible-playbook -i hosts 5-destroy.yml -u azureuser -e @vars/vars.yml
----


====


=== Convalida post-esecuzione

[%collapsible%open]
====
Dopo l'esecuzione del playbook, accedi alla VM del server Oracle DB per verificare che Oracle sia installato e configurato e che un database contenitore sia stato creato correttamente.  Di seguito è riportato un esempio di convalida del database Oracle sull'host ora-01.

. Convalida i mount NFS
+
....

[azureuser@ora-01 ~]$ cat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Thu Sep 14 11:04:01 2023
#
# Accessible filesystems, by reference, are maintained under '/dev/disk/'.
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.
#
# After editing this file, run 'systemctl daemon-reload' to update systemd
# units generated from this file.
#
/dev/mapper/rootvg-rootlv /                       xfs     defaults        0 0
UUID=268633bd-f9bb-446d-9a1d-8fca4609a1e1 /boot                   xfs     defaults        0 0
UUID=89D8-B037          /boot/efi               vfat    defaults,uid=0,gid=0,umask=077,shortname=winnt 0 2
/dev/mapper/rootvg-homelv /home                   xfs     defaults        0 0
/dev/mapper/rootvg-tmplv /tmp                    xfs     defaults        0 0
/dev/mapper/rootvg-usrlv /usr                    xfs     defaults        0 0
/dev/mapper/rootvg-varlv /var                    xfs     defaults        0 0
/mnt/swapfile swap swap defaults 0 0
172.30.136.68:/ora-01-u01 /u01 nfs rw,bg,hard,vers=3,proto=tcp,timeo=600,rsize=65536,wsize=65536 0 0
172.30.136.68:/ora-01-u02 /u02 nfs rw,bg,hard,vers=3,proto=tcp,timeo=600,rsize=65536,wsize=65536 0 0
172.30.136.68:/ora-01-u03 /u03 nfs rw,bg,hard,vers=3,proto=tcp,timeo=600,rsize=65536,wsize=65536 0 0

[azureuser@ora-01 ~]$ df -h
Filesystem                 Size  Used Avail Use% Mounted on
devtmpfs                   7.7G     0  7.7G   0% /dev
tmpfs                      7.8G     0  7.8G   0% /dev/shm
tmpfs                      7.8G  8.6M  7.7G   1% /run
tmpfs                      7.8G     0  7.8G   0% /sys/fs/cgroup
/dev/mapper/rootvg-rootlv   22G   17G  5.8G  74% /
/dev/mapper/rootvg-usrlv    10G  2.0G  8.1G  20% /usr
/dev/mapper/rootvg-varlv   8.0G  890M  7.2G  11% /var
/dev/sda1                  496M  106M  390M  22% /boot
/dev/mapper/rootvg-homelv 1014M   40M  975M   4% /home
/dev/sda15                 495M  5.9M  489M   2% /boot/efi
/dev/mapper/rootvg-tmplv    12G  8.4G  3.7G  70% /tmp
tmpfs                      1.6G     0  1.6G   0% /run/user/54321
172.30.136.68:/ora-01-u01  500G   11G  490G   3% /u01
172.30.136.68:/ora-01-u03  250G  1.2G  249G   1% /u03
172.30.136.68:/ora-01-u02  250G  7.1G  243G   3% /u02
tmpfs                      1.6G     0  1.6G   0% /run/user/1000

....
. Convalida l'ascoltatore Oracle
+
....

[azureuser@ora-01 ~]$ sudo su
[root@ora-01 azureuser]# su - oracle
Last login: Thu Feb  1 16:13:44 UTC 2024
[oracle@ora-01 ~]$ lsnrctl status listener.ntap1

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 01-FEB-2024 16:25:37

Copyright (c) 1991, 2022, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=ora-01.internal.cloudapp.net)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER.NTAP1
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                01-FEB-2024 16:13:49
Uptime                    0 days 0 hr. 11 min. 49 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.0.0/NTAP1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/ora-01/listener.ntap1/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=ora-01.hr2z2nbmhnqutdsxgscjtuxizd.jx.internal.cloudapp.net)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=ora-01.hr2z2nbmhnqutdsxgscjtuxizd.jx.internal.cloudapp.net)(PORT=5500))(Security=(my_wallet_directory=/u01/app/oracle/product/19.0.0/NTAP1/admin/NTAP1/xdb_wallet))(Presentation=HTTP)(Session=RAW))
Services Summary...
Service "104409ac02da6352e063bb891eacf34a.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "104412c14c2c63cae063bb891eacf64d.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "1044174670ad63ffe063bb891eac6b34.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "NTAP1.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "NTAP1XDB.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "ntap1_pdb1.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "ntap1_pdb2.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
Service "ntap1_pdb3.solutions.netapp.com" has 1 instance(s).
  Instance "NTAP1", status READY, has 1 handler(s) for this service...
The command completed successfully

....
. Convalida del database Oracle e dNFS
+
....

[oracle@ora-01 ~]$ cat /etc/oratab
#
# This file is used by ORACLE utilities.  It is created by root.sh
# and updated by either Database Configuration Assistant while creating
# a database or ASM Configuration Assistant while creating ASM instance.

# A colon, ':', is used as the field terminator.  A new line terminates
# the entry.  Lines beginning with a pound sign, '#', are comments.
#
# Entries are of the form:
#   $ORACLE_SID:$ORACLE_HOME:<N|Y>:
#
# The first and second fields are the system identifier and home
# directory of the database respectively.  The third field indicates
# to the dbstart utility that the database should , "Y", or should not,
# "N", be brought up at system boot time.
#
# Multiple entries with the same $ORACLE_SID are not allowed.
#
#
NTAP1:/u01/app/oracle/product/19.0.0/NTAP1:Y


[oracle@ora-01 ~]$ sqlplus / as sysdba

SQL*Plus: Release 19.0.0.0.0 - Production on Thu Feb 1 16:37:51 2024
Version 19.18.0.0.0

Copyright (c) 1982, 2022, Oracle.  All rights reserved.


Connected to:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.18.0.0.0

SQL> select name, open_mode, log_mode from v$database;

NAME      OPEN_MODE            LOG_MODE
--------- -------------------- ------------
NTAP1     READ WRITE           ARCHIVELOG

SQL> show pdbs

    CON_ID CON_NAME                       OPEN MODE  RESTRICTED
---------- ------------------------------ ---------- ----------
         2 PDB$SEED                       READ ONLY  NO
         3 NTAP1_PDB1                     READ WRITE NO
         4 NTAP1_PDB2                     READ WRITE NO
         5 NTAP1_PDB3                     READ WRITE NO
SQL> select name from v$datafile;

NAME
--------------------------------------------------------------------------------
/u02/oradata/NTAP1/system01.dbf
/u02/oradata/NTAP1/sysaux01.dbf
/u02/oradata/NTAP1/undotbs01.dbf
/u02/oradata/NTAP1/pdbseed/system01.dbf
/u02/oradata/NTAP1/pdbseed/sysaux01.dbf
/u02/oradata/NTAP1/users01.dbf
/u02/oradata/NTAP1/pdbseed/undotbs01.dbf
/u02/oradata/NTAP1/NTAP1_pdb1/system01.dbf
/u02/oradata/NTAP1/NTAP1_pdb1/sysaux01.dbf
/u02/oradata/NTAP1/NTAP1_pdb1/undotbs01.dbf
/u02/oradata/NTAP1/NTAP1_pdb1/users01.dbf

NAME
--------------------------------------------------------------------------------
/u02/oradata/NTAP1/NTAP1_pdb2/system01.dbf
/u02/oradata/NTAP1/NTAP1_pdb2/sysaux01.dbf
/u02/oradata/NTAP1/NTAP1_pdb2/undotbs01.dbf
/u02/oradata/NTAP1/NTAP1_pdb2/users01.dbf
/u02/oradata/NTAP1/NTAP1_pdb3/system01.dbf
/u02/oradata/NTAP1/NTAP1_pdb3/sysaux01.dbf
/u02/oradata/NTAP1/NTAP1_pdb3/undotbs01.dbf
/u02/oradata/NTAP1/NTAP1_pdb3/users01.dbf

19 rows selected.

SQL> select name from v$controlfile;

NAME
--------------------------------------------------------------------------------
/u02/oradata/NTAP1/control01.ctl
/u03/orareco/NTAP1/control02.ctl

SQL> select member from v$logfile;

MEMBER
--------------------------------------------------------------------------------
/u03/orareco/NTAP1/onlinelog/redo03.log
/u03/orareco/NTAP1/onlinelog/redo02.log
/u03/orareco/NTAP1/onlinelog/redo01.log

SQL> select svrname, dirname, nfsversion from v$dnfs_servers;

SVRNAME
--------------------------------------------------------------------------------
DIRNAME
--------------------------------------------------------------------------------
NFSVERSION
----------------
172.30.136.68
/ora-01-u02
NFSv3.0

172.30.136.68
/ora-01-u03
NFSv3.0

SVRNAME
--------------------------------------------------------------------------------
DIRNAME
--------------------------------------------------------------------------------
NFSVERSION
----------------

172.30.136.68
/ora-01-u01
NFSv3.0

....
. Accedi a Oracle Enterprise Manager Express per convalidare il database.
+
image:automation-ora-anf-nfs-em-001.png["Questa immagine fornisce la schermata di accesso per Oracle Enterprise Manager Express"] image:automation-ora-anf-nfs-em-002.png["Questa immagine fornisce la vista del database del contenitore da Oracle Enterprise Manager Express"]



====


=== Migrare il database Oracle su Azure

[%collapsible%open]
====
La migrazione del database Oracle da locale al cloud è un'operazione molto impegnativa.  Utilizzando la giusta strategia e l'automazione è possibile semplificare il processo e ridurre al minimo le interruzioni del servizio e i tempi di inattività.  Segui queste istruzioni dettagliatelink:../oracle/azure-ora-nfile-migration.html#converting-a-single-instance-non-cdb-to-a-pdb-in-a-multitenant-cdb["Migrazione del database da locale al cloud Azure"^] per guidare il tuo percorso di migrazione del database.

====


=== Backup, ripristino e clonazione di Oracle con SnapCenter

[%collapsible%open]
====
NetApp consiglia lo strumento SnapCenter UI per gestire il database Oracle distribuito nel cloud Azure.  Fare riferimento a TR-4988:link:../oracle/snapctr-ora-azure-anf.html["Backup, ripristino e clonazione del database Oracle su ANF con SnapCenter"^] per i dettagli.

====


== Dove trovare ulteriori informazioni

Per saperne di più sulle informazioni descritte nel presente documento, consultare i seguenti documenti e/o siti web:

* Backup, ripristino e clonazione del database Oracle su ANF con SnapCenter
+
link:../oracle/snapctr-ora-azure-anf.html["Backup, ripristino e clonazione del database Oracle su ANF con SnapCenter"^]

* Azure NetApp Files
+
link:https://azure.microsoft.com/en-us/products/netapp["https://azure.microsoft.com/en-us/products/netapp"^]

* Distribuzione di Oracle Direct NFS
+
link:https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/deploying-dnfs.html#GUID-D06079DB-8C71-4F68-A1E3-A75D7D96DCE2["https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/deploying-dnfs.html#GUID-D06079DB-8C71-4F68-A1E3-A75D7D96DCE2"^]

* Installazione e configurazione del database Oracle tramite file di risposta
+
link:https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/installing-and-configuring-oracle-database-using-response-files.html#GUID-D53355E9-E901-4224-9A2A-B882070EDDF7["https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/installing-and-configuring-oracle-database-using-response-files.html#GUID-D53355E9-E901-4224-9A2A-B882070EDDF7"^]


